(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=i(l);fetch(l.href,s)}})();function qu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Us={exports:{}},da={},Qs={exports:{}},Ke={};var Wd;function Jm(){if(Wd)return Ke;Wd=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function w(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function O(S,B,C){this.props=S,this.context=B,this.refs=N,this.updater=C||v}O.prototype.isReactComponent={},O.prototype.setState=function(S,B){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,B,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function _(){}_.prototype=O.prototype;function Q(S,B,C){this.props=S,this.context=B,this.refs=N,this.updater=C||v}var W=Q.prototype=new _;W.constructor=Q,D(W,O.prototype),W.isPureReactComponent=!0;var de=Array.isArray,pe=Object.prototype.hasOwnProperty,R={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function ve(S,B,C){var Y,ee={},X=null,ne=null;if(B!=null)for(Y in B.ref!==void 0&&(ne=B.ref),B.key!==void 0&&(X=""+B.key),B)pe.call(B,Y)&&!ce.hasOwnProperty(Y)&&(ee[Y]=B[Y]);var q=arguments.length-2;if(q===1)ee.children=C;else if(1<q){for(var ae=Array(q),he=0;he<q;he++)ae[he]=arguments[he+2];ee.children=ae}if(S&&S.defaultProps)for(Y in q=S.defaultProps,q)ee[Y]===void 0&&(ee[Y]=q[Y]);return{$$typeof:r,type:S,key:X,ref:ne,props:ee,_owner:R.current}}function be(S,B){return{$$typeof:r,type:S.type,key:B,ref:S.ref,props:S.props,_owner:S._owner}}function me(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function oe(S){var B={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(C){return B[C]})}var le=/\/+/g;function Te(S,B){return typeof S=="object"&&S!==null&&S.key!=null?oe(""+S.key):B.toString(36)}function ue(S,B,C,Y,ee){var X=typeof S;(X==="undefined"||X==="boolean")&&(S=null);var ne=!1;if(S===null)ne=!0;else switch(X){case"string":case"number":ne=!0;break;case"object":switch(S.$$typeof){case r:case n:ne=!0}}if(ne)return ne=S,ee=ee(ne),S=Y===""?"."+Te(ne,0):Y,de(ee)?(C="",S!=null&&(C=S.replace(le,"$&/")+"/"),ue(ee,B,C,"",function(he){return he})):ee!=null&&(me(ee)&&(ee=be(ee,C+(!ee.key||ne&&ne.key===ee.key?"":(""+ee.key).replace(le,"$&/")+"/")+S)),B.push(ee)),1;if(ne=0,Y=Y===""?".":Y+":",de(S))for(var q=0;q<S.length;q++){X=S[q];var ae=Y+Te(X,q);ne+=ue(X,B,C,ae,ee)}else if(ae=w(S),typeof ae=="function")for(S=ae.call(S),q=0;!(X=S.next()).done;)X=X.value,ae=Y+Te(X,q++),ne+=ue(X,B,C,ae,ee);else if(X==="object")throw B=String(S),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ne}function G(S,B,C){if(S==null)return S;var Y=[],ee=0;return ue(S,Y,"","",function(X){return B.call(C,X,ee++)}),Y}function se(S){if(S._status===-1){var B=S._result;B=B(),B.then(function(C){(S._status===0||S._status===-1)&&(S._status=1,S._result=C)},function(C){(S._status===0||S._status===-1)&&(S._status=2,S._result=C)}),S._status===-1&&(S._status=0,S._result=B)}if(S._status===1)return S._result.default;throw S._result}var Ce={current:null},Z={transition:null},ge={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Z,ReactCurrentOwner:R};function y(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:G,forEach:function(S,B,C){G(S,function(){B.apply(this,arguments)},C)},count:function(S){var B=0;return G(S,function(){B++}),B},toArray:function(S){return G(S,function(B){return B})||[]},only:function(S){if(!me(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ke.Component=O,Ke.Fragment=i,Ke.Profiler=l,Ke.PureComponent=Q,Ke.StrictMode=o,Ke.Suspense=f,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ke.act=y,Ke.cloneElement=function(S,B,C){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var Y=D({},S.props),ee=S.key,X=S.ref,ne=S._owner;if(B!=null){if(B.ref!==void 0&&(X=B.ref,ne=R.current),B.key!==void 0&&(ee=""+B.key),S.type&&S.type.defaultProps)var q=S.type.defaultProps;for(ae in B)pe.call(B,ae)&&!ce.hasOwnProperty(ae)&&(Y[ae]=B[ae]===void 0&&q!==void 0?q[ae]:B[ae])}var ae=arguments.length-2;if(ae===1)Y.children=C;else if(1<ae){q=Array(ae);for(var he=0;he<ae;he++)q[he]=arguments[he+2];Y.children=q}return{$$typeof:r,type:S.type,key:ee,ref:X,props:Y,_owner:ne}},Ke.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:s,_context:S},S.Consumer=S},Ke.createElement=ve,Ke.createFactory=function(S){var B=ve.bind(null,S);return B.type=S,B},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(S){return{$$typeof:d,render:S}},Ke.isValidElement=me,Ke.lazy=function(S){return{$$typeof:m,_payload:{_status:-1,_result:S},_init:se}},Ke.memo=function(S,B){return{$$typeof:g,type:S,compare:B===void 0?null:B}},Ke.startTransition=function(S){var B=Z.transition;Z.transition={};try{S()}finally{Z.transition=B}},Ke.unstable_act=y,Ke.useCallback=function(S,B){return Ce.current.useCallback(S,B)},Ke.useContext=function(S){return Ce.current.useContext(S)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(S){return Ce.current.useDeferredValue(S)},Ke.useEffect=function(S,B){return Ce.current.useEffect(S,B)},Ke.useId=function(){return Ce.current.useId()},Ke.useImperativeHandle=function(S,B,C){return Ce.current.useImperativeHandle(S,B,C)},Ke.useInsertionEffect=function(S,B){return Ce.current.useInsertionEffect(S,B)},Ke.useLayoutEffect=function(S,B){return Ce.current.useLayoutEffect(S,B)},Ke.useMemo=function(S,B){return Ce.current.useMemo(S,B)},Ke.useReducer=function(S,B,C){return Ce.current.useReducer(S,B,C)},Ke.useRef=function(S){return Ce.current.useRef(S)},Ke.useState=function(S){return Ce.current.useState(S)},Ke.useSyncExternalStore=function(S,B,C){return Ce.current.useSyncExternalStore(S,B,C)},Ke.useTransition=function(){return Ce.current.useTransition()},Ke.version="18.3.1",Ke}var zd;function Uu(){return zd||(zd=1,Qs.exports=Jm()),Qs.exports}var Fd;function ey(){if(Fd)return da;Fd=1;var r=Uu(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,g){var m,x={},w=null,v=null;g!==void 0&&(w=""+g),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(v=f.ref);for(m in f)o.call(f,m)&&!s.hasOwnProperty(m)&&(x[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)x[m]===void 0&&(x[m]=f[m]);return{$$typeof:n,type:d,key:w,ref:v,props:x,_owner:l.current}}return da.Fragment=i,da.jsx=c,da.jsxs=c,da}var Kd;function ty(){return Kd||(Kd=1,Us.exports=ey()),Us.exports}var b=ty(),U=Uu();const ny=qu(U);var Fo={},$s={exports:{}},un={},Vs={exports:{}},Gs={};var Yd;function ry(){return Yd||(Yd=1,(function(r){function n(Z,ge){var y=Z.length;Z.push(ge);e:for(;0<y;){var S=y-1>>>1,B=Z[S];if(0<l(B,ge))Z[S]=ge,Z[y]=B,y=S;else break e}}function i(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var ge=Z[0],y=Z.pop();if(y!==ge){Z[0]=y;e:for(var S=0,B=Z.length,C=B>>>1;S<C;){var Y=2*(S+1)-1,ee=Z[Y],X=Y+1,ne=Z[X];if(0>l(ee,y))X<B&&0>l(ne,ee)?(Z[S]=ne,Z[X]=y,S=X):(Z[S]=ee,Z[Y]=y,S=Y);else if(X<B&&0>l(ne,y))Z[S]=ne,Z[X]=y,S=X;else break e}}return ge}function l(Z,ge){var y=Z.sortIndex-ge.sortIndex;return y!==0?y:Z.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var f=[],g=[],m=1,x=null,w=3,v=!1,D=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(Z){for(var ge=i(g);ge!==null;){if(ge.callback===null)o(g);else if(ge.startTime<=Z)o(g),ge.sortIndex=ge.expirationTime,n(f,ge);else break;ge=i(g)}}function de(Z){if(N=!1,W(Z),!D)if(i(f)!==null)D=!0,se(pe);else{var ge=i(g);ge!==null&&Ce(de,ge.startTime-Z)}}function pe(Z,ge){D=!1,N&&(N=!1,_(ve),ve=-1),v=!0;var y=w;try{for(W(ge),x=i(f);x!==null&&(!(x.expirationTime>ge)||Z&&!oe());){var S=x.callback;if(typeof S=="function"){x.callback=null,w=x.priorityLevel;var B=S(x.expirationTime<=ge);ge=r.unstable_now(),typeof B=="function"?x.callback=B:x===i(f)&&o(f),W(ge)}else o(f);x=i(f)}if(x!==null)var C=!0;else{var Y=i(g);Y!==null&&Ce(de,Y.startTime-ge),C=!1}return C}finally{x=null,w=y,v=!1}}var R=!1,ce=null,ve=-1,be=5,me=-1;function oe(){return!(r.unstable_now()-me<be)}function le(){if(ce!==null){var Z=r.unstable_now();me=Z;var ge=!0;try{ge=ce(!0,Z)}finally{ge?Te():(R=!1,ce=null)}}else R=!1}var Te;if(typeof Q=="function")Te=function(){Q(le)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,G=ue.port2;ue.port1.onmessage=le,Te=function(){G.postMessage(null)}}else Te=function(){O(le,0)};function se(Z){ce=Z,R||(R=!0,Te())}function Ce(Z,ge){ve=O(function(){Z(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){D||v||(D=!0,se(pe))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return i(f)},r.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var y=w;w=ge;try{return Z()}finally{w=y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,ge){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var y=w;w=Z;try{return ge()}finally{w=y}},r.unstable_scheduleCallback=function(Z,ge,y){var S=r.unstable_now();switch(typeof y=="object"&&y!==null?(y=y.delay,y=typeof y=="number"&&0<y?S+y:S):y=S,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=y+B,Z={id:m++,callback:ge,priorityLevel:Z,startTime:y,expirationTime:B,sortIndex:-1},y>S?(Z.sortIndex=y,n(g,Z),i(f)===null&&Z===i(g)&&(N?(_(ve),ve=-1):N=!0,Ce(de,y-S))):(Z.sortIndex=B,n(f,Z),D||v||(D=!0,se(pe))),Z},r.unstable_shouldYield=oe,r.unstable_wrapCallback=function(Z){var ge=w;return function(){var y=w;w=ge;try{return Z.apply(this,arguments)}finally{w=y}}}})(Gs)),Gs}var qd;function iy(){return qd||(qd=1,Vs.exports=ry()),Vs.exports}var Ud;function ay(){if(Ud)return un;Ud=1;var r=Uu(),n=iy();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function w(e){return f.call(x,e)?!0:f.call(m,e)?!1:g.test(e)?x[e]=!0:(m[e]=!0,!1)}function v(e,t,a,u){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D(e,t,a,u){if(t===null||typeof t>"u"||v(e,t,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,a,u,h,p,k){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=k}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,Q);O[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,Q);O[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,Q);O[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function W(e,t,a,u){var h=O.hasOwnProperty(t)?O[t]:null;(h!==null?h.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D(t,a,h,u)&&(a=null),u||h===null?w(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):h.mustUseProperty?e[h.propertyName]=a===null?h.type===3?!1:"":a:(t=h.attributeName,u=h.attributeNamespace,a===null?e.removeAttribute(t):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,u?e.setAttributeNS(u,t,a):e.setAttribute(t,a))))}var de=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),R=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),oe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var y=Object.assign,S;function B(e){if(S===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var C=!1;function Y(e,t){if(!e||C)return"";C=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(j){var u=j}Reflect.construct(e,[],t)}else{try{t.call()}catch(j){u=j}e.call(t.prototype)}else{try{throw Error()}catch(j){u=j}e()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),p=u.stack.split(`
`),k=h.length-1,T=p.length-1;1<=k&&0<=T&&h[k]!==p[T];)T--;for(;1<=k&&0<=T;k--,T--)if(h[k]!==p[T]){if(k!==1||T!==1)do if(k--,T--,0>T||h[k]!==p[T]){var E=`
`+h[k].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=k&&0<=T);break}}}finally{C=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?B(e):""}function ee(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1),e;case 11:return e=Y(e.type.render,!1),e;case 1:return e=Y(e.type,!0),e;default:return""}}function X(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case R:return"Portal";case be:return"Profiler";case ve:return"StrictMode";case Te:return"Suspense";case ue:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oe:return(e.displayName||"Context")+".Consumer";case me:return(e._context.displayName||"Context")+".Provider";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}function ne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(t);case 8:return t===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ae(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function he(e){var t=ae(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(k){u=""+k,p.call(this,k)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ie(e){e._valueTracker||(e._valueTracker=he(e))}function Fe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),u="";return e&&(u=ae(e)?e.checked?"true":"false":e.value),e=u,e!==a?(t.setValue(e),!0):!1}function Ue(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Re(e,t){var a=t.checked;return y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Ze(e,t){var a=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;a=q(t.value!=null?t.value:a),e._wrapperState={initialChecked:u,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gt(e,t){t=t.checked,t!=null&&W(e,"checked",t,!1)}function ut(e,t){gt(e,t);var a=q(t.value),u=t.type;if(a!=null)u==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vt(e,t.type,a):t.hasOwnProperty("defaultValue")&&vt(e,t.type,q(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function St(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function vt(e,t,a){(t!=="number"||Ue(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var at=Array.isArray;function Ut(e,t,a,u){if(e=e.options,t){t={};for(var h=0;h<a.length;h++)t["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=t.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&u&&(e[a].defaultSelected=!0)}else{for(a=""+q(a),t=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Nt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pn(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(i(92));if(at(a)){if(1<a.length)throw Error(i(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:q(a)}}function nn(e,t){var a=q(t.value),u=q(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),u!=null&&(e.defaultValue=""+u)}function Fn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function te(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ee,_e=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,u,h){MSApp.execUnsafeLocalFunction(function(){return e(t,a,u,h)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ee=Ee||document.createElement("div"),Ee.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ee.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ze(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ot=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(e){Ot.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xe[t]=Xe[e]})});function Dt(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Xe.hasOwnProperty(e)&&Xe[e]?(""+t).trim():t+"px"}function Cn(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var u=a.indexOf("--")===0,h=Dt(a,t[a],u);a==="float"&&(a="cssFloat"),u?e.setProperty(a,h):e[a]=h}}var fn=y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mt(e,t){if(t){if(fn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Jt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function Kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xn=null,Yn=null,Ye=null;function ot(e){if(e=Xi(e)){if(typeof Xn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=to(t),Xn(e.stateNode,e.type,t))}}function pt(e){Yn?Ye?Ye.push(e):Ye=[e]:Yn=e}function jt(){if(Yn){var e=Yn,t=Ye;if(Ye=Yn=null,ot(e),t)for(e=0;e<t.length;e++)ot(t[e])}}function Qt(e,t){return e(t)}function Wt(){}var Pt=!1;function L(e,t,a){if(Pt)return e(t,a);Pt=!0;try{return Qt(e,t,a)}finally{Pt=!1,(Yn!==null||Ye!==null)&&(Wt(),jt())}}function It(e,t){var a=e.stateNode;if(a===null)return null;var u=to(a);if(u===null)return null;a=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Ge=!1;if(d)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Ge=!1}function re(e,t,a,u,h,p,k,T,E){var j=Array.prototype.slice.call(arguments,3);try{t.apply(a,j)}catch(V){this.onError(V)}}var Bt=!1,Je=null,zt=!1,Zn=null,_t={onError:function(e){Bt=!0,Je=e}};function Ia(e,t,a,u,h,p,k,T,E){Bt=!1,Je=null,re.apply(_t,arguments)}function Ba(e,t,a,u,h,p,k,T,E){if(Ia.apply(this,arguments),Bt){if(Bt){var j=Je;Bt=!1,Je=null}else throw Error(i(198));zt||(zt=!0,Zn=j)}}function ke(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function _a(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pi(e){if(ke(e)!==e)throw Error(i(188))}function ul(e){var t=e.alternate;if(!t){if(t=ke(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,u=t;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return Pi(h),e;if(p===u)return Pi(h),t;p=p.sibling}throw Error(i(188))}if(a.return!==u.return)a=h,u=p;else{for(var k=!1,T=h.child;T;){if(T===a){k=!0,a=h,u=p;break}if(T===u){k=!0,u=h,a=p;break}T=T.sibling}if(!k){for(T=p.child;T;){if(T===a){k=!0,a=p,u=h;break}if(T===u){k=!0,u=p,a=h;break}T=T.sibling}if(!k)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function Ii(e){return e=ul(e),e!==null?Aa(e):null}function Aa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Aa(e);if(t!==null)return t;e=e.sibling}return null}var Ma=n.unstable_scheduleCallback,La=n.unstable_cancelCallback,Ra=n.unstable_shouldYield,ja=n.unstable_requestPaint,ct=n.unstable_now,cl=n.unstable_getCurrentPriorityLevel,Bi=n.unstable_ImmediatePriority,_i=n.unstable_UserBlockingPriority,ur=n.unstable_NormalPriority,hl=n.unstable_LowPriority,Wa=n.unstable_IdlePriority,Mr=null,Tn=null;function Ft(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Mr,e,void 0,(e.current.flags&128)===128)}catch{}}var I=Math.clz32?Math.clz32:Oe,z=Math.log,F=Math.LN2;function Oe(e){return e>>>=0,e===0?32:31-(z(e)/F|0)|0}var Ne=64,qe=4194304;function mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jn(e,t){var a=e.pendingLanes;if(a===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes,k=a&268435455;if(k!==0){var T=k&~h;T!==0?u=mn(T):(p&=k,p!==0&&(u=mn(p)))}else k=a&~h,k!==0?u=mn(k):p!==0&&(u=mn(p));if(u===0)return 0;if(t!==0&&t!==u&&(t&h)===0&&(h=u&-u,p=t&-t,h>=p||h===16&&(p&4194240)!==0))return t;if((u&4)!==0&&(u|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)a=31-I(t),h=1<<a,u|=e[a],t&=~h;return u}function vg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xg(e,t){for(var a=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var k=31-I(p),T=1<<k,E=h[k];E===-1?((T&a)===0||(T&u)!==0)&&(h[k]=vg(T,t)):E<=t&&(e.expiredLanes|=T),p&=~T}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mc(){var e=Ne;return Ne<<=1,(Ne&4194240)===0&&(Ne=64),e}function pl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ai(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-I(t),e[t]=a}function kg(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<a;){var h=31-I(a),p=1<<h;t[h]=0,u[h]=-1,e[h]=-1,a&=~p}}function fl(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var u=31-I(a),h=1<<u;h&t|e[u]&t&&(e[u]|=t),a&=~h}}var He=0;function yc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var vc,gl,xc,kc,wc,ml=!1,za=[],cr=null,hr=null,dr=null,Mi=new Map,Li=new Map,pr=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Ri(e,t,a,u,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},t!==null&&(t=Xi(t),t!==null&&gl(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Sg(e,t,a,u,h){switch(t){case"focusin":return cr=Ri(cr,e,t,a,u,h),!0;case"dragenter":return hr=Ri(hr,e,t,a,u,h),!0;case"mouseover":return dr=Ri(dr,e,t,a,u,h),!0;case"pointerover":var p=h.pointerId;return Mi.set(p,Ri(Mi.get(p)||null,e,t,a,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Li.set(p,Ri(Li.get(p)||null,e,t,a,u,h)),!0}return!1}function bc(e){var t=Lr(e.target);if(t!==null){var a=ke(t);if(a!==null){if(t=a.tag,t===13){if(t=_a(a),t!==null){e.blockedOn=t,wc(e.priority,function(){xc(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);bt=u,a.target.dispatchEvent(u),bt=null}else return t=Xi(a),t!==null&&gl(t),e.blockedOn=a,!1;t.shift()}return!0}function Cc(e,t,a){Fa(e)&&a.delete(t)}function bg(){ml=!1,cr!==null&&Fa(cr)&&(cr=null),hr!==null&&Fa(hr)&&(hr=null),dr!==null&&Fa(dr)&&(dr=null),Mi.forEach(Cc),Li.forEach(Cc)}function ji(e,t){e.blockedOn===t&&(e.blockedOn=null,ml||(ml=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bg)))}function Wi(e){function t(h){return ji(h,e)}if(0<za.length){ji(za[0],e);for(var a=1;a<za.length;a++){var u=za[a];u.blockedOn===e&&(u.blockedOn=null)}}for(cr!==null&&ji(cr,e),hr!==null&&ji(hr,e),dr!==null&&ji(dr,e),Mi.forEach(t),Li.forEach(t),a=0;a<pr.length;a++)u=pr[a],u.blockedOn===e&&(u.blockedOn=null);for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)bc(a),a.blockedOn===null&&pr.shift()}var Jr=de.ReactCurrentBatchConfig,Ka=!0;function Cg(e,t,a,u){var h=He,p=Jr.transition;Jr.transition=null;try{He=1,yl(e,t,a,u)}finally{He=h,Jr.transition=p}}function Tg(e,t,a,u){var h=He,p=Jr.transition;Jr.transition=null;try{He=4,yl(e,t,a,u)}finally{He=h,Jr.transition=p}}function yl(e,t,a,u){if(Ka){var h=vl(e,t,a,u);if(h===null)Ml(e,t,u,Ya,a),Sc(e,u);else if(Sg(h,e,t,a,u))u.stopPropagation();else if(Sc(e,u),t&4&&-1<wg.indexOf(e)){for(;h!==null;){var p=Xi(h);if(p!==null&&vc(p),p=vl(e,t,a,u),p===null&&Ml(e,t,u,Ya,a),p===h)break;h=p}h!==null&&u.stopPropagation()}else Ml(e,t,u,null,a)}}var Ya=null;function vl(e,t,a,u){if(Ya=null,e=Kn(u),e=Lr(e),e!==null)if(t=ke(e),t===null)e=null;else if(a=t.tag,a===13){if(e=_a(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ya=e,null}function Tc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cl()){case Bi:return 1;case _i:return 4;case ur:case hl:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var fr=null,xl=null,qa=null;function Ec(){if(qa)return qa;var e,t=xl,a=t.length,u,h="value"in fr?fr.value:fr.textContent,p=h.length;for(e=0;e<a&&t[e]===h[e];e++);var k=a-e;for(u=1;u<=k&&t[a-u]===h[p-u];u++);return qa=h.slice(e,1<u?1-u:void 0)}function Ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qa(){return!0}function Nc(){return!1}function yn(e){function t(a,u,h,p,k){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=k,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Qa:Nc,this.isPropagationStopped=Nc,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=yn(ei),zi=y({},ei,{view:0,detail:0}),Eg=yn(zi),wl,Sl,Fi,$a=y({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(wl=e.screenX-Fi.screenX,Sl=e.screenY-Fi.screenY):Sl=wl=0,Fi=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),Oc=yn($a),Ng=y({},$a,{dataTransfer:0}),Og=yn(Ng),Dg=y({},zi,{relatedTarget:0}),bl=yn(Dg),Pg=y({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=yn(Pg),Bg=y({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_g=yn(Bg),Ag=y({},ei,{data:0}),Dc=yn(Ag),Mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rg[e])?!!t[e]:!1}function Cl(){return jg}var Wg=y({},zi,{key:function(e){if(e.key){var t=Mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=yn(Wg),Fg=y({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=yn(Fg),Kg=y({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Yg=yn(Kg),qg=y({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ug=yn(qg),Qg=y({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=yn(Qg),Vg=[9,13,27,32],Tl=d&&"CompositionEvent"in window,Ki=null;d&&"documentMode"in document&&(Ki=document.documentMode);var Gg=d&&"TextEvent"in window&&!Ki,Ic=d&&(!Tl||Ki&&8<Ki&&11>=Ki),Bc=" ",_c=!1;function Ac(e,t){switch(e){case"keyup":return Vg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function Hg(e,t){switch(e){case"compositionend":return Mc(t);case"keypress":return t.which!==32?null:(_c=!0,Bc);case"textInput":return e=t.data,e===Bc&&_c?null:e;default:return null}}function Xg(e,t){if(ti)return e==="compositionend"||!Tl&&Ac(e,t)?(e=Ec(),qa=xl=fr=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ic&&t.locale!=="ko"?null:t.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zg[e.type]:t==="textarea"}function Rc(e,t,a,u){pt(u),t=Za(t,"onChange"),0<t.length&&(a=new kl("onChange","change",null,a,u),e.push({event:a,listeners:t}))}var Yi=null,qi=null;function Jg(e){th(e,0)}function Va(e){var t=oi(e);if(Fe(t))return e}function em(e,t){if(e==="change")return t}var jc=!1;if(d){var El;if(d){var Nl="oninput"in document;if(!Nl){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Nl=typeof Wc.oninput=="function"}El=Nl}else El=!1;jc=El&&(!document.documentMode||9<document.documentMode)}function zc(){Yi&&(Yi.detachEvent("onpropertychange",Fc),qi=Yi=null)}function Fc(e){if(e.propertyName==="value"&&Va(qi)){var t=[];Rc(t,qi,e,Kn(e)),L(Jg,t)}}function tm(e,t,a){e==="focusin"?(zc(),Yi=t,qi=a,Yi.attachEvent("onpropertychange",Fc)):e==="focusout"&&zc()}function nm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Va(qi)}function rm(e,t){if(e==="click")return Va(t)}function im(e,t){if(e==="input"||e==="change")return Va(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:am;function Ui(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),u=Object.keys(t);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!f.call(t,h)||!Mn(e[h],t[h]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var a=Kc(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=t&&u>=t)return{node:a,offset:t-e};e=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kc(a)}}function qc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(){for(var e=window,t=Ue();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ue(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function om(e){var t=Uc(),a=e.focusedElem,u=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&qc(a.ownerDocument.documentElement,a)){if(u!==null&&Ol(a)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=a.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!e.extend&&p>u&&(h=u,u=p,p=h),h=Yc(a,p);var k=Yc(a,u);h&&k&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==k.node||e.focusOffset!==k.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),p>u?(e.addRange(t),e.extend(k.node,k.offset)):(t.setEnd(k.node,k.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lm=d&&"documentMode"in document&&11>=document.documentMode,ni=null,Dl=null,Qi=null,Pl=!1;function Qc(e,t,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pl||ni==null||ni!==Ue(u)||(u=ni,"selectionStart"in u&&Ol(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qi&&Ui(Qi,u)||(Qi=u,u=Za(Dl,"onSelect"),0<u.length&&(t=new kl("onSelect","select",null,t,a),e.push({event:t,listeners:u}),t.target=ni)))}function Ga(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ri={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Il={},$c={};d&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Ha(e){if(Il[e])return Il[e];if(!ri[e])return e;var t=ri[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in $c)return Il[e]=t[a];return e}var Vc=Ha("animationend"),Gc=Ha("animationiteration"),Hc=Ha("animationstart"),Xc=Ha("transitionend"),Zc=new Map,Jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Zc.set(e,t),s(t,[e])}for(var Bl=0;Bl<Jc.length;Bl++){var _l=Jc[Bl],sm=_l.toLowerCase(),um=_l[0].toUpperCase()+_l.slice(1);gr(sm,"on"+um)}gr(Vc,"onAnimationEnd"),gr(Gc,"onAnimationIteration"),gr(Hc,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(Xc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cm=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function eh(e,t,a){var u=e.type||"unknown-event";e.currentTarget=a,Ba(u,t,void 0,e),e.currentTarget=null}function th(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],h=u.event;u=u.listeners;e:{var p=void 0;if(t)for(var k=u.length-1;0<=k;k--){var T=u[k],E=T.instance,j=T.currentTarget;if(T=T.listener,E!==p&&h.isPropagationStopped())break e;eh(h,T,j),p=E}else for(k=0;k<u.length;k++){if(T=u[k],E=T.instance,j=T.currentTarget,T=T.listener,E!==p&&h.isPropagationStopped())break e;eh(h,T,j),p=E}}}if(zt)throw e=Zn,zt=!1,Zn=null,e}function rt(e,t){var a=t[Fl];a===void 0&&(a=t[Fl]=new Set);var u=e+"__bubble";a.has(u)||(nh(t,e,2,!1),a.add(u))}function Al(e,t,a){var u=0;t&&(u|=4),nh(a,e,u,t)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Xa]){e[Xa]=!0,o.forEach(function(a){a!=="selectionchange"&&(cm.has(a)||Al(a,!1,e),Al(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xa]||(t[Xa]=!0,Al("selectionchange",!1,t))}}function nh(e,t,a,u){switch(Tc(t)){case 1:var h=Cg;break;case 4:h=Tg;break;default:h=yl}a=h.bind(null,t,a,e),h=void 0,!Ge||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(t,a,{capture:!0,passive:h}):e.addEventListener(t,a,!0):h!==void 0?e.addEventListener(t,a,{passive:h}):e.addEventListener(t,a,!1)}function Ml(e,t,a,u,h){var p=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var k=u.tag;if(k===3||k===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(k===4)for(k=u.return;k!==null;){var E=k.tag;if((E===3||E===4)&&(E=k.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;k=k.return}for(;T!==null;){if(k=Lr(T),k===null)return;if(E=k.tag,E===5||E===6){u=p=k;continue e}T=T.parentNode}}u=u.return}L(function(){var j=p,V=Kn(a),H=[];e:{var $=Zc.get(e);if($!==void 0){var fe=kl,xe=e;switch(e){case"keypress":if(Ua(a)===0)break e;case"keydown":case"keyup":fe=zg;break;case"focusin":xe="focus",fe=bl;break;case"focusout":xe="blur",fe=bl;break;case"beforeblur":case"afterblur":fe=bl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Yg;break;case Vc:case Gc:case Hc:fe=Ig;break;case Xc:fe=Ug;break;case"scroll":fe=Eg;break;case"wheel":fe=$g;break;case"copy":case"cut":case"paste":fe=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Pc}var we=(t&4)!==0,yt=!we&&e==="scroll",A=we?$!==null?$+"Capture":null:$;we=[];for(var P=j,M;P!==null;){M=P;var ie=M.stateNode;if(M.tag===5&&ie!==null&&(M=ie,A!==null&&(ie=It(P,A),ie!=null&&we.push(Gi(P,ie,M)))),yt)break;P=P.return}0<we.length&&($=new fe($,xe,null,a,V),H.push({event:$,listeners:we}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",$&&a!==bt&&(xe=a.relatedTarget||a.fromElement)&&(Lr(xe)||xe[er]))break e;if((fe||$)&&($=V.window===V?V:($=V.ownerDocument)?$.defaultView||$.parentWindow:window,fe?(xe=a.relatedTarget||a.toElement,fe=j,xe=xe?Lr(xe):null,xe!==null&&(yt=ke(xe),xe!==yt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=j),fe!==xe)){if(we=Oc,ie="onMouseLeave",A="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(we=Pc,ie="onPointerLeave",A="onPointerEnter",P="pointer"),yt=fe==null?$:oi(fe),M=xe==null?$:oi(xe),$=new we(ie,P+"leave",fe,a,V),$.target=yt,$.relatedTarget=M,ie=null,Lr(V)===j&&(we=new we(A,P+"enter",xe,a,V),we.target=M,we.relatedTarget=yt,ie=we),yt=ie,fe&&xe)t:{for(we=fe,A=xe,P=0,M=we;M;M=ii(M))P++;for(M=0,ie=A;ie;ie=ii(ie))M++;for(;0<P-M;)we=ii(we),P--;for(;0<M-P;)A=ii(A),M--;for(;P--;){if(we===A||A!==null&&we===A.alternate)break t;we=ii(we),A=ii(A)}we=null}else we=null;fe!==null&&rh(H,$,fe,we,!1),xe!==null&&yt!==null&&rh(H,yt,xe,we,!0)}}e:{if($=j?oi(j):window,fe=$.nodeName&&$.nodeName.toLowerCase(),fe==="select"||fe==="input"&&$.type==="file")var Se=em;else if(Lc($))if(jc)Se=im;else{Se=nm;var De=tm}else(fe=$.nodeName)&&fe.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Se=rm);if(Se&&(Se=Se(e,j))){Rc(H,Se,a,V);break e}De&&De(e,$,j),e==="focusout"&&(De=$._wrapperState)&&De.controlled&&$.type==="number"&&vt($,"number",$.value)}switch(De=j?oi(j):window,e){case"focusin":(Lc(De)||De.contentEditable==="true")&&(ni=De,Dl=j,Qi=null);break;case"focusout":Qi=Dl=ni=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,Qc(H,a,V);break;case"selectionchange":if(lm)break;case"keydown":case"keyup":Qc(H,a,V)}var Pe;if(Tl)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ti?Ac(e,a)&&(Ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ic&&a.locale!=="ko"&&(ti||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ti&&(Pe=Ec()):(fr=V,xl="value"in fr?fr.value:fr.textContent,ti=!0)),De=Za(j,Ae),0<De.length&&(Ae=new Dc(Ae,e,null,a,V),H.push({event:Ae,listeners:De}),Pe?Ae.data=Pe:(Pe=Mc(a),Pe!==null&&(Ae.data=Pe)))),(Pe=Gg?Hg(e,a):Xg(e,a))&&(j=Za(j,"onBeforeInput"),0<j.length&&(V=new Dc("onBeforeInput","beforeinput",null,a,V),H.push({event:V,listeners:j}),V.data=Pe))}th(H,t)})}function Gi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Za(e,t){for(var a=t+"Capture",u=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=It(e,a),p!=null&&u.unshift(Gi(e,p,h)),p=It(e,t),p!=null&&u.push(Gi(e,p,h))),e=e.return}return u}function ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rh(e,t,a,u,h){for(var p=t._reactName,k=[];a!==null&&a!==u;){var T=a,E=T.alternate,j=T.stateNode;if(E!==null&&E===u)break;T.tag===5&&j!==null&&(T=j,h?(E=It(a,p),E!=null&&k.unshift(Gi(a,E,T))):h||(E=It(a,p),E!=null&&k.push(Gi(a,E,T)))),a=a.return}k.length!==0&&e.push({event:t,listeners:k})}var hm=/\r\n?/g,dm=/\u0000|\uFFFD/g;function ih(e){return(typeof e=="string"?e:""+e).replace(hm,`
`).replace(dm,"")}function Ja(e,t,a){if(t=ih(t),ih(e)!==t&&a)throw Error(i(425))}function eo(){}var Ll=null,Rl=null;function jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wl=typeof setTimeout=="function"?setTimeout:void 0,pm=typeof clearTimeout=="function"?clearTimeout:void 0,ah=typeof Promise=="function"?Promise:void 0,fm=typeof queueMicrotask=="function"?queueMicrotask:typeof ah<"u"?function(e){return ah.resolve(null).then(e).catch(gm)}:Wl;function gm(e){setTimeout(function(){throw e})}function zl(e,t){var a=t,u=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){e.removeChild(h),Wi(t);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);Wi(t)}function mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),qn="__reactFiber$"+ai,Hi="__reactProps$"+ai,er="__reactContainer$"+ai,Fl="__reactEvents$"+ai,mm="__reactListeners$"+ai,ym="__reactHandles$"+ai;function Lr(e){var t=e[qn];if(t)return t;for(var a=e.parentNode;a;){if(t=a[er]||a[qn]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=oh(e);e!==null;){if(a=e[qn])return a;e=oh(e)}return t}e=a,a=e.parentNode}return null}function Xi(e){return e=e[qn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function to(e){return e[Hi]||null}var Kl=[],li=-1;function yr(e){return{current:e}}function it(e){0>li||(e.current=Kl[li],Kl[li]=null,li--)}function et(e,t){li++,Kl[li]=e.current,e.current=t}var vr={},$t=yr(vr),rn=yr(!1),Rr=vr;function si(e,t){var a=e.type.contextTypes;if(!a)return vr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=t[p];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function an(e){return e=e.childContextTypes,e!=null}function no(){it(rn),it($t)}function lh(e,t,a){if($t.current!==vr)throw Error(i(168));et($t,t),et(rn,a)}function sh(e,t,a){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var h in u)if(!(h in t))throw Error(i(108,ne(e)||"Unknown",h));return y({},a,u)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Rr=$t.current,et($t,e),et(rn,rn.current),!0}function uh(e,t,a){var u=e.stateNode;if(!u)throw Error(i(169));a?(e=sh(e,t,Rr),u.__reactInternalMemoizedMergedChildContext=e,it(rn),it($t),et($t,e)):it(rn),et(rn,a)}var tr=null,io=!1,Yl=!1;function ch(e){tr===null?tr=[e]:tr.push(e)}function vm(e){io=!0,ch(e)}function xr(){if(!Yl&&tr!==null){Yl=!0;var e=0,t=He;try{var a=tr;for(He=1;e<a.length;e++){var u=a[e];do u=u(!0);while(u!==null)}tr=null,io=!1}catch(h){throw tr!==null&&(tr=tr.slice(e+1)),Ma(Bi,xr),h}finally{He=t,Yl=!1}}return null}var ui=[],ci=0,ao=null,oo=0,En=[],Nn=0,jr=null,nr=1,rr="";function Wr(e,t){ui[ci++]=oo,ui[ci++]=ao,ao=e,oo=t}function hh(e,t,a){En[Nn++]=nr,En[Nn++]=rr,En[Nn++]=jr,jr=e;var u=nr;e=rr;var h=32-I(u)-1;u&=~(1<<h),a+=1;var p=32-I(t)+h;if(30<p){var k=h-h%5;p=(u&(1<<k)-1).toString(32),u>>=k,h-=k,nr=1<<32-I(t)+h|a<<h|u,rr=p+e}else nr=1<<p|a<<h|u,rr=e}function ql(e){e.return!==null&&(Wr(e,1),hh(e,1,0))}function Ul(e){for(;e===ao;)ao=ui[--ci],ui[ci]=null,oo=ui[--ci],ui[ci]=null;for(;e===jr;)jr=En[--Nn],En[Nn]=null,rr=En[--Nn],En[Nn]=null,nr=En[--Nn],En[Nn]=null}var vn=null,xn=null,lt=!1,Ln=null;function dh(e,t){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function ph(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,xn=mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=jr!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,vn=e,xn=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(lt){var t=xn;if(t){var a=t;if(!ph(e,t)){if(Ql(e))throw Error(i(418));t=mr(a.nextSibling);var u=vn;t&&ph(e,t)?dh(u,a):(e.flags=e.flags&-4097|2,lt=!1,vn=e)}}else{if(Ql(e))throw Error(i(418));e.flags=e.flags&-4097|2,lt=!1,vn=e}}}function fh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function lo(e){if(e!==vn)return!1;if(!lt)return fh(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jl(e.type,e.memoizedProps)),t&&(t=xn)){if(Ql(e))throw gh(),Error(i(418));for(;t;)dh(e,t),t=mr(t.nextSibling)}if(fh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){xn=mr(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=vn?mr(e.stateNode.nextSibling):null;return!0}function gh(){for(var e=xn;e;)e=mr(e.nextSibling)}function hi(){xn=vn=null,lt=!1}function Vl(e){Ln===null?Ln=[e]:Ln.push(e)}var xm=de.ReactCurrentBatchConfig;function Zi(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var u=a.stateNode}if(!u)throw Error(i(147,e));var h=u,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(k){var T=h.refs;k===null?delete T[p]:T[p]=k},t._stringRef=p,t)}if(typeof e!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,e))}return e}function so(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mh(e){var t=e._init;return t(e._payload)}function yh(e){function t(A,P){if(e){var M=A.deletions;M===null?(A.deletions=[P],A.flags|=16):M.push(P)}}function a(A,P){if(!e)return null;for(;P!==null;)t(A,P),P=P.sibling;return null}function u(A,P){for(A=new Map;P!==null;)P.key!==null?A.set(P.key,P):A.set(P.index,P),P=P.sibling;return A}function h(A,P){return A=Nr(A,P),A.index=0,A.sibling=null,A}function p(A,P,M){return A.index=M,e?(M=A.alternate,M!==null?(M=M.index,M<P?(A.flags|=2,P):M):(A.flags|=2,P)):(A.flags|=1048576,P)}function k(A){return e&&A.alternate===null&&(A.flags|=2),A}function T(A,P,M,ie){return P===null||P.tag!==6?(P=Ws(M,A.mode,ie),P.return=A,P):(P=h(P,M),P.return=A,P)}function E(A,P,M,ie){var Se=M.type;return Se===ce?V(A,P,M.props.children,ie,M.key):P!==null&&(P.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===se&&mh(Se)===P.type)?(ie=h(P,M.props),ie.ref=Zi(A,P,M),ie.return=A,ie):(ie=_o(M.type,M.key,M.props,null,A.mode,ie),ie.ref=Zi(A,P,M),ie.return=A,ie)}function j(A,P,M,ie){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=zs(M,A.mode,ie),P.return=A,P):(P=h(P,M.children||[]),P.return=A,P)}function V(A,P,M,ie,Se){return P===null||P.tag!==7?(P=$r(M,A.mode,ie,Se),P.return=A,P):(P=h(P,M),P.return=A,P)}function H(A,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Ws(""+P,A.mode,M),P.return=A,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case pe:return M=_o(P.type,P.key,P.props,null,A.mode,M),M.ref=Zi(A,null,P),M.return=A,M;case R:return P=zs(P,A.mode,M),P.return=A,P;case se:var ie=P._init;return H(A,ie(P._payload),M)}if(at(P)||ge(P))return P=$r(P,A.mode,M,null),P.return=A,P;so(A,P)}return null}function $(A,P,M,ie){var Se=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return Se!==null?null:T(A,P,""+M,ie);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case pe:return M.key===Se?E(A,P,M,ie):null;case R:return M.key===Se?j(A,P,M,ie):null;case se:return Se=M._init,$(A,P,Se(M._payload),ie)}if(at(M)||ge(M))return Se!==null?null:V(A,P,M,ie,null);so(A,M)}return null}function fe(A,P,M,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return A=A.get(M)||null,T(P,A,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case pe:return A=A.get(ie.key===null?M:ie.key)||null,E(P,A,ie,Se);case R:return A=A.get(ie.key===null?M:ie.key)||null,j(P,A,ie,Se);case se:var De=ie._init;return fe(A,P,M,De(ie._payload),Se)}if(at(ie)||ge(ie))return A=A.get(M)||null,V(P,A,ie,Se,null);so(P,ie)}return null}function xe(A,P,M,ie){for(var Se=null,De=null,Pe=P,Ae=P=0,Lt=null;Pe!==null&&Ae<M.length;Ae++){Pe.index>Ae?(Lt=Pe,Pe=null):Lt=Pe.sibling;var $e=$(A,Pe,M[Ae],ie);if($e===null){Pe===null&&(Pe=Lt);break}e&&Pe&&$e.alternate===null&&t(A,Pe),P=p($e,P,Ae),De===null?Se=$e:De.sibling=$e,De=$e,Pe=Lt}if(Ae===M.length)return a(A,Pe),lt&&Wr(A,Ae),Se;if(Pe===null){for(;Ae<M.length;Ae++)Pe=H(A,M[Ae],ie),Pe!==null&&(P=p(Pe,P,Ae),De===null?Se=Pe:De.sibling=Pe,De=Pe);return lt&&Wr(A,Ae),Se}for(Pe=u(A,Pe);Ae<M.length;Ae++)Lt=fe(Pe,A,Ae,M[Ae],ie),Lt!==null&&(e&&Lt.alternate!==null&&Pe.delete(Lt.key===null?Ae:Lt.key),P=p(Lt,P,Ae),De===null?Se=Lt:De.sibling=Lt,De=Lt);return e&&Pe.forEach(function(Or){return t(A,Or)}),lt&&Wr(A,Ae),Se}function we(A,P,M,ie){var Se=ge(M);if(typeof Se!="function")throw Error(i(150));if(M=Se.call(M),M==null)throw Error(i(151));for(var De=Se=null,Pe=P,Ae=P=0,Lt=null,$e=M.next();Pe!==null&&!$e.done;Ae++,$e=M.next()){Pe.index>Ae?(Lt=Pe,Pe=null):Lt=Pe.sibling;var Or=$(A,Pe,$e.value,ie);if(Or===null){Pe===null&&(Pe=Lt);break}e&&Pe&&Or.alternate===null&&t(A,Pe),P=p(Or,P,Ae),De===null?Se=Or:De.sibling=Or,De=Or,Pe=Lt}if($e.done)return a(A,Pe),lt&&Wr(A,Ae),Se;if(Pe===null){for(;!$e.done;Ae++,$e=M.next())$e=H(A,$e.value,ie),$e!==null&&(P=p($e,P,Ae),De===null?Se=$e:De.sibling=$e,De=$e);return lt&&Wr(A,Ae),Se}for(Pe=u(A,Pe);!$e.done;Ae++,$e=M.next())$e=fe(Pe,A,Ae,$e.value,ie),$e!==null&&(e&&$e.alternate!==null&&Pe.delete($e.key===null?Ae:$e.key),P=p($e,P,Ae),De===null?Se=$e:De.sibling=$e,De=$e);return e&&Pe.forEach(function(Zm){return t(A,Zm)}),lt&&Wr(A,Ae),Se}function yt(A,P,M,ie){if(typeof M=="object"&&M!==null&&M.type===ce&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case pe:e:{for(var Se=M.key,De=P;De!==null;){if(De.key===Se){if(Se=M.type,Se===ce){if(De.tag===7){a(A,De.sibling),P=h(De,M.props.children),P.return=A,A=P;break e}}else if(De.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===se&&mh(Se)===De.type){a(A,De.sibling),P=h(De,M.props),P.ref=Zi(A,De,M),P.return=A,A=P;break e}a(A,De);break}else t(A,De);De=De.sibling}M.type===ce?(P=$r(M.props.children,A.mode,ie,M.key),P.return=A,A=P):(ie=_o(M.type,M.key,M.props,null,A.mode,ie),ie.ref=Zi(A,P,M),ie.return=A,A=ie)}return k(A);case R:e:{for(De=M.key;P!==null;){if(P.key===De)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){a(A,P.sibling),P=h(P,M.children||[]),P.return=A,A=P;break e}else{a(A,P);break}else t(A,P);P=P.sibling}P=zs(M,A.mode,ie),P.return=A,A=P}return k(A);case se:return De=M._init,yt(A,P,De(M._payload),ie)}if(at(M))return xe(A,P,M,ie);if(ge(M))return we(A,P,M,ie);so(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(a(A,P.sibling),P=h(P,M),P.return=A,A=P):(a(A,P),P=Ws(M,A.mode,ie),P.return=A,A=P),k(A)):a(A,P)}return yt}var di=yh(!0),vh=yh(!1),uo=yr(null),co=null,pi=null,Gl=null;function Hl(){Gl=pi=co=null}function Xl(e){var t=uo.current;it(uo),e._currentValue=t}function Zl(e,t,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===a)break;e=e.return}}function fi(e,t){co=e,Gl=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(on=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(Gl!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(co===null)throw Error(i(308));pi=e,co.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var zr=null;function Jl(e){zr===null?zr=[e]:zr.push(e)}function xh(e,t,a,u){var h=t.interleaved;return h===null?(a.next=a,Jl(t)):(a.next=h.next,h.next=a),t.interleaved=a,ir(e,u)}function ir(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var kr=!1;function es(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wr(e,t,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var h=u.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),u.pending=t,ir(e,a)}return h=u.interleaved,h===null?(t.next=t,Jl(u)):(t.next=h.next,h.next=t),u.interleaved=t,ir(e,a)}function ho(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,a|=u,t.lanes=a,fl(e,a)}}function wh(e,t){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var k={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=k:p=p.next=k,a=a.next}while(a!==null);p===null?h=p=t:p=p.next=t}else h=p=t;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function po(e,t,a,u){var h=e.updateQueue;kr=!1;var p=h.firstBaseUpdate,k=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var E=T,j=E.next;E.next=null,k===null?p=j:k.next=j,k=E;var V=e.alternate;V!==null&&(V=V.updateQueue,T=V.lastBaseUpdate,T!==k&&(T===null?V.firstBaseUpdate=j:T.next=j,V.lastBaseUpdate=E))}if(p!==null){var H=h.baseState;k=0,V=j=E=null,T=p;do{var $=T.lane,fe=T.eventTime;if((u&$)===$){V!==null&&(V=V.next={eventTime:fe,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var xe=e,we=T;switch($=t,fe=a,we.tag){case 1:if(xe=we.payload,typeof xe=="function"){H=xe.call(fe,H,$);break e}H=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=we.payload,$=typeof xe=="function"?xe.call(fe,H,$):xe,$==null)break e;H=y({},H,$);break e;case 2:kr=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,$=h.effects,$===null?h.effects=[T]:$.push(T))}else fe={eventTime:fe,lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},V===null?(j=V=fe,E=H):V=V.next=fe,k|=$;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(V===null&&(E=H),h.baseState=E,h.firstBaseUpdate=j,h.lastBaseUpdate=V,t=h.shared.interleaved,t!==null){h=t;do k|=h.lane,h=h.next;while(h!==t)}else p===null&&(h.shared.lanes=0);Yr|=k,e.lanes=k,e.memoizedState=H}}function Sh(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],h=u.callback;if(h!==null){if(u.callback=null,u=a,typeof h!="function")throw Error(i(191,h));h.call(u)}}}var Ji={},Un=yr(Ji),ea=yr(Ji),ta=yr(Ji);function Fr(e){if(e===Ji)throw Error(i(174));return e}function ts(e,t){switch(et(ta,t),et(ea,e),et(Un,Ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:te(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=te(t,e)}it(Un),et(Un,t)}function gi(){it(Un),it(ea),it(ta)}function bh(e){Fr(ta.current);var t=Fr(Un.current),a=te(t,e.type);t!==a&&(et(ea,e),et(Un,a))}function ns(e){ea.current===e&&(it(Un),it(ea))}var ht=yr(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function is(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var go=de.ReactCurrentDispatcher,as=de.ReactCurrentBatchConfig,Kr=0,dt=null,Ct=null,At=null,mo=!1,na=!1,ra=0,km=0;function Vt(){throw Error(i(321))}function os(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mn(e[a],t[a]))return!1;return!0}function ls(e,t,a,u,h,p){if(Kr=p,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=e===null||e.memoizedState===null?Cm:Tm,e=a(u,h),na){p=0;do{if(na=!1,ra=0,25<=p)throw Error(i(301));p+=1,At=Ct=null,t.updateQueue=null,go.current=Em,e=a(u,h)}while(na)}if(go.current=xo,t=Ct!==null&&Ct.next!==null,Kr=0,At=Ct=dt=null,mo=!1,t)throw Error(i(300));return e}function ss(){var e=ra!==0;return ra=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?dt.memoizedState=At=e:At=At.next=e,At}function Dn(){if(Ct===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=At===null?dt.memoizedState:At.next;if(t!==null)At=t,Ct=e;else{if(e===null)throw Error(i(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},At===null?dt.memoizedState=At=e:At=At.next=e}return At}function ia(e,t){return typeof t=="function"?t(e):t}function us(e){var t=Dn(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var u=Ct,h=u.baseQueue,p=a.pending;if(p!==null){if(h!==null){var k=h.next;h.next=p.next,p.next=k}u.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=k=null,E=null,j=p;do{var V=j.lane;if((Kr&V)===V)E!==null&&(E=E.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:e(u,j.action);else{var H={lane:V,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};E===null?(T=E=H,k=u):E=E.next=H,dt.lanes|=V,Yr|=V}j=j.next}while(j!==null&&j!==p);E===null?k=u:E.next=T,Mn(u,t.memoizedState)||(on=!0),t.memoizedState=u,t.baseState=k,t.baseQueue=E,a.lastRenderedState=u}if(e=a.interleaved,e!==null){h=e;do p=h.lane,dt.lanes|=p,Yr|=p,h=h.next;while(h!==e)}else h===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function cs(e){var t=Dn(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var u=a.dispatch,h=a.pending,p=t.memoizedState;if(h!==null){a.pending=null;var k=h=h.next;do p=e(p,k.action),k=k.next;while(k!==h);Mn(p,t.memoizedState)||(on=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),a.lastRenderedState=p}return[p,u]}function Ch(){}function Th(e,t){var a=dt,u=Dn(),h=t(),p=!Mn(u.memoizedState,h);if(p&&(u.memoizedState=h,on=!0),u=u.queue,hs(Oh.bind(null,a,u,e),[e]),u.getSnapshot!==t||p||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,aa(9,Nh.bind(null,a,u,h,t),void 0,null),Mt===null)throw Error(i(349));(Kr&30)!==0||Eh(a,t,h)}return h}function Eh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Nh(e,t,a,u){t.value=a,t.getSnapshot=u,Dh(t)&&Ph(e)}function Oh(e,t,a){return a(function(){Dh(t)&&Ph(e)})}function Dh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mn(e,a)}catch{return!0}}function Ph(e){var t=ir(e,1);t!==null&&zn(t,e,1,-1)}function Ih(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=bm.bind(null,dt,e),[t.memoizedState,e]}function aa(e,t,a,u){return e={tag:e,create:t,destroy:a,deps:u,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,t.lastEffect=e)),e}function Bh(){return Dn().memoizedState}function yo(e,t,a,u){var h=Qn();dt.flags|=e,h.memoizedState=aa(1|t,a,void 0,u===void 0?null:u)}function vo(e,t,a,u){var h=Dn();u=u===void 0?null:u;var p=void 0;if(Ct!==null){var k=Ct.memoizedState;if(p=k.destroy,u!==null&&os(u,k.deps)){h.memoizedState=aa(t,a,p,u);return}}dt.flags|=e,h.memoizedState=aa(1|t,a,p,u)}function _h(e,t){return yo(8390656,8,e,t)}function hs(e,t){return vo(2048,8,e,t)}function Ah(e,t){return vo(4,2,e,t)}function Mh(e,t){return vo(4,4,e,t)}function Lh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rh(e,t,a){return a=a!=null?a.concat([e]):null,vo(4,4,Lh.bind(null,t,e),a)}function ds(){}function jh(e,t){var a=Dn();t=t===void 0?null:t;var u=a.memoizedState;return u!==null&&t!==null&&os(t,u[1])?u[0]:(a.memoizedState=[e,t],e)}function Wh(e,t){var a=Dn();t=t===void 0?null:t;var u=a.memoizedState;return u!==null&&t!==null&&os(t,u[1])?u[0]:(e=e(),a.memoizedState=[e,t],e)}function zh(e,t,a){return(Kr&21)===0?(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=a):(Mn(a,t)||(a=mc(),dt.lanes|=a,Yr|=a,e.baseState=!0),t)}function wm(e,t){var a=He;He=a!==0&&4>a?a:4,e(!0);var u=as.transition;as.transition={};try{e(!1),t()}finally{He=a,as.transition=u}}function Fh(){return Dn().memoizedState}function Sm(e,t,a){var u=Tr(e);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Kh(e))Yh(t,a);else if(a=xh(e,t,a,u),a!==null){var h=tn();zn(a,e,u,h),qh(a,t,u)}}function bm(e,t,a){var u=Tr(e),h={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kh(e))Yh(t,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var k=t.lastRenderedState,T=p(k,a);if(h.hasEagerState=!0,h.eagerState=T,Mn(T,k)){var E=t.interleaved;E===null?(h.next=h,Jl(t)):(h.next=E.next,E.next=h),t.interleaved=h;return}}catch{}finally{}a=xh(e,t,h,u),a!==null&&(h=tn(),zn(a,e,u,h),qh(a,t,u))}}function Kh(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function Yh(e,t){na=mo=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function qh(e,t,a){if((a&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,a|=u,t.lanes=a,fl(e,a)}}var xo={readContext:On,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Cm={readContext:On,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:_h,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,yo(4194308,4,Lh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){return yo(4,2,e,t)},useMemo:function(e,t){var a=Qn();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var u=Qn();return t=a!==void 0?a(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=Sm.bind(null,dt,e),[u.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:Ih,useDebugValue:ds,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=Ih(!1),t=e[0];return e=wm.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var u=dt,h=Qn();if(lt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Mt===null)throw Error(i(349));(Kr&30)!==0||Eh(u,t,a)}h.memoizedState=a;var p={value:a,getSnapshot:t};return h.queue=p,_h(Oh.bind(null,u,p,e),[e]),u.flags|=2048,aa(9,Nh.bind(null,u,p,a,t),void 0,null),a},useId:function(){var e=Qn(),t=Mt.identifierPrefix;if(lt){var a=rr,u=nr;a=(u&~(1<<32-I(u)-1)).toString(32)+a,t=":"+t+"R"+a,a=ra++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=km++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tm={readContext:On,useCallback:jh,useContext:On,useEffect:hs,useImperativeHandle:Rh,useInsertionEffect:Ah,useLayoutEffect:Mh,useMemo:Wh,useReducer:us,useRef:Bh,useState:function(){return us(ia)},useDebugValue:ds,useDeferredValue:function(e){var t=Dn();return zh(t,Ct.memoizedState,e)},useTransition:function(){var e=us(ia)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Ch,useSyncExternalStore:Th,useId:Fh,unstable_isNewReconciler:!1},Em={readContext:On,useCallback:jh,useContext:On,useEffect:hs,useImperativeHandle:Rh,useInsertionEffect:Ah,useLayoutEffect:Mh,useMemo:Wh,useReducer:cs,useRef:Bh,useState:function(){return cs(ia)},useDebugValue:ds,useDeferredValue:function(e){var t=Dn();return Ct===null?t.memoizedState=e:zh(t,Ct.memoizedState,e)},useTransition:function(){var e=cs(ia)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Ch,useSyncExternalStore:Th,useId:Fh,unstable_isNewReconciler:!1};function Rn(e,t){if(e&&e.defaultProps){t=y({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function ps(e,t,a,u){t=e.memoizedState,a=a(u,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={isMounted:function(e){return(e=e._reactInternals)?ke(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var u=tn(),h=Tr(e),p=ar(u,h);p.payload=t,a!=null&&(p.callback=a),t=wr(e,p,h),t!==null&&(zn(t,e,h,u),ho(t,e,h))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var u=tn(),h=Tr(e),p=ar(u,h);p.tag=1,p.payload=t,a!=null&&(p.callback=a),t=wr(e,p,h),t!==null&&(zn(t,e,h,u),ho(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=tn(),u=Tr(e),h=ar(a,u);h.tag=2,t!=null&&(h.callback=t),t=wr(e,h,u),t!==null&&(zn(t,e,u,a),ho(t,e,u))}};function Uh(e,t,a,u,h,p,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,k):t.prototype&&t.prototype.isPureReactComponent?!Ui(a,u)||!Ui(h,p):!0}function Qh(e,t,a){var u=!1,h=vr,p=t.contextType;return typeof p=="object"&&p!==null?p=On(p):(h=an(t)?Rr:$t.current,u=t.contextTypes,p=(u=u!=null)?si(e,h):vr),t=new t(a,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ko,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),t}function $h(e,t,a,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,u),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function fs(e,t,a,u){var h=e.stateNode;h.props=a,h.state=e.memoizedState,h.refs={},es(e);var p=t.contextType;typeof p=="object"&&p!==null?h.context=On(p):(p=an(t)?Rr:$t.current,h.context=si(e,p)),h.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(ps(e,t,p,a),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&ko.enqueueReplaceState(h,h.state,null),po(e,a,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,t){try{var a="",u=t;do a+=ee(u),u=u.return;while(u);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:h,digest:null}}function gs(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function ms(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Nm=typeof WeakMap=="function"?WeakMap:Map;function Vh(e,t,a){a=ar(-1,a),a.tag=3,a.payload={element:null};var u=t.value;return a.callback=function(){No||(No=!0,Is=u),ms(e,t)},a}function Gh(e,t,a){a=ar(-1,a),a.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=t.value;a.payload=function(){return u(h)},a.callback=function(){ms(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){ms(e,t),typeof u!="function"&&(br===null?br=new Set([this]):br.add(this));var k=t.stack;this.componentDidCatch(t.value,{componentStack:k!==null?k:""})}),a}function Hh(e,t,a){var u=e.pingCache;if(u===null){u=e.pingCache=new Nm;var h=new Set;u.set(t,h)}else h=u.get(t),h===void 0&&(h=new Set,u.set(t,h));h.has(a)||(h.add(a),e=Fm.bind(null,e,t,a),t.then(e,e))}function Xh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zh(e,t,a,u,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=ar(-1,1),t.tag=2,wr(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Om=de.ReactCurrentOwner,on=!1;function en(e,t,a,u){t.child=e===null?vh(t,null,a,u):di(t,e.child,a,u)}function Jh(e,t,a,u,h){a=a.render;var p=t.ref;return fi(t,h),u=ls(e,t,a,u,p,h),a=ss(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,or(e,t,h)):(lt&&a&&ql(t),t.flags|=1,en(e,t,u,h),t.child)}function ed(e,t,a,u,h){if(e===null){var p=a.type;return typeof p=="function"&&!js(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=p,td(e,t,p,u,h)):(e=_o(a.type,null,u,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&h)===0){var k=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ui,a(k,u)&&e.ref===t.ref)return or(e,t,h)}return t.flags|=1,e=Nr(p,u),e.ref=t.ref,e.return=t,t.child=e}function td(e,t,a,u,h){if(e!==null){var p=e.memoizedProps;if(Ui(p,u)&&e.ref===t.ref)if(on=!1,t.pendingProps=u=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(on=!0);else return t.lanes=e.lanes,or(e,t,h)}return ys(e,t,a,u,h)}function nd(e,t,a){var u=t.pendingProps,h=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(vi,kn),kn|=a;else{if((a&1073741824)===0)return e=p!==null?p.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(vi,kn),kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:a,et(vi,kn),kn|=u}else p!==null?(u=p.baseLanes|a,t.memoizedState=null):u=a,et(vi,kn),kn|=u;return en(e,t,h,a),t.child}function rd(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function ys(e,t,a,u,h){var p=an(a)?Rr:$t.current;return p=si(t,p),fi(t,h),a=ls(e,t,a,u,p,h),u=ss(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,or(e,t,h)):(lt&&u&&ql(t),t.flags|=1,en(e,t,a,h),t.child)}function id(e,t,a,u,h){if(an(a)){var p=!0;ro(t)}else p=!1;if(fi(t,h),t.stateNode===null)So(e,t),Qh(t,a,u),fs(t,a,u,h),u=!0;else if(e===null){var k=t.stateNode,T=t.memoizedProps;k.props=T;var E=k.context,j=a.contextType;typeof j=="object"&&j!==null?j=On(j):(j=an(a)?Rr:$t.current,j=si(t,j));var V=a.getDerivedStateFromProps,H=typeof V=="function"||typeof k.getSnapshotBeforeUpdate=="function";H||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(T!==u||E!==j)&&$h(t,k,u,j),kr=!1;var $=t.memoizedState;k.state=$,po(t,u,k,h),E=t.memoizedState,T!==u||$!==E||rn.current||kr?(typeof V=="function"&&(ps(t,a,V,u),E=t.memoizedState),(T=kr||Uh(t,a,T,u,$,E,j))?(H||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(t.flags|=4194308)):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=E),k.props=u,k.state=E,k.context=j,u=T):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{k=t.stateNode,kh(e,t),T=t.memoizedProps,j=t.type===t.elementType?T:Rn(t.type,T),k.props=j,H=t.pendingProps,$=k.context,E=a.contextType,typeof E=="object"&&E!==null?E=On(E):(E=an(a)?Rr:$t.current,E=si(t,E));var fe=a.getDerivedStateFromProps;(V=typeof fe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(T!==H||$!==E)&&$h(t,k,u,E),kr=!1,$=t.memoizedState,k.state=$,po(t,u,k,h);var xe=t.memoizedState;T!==H||$!==xe||rn.current||kr?(typeof fe=="function"&&(ps(t,a,fe,u),xe=t.memoizedState),(j=kr||Uh(t,a,j,u,$,xe,E)||!1)?(V||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(u,xe,E),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(u,xe,E)),typeof k.componentDidUpdate=="function"&&(t.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof k.componentDidUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=xe),k.props=u,k.state=xe,k.context=E,u=j):(typeof k.componentDidUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),u=!1)}return vs(e,t,a,u,p,h)}function vs(e,t,a,u,h,p){rd(e,t);var k=(t.flags&128)!==0;if(!u&&!k)return h&&uh(t,a,!1),or(e,t,p);u=t.stateNode,Om.current=t;var T=k&&typeof a.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&k?(t.child=di(t,e.child,null,p),t.child=di(t,null,T,p)):en(e,t,T,p),t.memoizedState=u.state,h&&uh(t,a,!0),t.child}function ad(e){var t=e.stateNode;t.pendingContext?lh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lh(e,t.context,!1),ts(e,t.containerInfo)}function od(e,t,a,u,h){return hi(),Vl(h),t.flags|=256,en(e,t,a,u),t.child}var xs={dehydrated:null,treeContext:null,retryLane:0};function ks(e){return{baseLanes:e,cachePool:null,transitions:null}}function ld(e,t,a){var u=t.pendingProps,h=ht.current,p=!1,k=(t.flags&128)!==0,T;if((T=k)||(T=e!==null&&e.memoizedState===null?!1:(h&2)!==0),T?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),et(ht,h&1),e===null)return $l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(k=u.children,e=u.fallback,p?(u=t.mode,p=t.child,k={mode:"hidden",children:k},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=k):p=Ao(k,u,0,null),e=$r(e,u,a,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=ks(a),t.memoizedState=xs,e):ws(t,k));if(h=e.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return Dm(e,t,k,u,T,h,a);if(p){p=u.fallback,k=t.mode,h=e.child,T=h.sibling;var E={mode:"hidden",children:u.children};return(k&1)===0&&t.child!==h?(u=t.child,u.childLanes=0,u.pendingProps=E,t.deletions=null):(u=Nr(h,E),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=Nr(T,p):(p=$r(p,k,a,null),p.flags|=2),p.return=t,u.return=t,u.sibling=p,t.child=u,u=p,p=t.child,k=e.child.memoizedState,k=k===null?ks(a):{baseLanes:k.baseLanes|a,cachePool:null,transitions:k.transitions},p.memoizedState=k,p.childLanes=e.childLanes&~a,t.memoizedState=xs,u}return p=e.child,e=p.sibling,u=Nr(p,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=a),u.return=t,u.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=u,t.memoizedState=null,u}function ws(e,t){return t=Ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wo(e,t,a,u){return u!==null&&Vl(u),di(t,e.child,null,a),e=ws(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dm(e,t,a,u,h,p,k){if(a)return t.flags&256?(t.flags&=-257,u=gs(Error(i(422))),wo(e,t,k,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=u.fallback,h=t.mode,u=Ao({mode:"visible",children:u.children},h,0,null),p=$r(p,h,k,null),p.flags|=2,u.return=t,p.return=t,u.sibling=p,t.child=u,(t.mode&1)!==0&&di(t,e.child,null,k),t.child.memoizedState=ks(k),t.memoizedState=xs,p);if((t.mode&1)===0)return wo(e,t,k,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(i(419)),u=gs(p,u,void 0),wo(e,t,k,u)}if(T=(k&e.childLanes)!==0,on||T){if(u=Mt,u!==null){switch(k&-k){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|k))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ir(e,h),zn(u,e,h,-1))}return Rs(),u=gs(Error(i(421))),wo(e,t,k,u)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Km.bind(null,e),h._reactRetry=t,null):(e=p.treeContext,xn=mr(h.nextSibling),vn=t,lt=!0,Ln=null,e!==null&&(En[Nn++]=nr,En[Nn++]=rr,En[Nn++]=jr,nr=e.id,rr=e.overflow,jr=t),t=ws(t,u.children),t.flags|=4096,t)}function sd(e,t,a){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),Zl(e.return,t,a)}function Ss(e,t,a,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=h)}function ud(e,t,a){var u=t.pendingProps,h=u.revealOrder,p=u.tail;if(en(e,t,u.children,a),u=ht.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sd(e,a,t);else if(e.tag===19)sd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(et(ht,u),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(a=t.child,h=null;a!==null;)e=a.alternate,e!==null&&fo(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=t.child,t.child=null):(h=a.sibling,a.sibling=null),Ss(t,!1,h,a,p);break;case"backwards":for(a=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&fo(e)===null){t.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ss(t,!0,a,null,p);break;case"together":Ss(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function So(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=Nr(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Nr(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Pm(e,t,a){switch(t.tag){case 3:ad(t),hi();break;case 5:bh(t);break;case 1:an(t.type)&&ro(t);break;case 4:ts(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,h=t.memoizedProps.value;et(uo,u._currentValue),u._currentValue=h;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(et(ht,ht.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?ld(e,t,a):(et(ht,ht.current&1),e=or(e,t,a),e!==null?e.sibling:null);et(ht,ht.current&1);break;case 19:if(u=(a&t.childLanes)!==0,(e.flags&128)!==0){if(u)return ud(e,t,a);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ht,ht.current),u)break;return null;case 22:case 23:return t.lanes=0,nd(e,t,a)}return or(e,t,a)}var cd,bs,hd,dd;cd=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},bs=function(){},hd=function(e,t,a,u){var h=e.memoizedProps;if(h!==u){e=t.stateNode,Fr(Un.current);var p=null;switch(a){case"input":h=Re(e,h),u=Re(e,u),p=[];break;case"select":h=y({},h,{value:void 0}),u=y({},u,{value:void 0}),p=[];break;case"textarea":h=Nt(e,h),u=Nt(e,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=eo)}mt(a,u);var k;a=null;for(j in h)if(!u.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var T=h[j];for(k in T)T.hasOwnProperty(k)&&(a||(a={}),a[k]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(l.hasOwnProperty(j)?p||(p=[]):(p=p||[]).push(j,null));for(j in u){var E=u[j];if(T=h?.[j],u.hasOwnProperty(j)&&E!==T&&(E!=null||T!=null))if(j==="style")if(T){for(k in T)!T.hasOwnProperty(k)||E&&E.hasOwnProperty(k)||(a||(a={}),a[k]="");for(k in E)E.hasOwnProperty(k)&&T[k]!==E[k]&&(a||(a={}),a[k]=E[k])}else a||(p||(p=[]),p.push(j,a)),a=E;else j==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,T=T?T.__html:void 0,E!=null&&T!==E&&(p=p||[]).push(j,E)):j==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(j,""+E):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(l.hasOwnProperty(j)?(E!=null&&j==="onScroll"&&rt("scroll",e),p||T===E||(p=[])):(p=p||[]).push(j,E))}a&&(p=p||[]).push("style",a);var j=p;(t.updateQueue=j)&&(t.flags|=4)}},dd=function(e,t,a,u){a!==u&&(t.flags|=4)};function oa(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(t)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=a,t}function Im(e,t,a){var u=t.pendingProps;switch(Ul(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return an(t.type)&&no(),Gt(t),null;case 3:return u=t.stateNode,gi(),it(rn),it($t),is(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(lo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ln!==null&&(As(Ln),Ln=null))),bs(e,t),Gt(t),null;case 5:ns(t);var h=Fr(ta.current);if(a=t.type,e!==null&&t.stateNode!=null)hd(e,t,a,u,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(i(166));return Gt(t),null}if(e=Fr(Un.current),lo(t)){u=t.stateNode,a=t.type;var p=t.memoizedProps;switch(u[qn]=t,u[Hi]=p,e=(t.mode&1)!==0,a){case"dialog":rt("cancel",u),rt("close",u);break;case"iframe":case"object":case"embed":rt("load",u);break;case"video":case"audio":for(h=0;h<$i.length;h++)rt($i[h],u);break;case"source":rt("error",u);break;case"img":case"image":case"link":rt("error",u),rt("load",u);break;case"details":rt("toggle",u);break;case"input":Ze(u,p),rt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},rt("invalid",u);break;case"textarea":pn(u,p),rt("invalid",u)}mt(a,p),h=null;for(var k in p)if(p.hasOwnProperty(k)){var T=p[k];k==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&Ja(u.textContent,T,e),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&Ja(u.textContent,T,e),h=["children",""+T]):l.hasOwnProperty(k)&&T!=null&&k==="onScroll"&&rt("scroll",u)}switch(a){case"input":Ie(u),St(u,p,!0);break;case"textarea":Ie(u),Fn(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=eo)}u=h,t.updateQueue=u,u!==null&&(t.flags|=4)}else{k=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=k.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=k.createElement(a,{is:u.is}):(e=k.createElement(a),a==="select"&&(k=e,u.multiple?k.multiple=!0:u.size&&(k.size=u.size))):e=k.createElementNS(e,a),e[qn]=t,e[Hi]=u,cd(e,t,!1,!1),t.stateNode=e;e:{switch(k=Jt(a,u),a){case"dialog":rt("cancel",e),rt("close",e),h=u;break;case"iframe":case"object":case"embed":rt("load",e),h=u;break;case"video":case"audio":for(h=0;h<$i.length;h++)rt($i[h],e);h=u;break;case"source":rt("error",e),h=u;break;case"img":case"image":case"link":rt("error",e),rt("load",e),h=u;break;case"details":rt("toggle",e),h=u;break;case"input":Ze(e,u),h=Re(e,u),rt("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=y({},u,{value:void 0}),rt("invalid",e);break;case"textarea":pn(e,u),h=Nt(e,u),rt("invalid",e);break;default:h=u}mt(a,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var E=T[p];p==="style"?Cn(e,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&_e(e,E)):p==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&ze(e,E):typeof E=="number"&&ze(e,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?E!=null&&p==="onScroll"&&rt("scroll",e):E!=null&&W(e,p,E,k))}switch(a){case"input":Ie(e),St(e,u,!1);break;case"textarea":Ie(e),Fn(e);break;case"option":u.value!=null&&e.setAttribute("value",""+q(u.value));break;case"select":e.multiple=!!u.multiple,p=u.value,p!=null?Ut(e,!!u.multiple,p,!1):u.defaultValue!=null&&Ut(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=eo)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)dd(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(i(166));if(a=Fr(ta.current),Fr(Un.current),lo(t)){if(u=t.stateNode,a=t.memoizedProps,u[qn]=t,(p=u.nodeValue!==a)&&(e=vn,e!==null))switch(e.tag){case 3:Ja(u.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(u.nodeValue,a,(e.mode&1)!==0)}p&&(t.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[qn]=t,t.stateNode=u}return Gt(t),null;case 13:if(it(ht),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&xn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)gh(),hi(),t.flags|=98560,p=!1;else if(p=lo(t),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[qn]=t}else hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Gt(t),p=!1}else Ln!==null&&(As(Ln),Ln=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ht.current&1)!==0?Tt===0&&(Tt=3):Rs())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return gi(),bs(e,t),e===null&&Vi(t.stateNode.containerInfo),Gt(t),null;case 10:return Xl(t.type._context),Gt(t),null;case 17:return an(t.type)&&no(),Gt(t),null;case 19:if(it(ht),p=t.memoizedState,p===null)return Gt(t),null;if(u=(t.flags&128)!==0,k=p.rendering,k===null)if(u)oa(p,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(k=fo(e),k!==null){for(t.flags|=128,oa(p,!1),u=k.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=a,a=t.child;a!==null;)p=a,e=u,p.flags&=14680066,k=p.alternate,k===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=k.childLanes,p.lanes=k.lanes,p.child=k.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=k.memoizedProps,p.memoizedState=k.memoizedState,p.updateQueue=k.updateQueue,p.type=k.type,e=k.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return et(ht,ht.current&1|2),t.child}e=e.sibling}p.tail!==null&&ct()>xi&&(t.flags|=128,u=!0,oa(p,!1),t.lanes=4194304)}else{if(!u)if(e=fo(k),e!==null){if(t.flags|=128,u=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),oa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!k.alternate&&!lt)return Gt(t),null}else 2*ct()-p.renderingStartTime>xi&&a!==1073741824&&(t.flags|=128,u=!0,oa(p,!1),t.lanes=4194304);p.isBackwards?(k.sibling=t.child,t.child=k):(a=p.last,a!==null?a.sibling=k:t.child=k,p.last=k)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=ct(),t.sibling=null,a=ht.current,et(ht,u?a&1|2:a&1),t):(Gt(t),null);case 22:case 23:return Ls(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(kn&1073741824)!==0&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Bm(e,t){switch(Ul(t),t.tag){case 1:return an(t.type)&&no(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(),it(rn),it($t),is(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ns(t),null;case 13:if(it(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ht),null;case 4:return gi(),null;case 10:return Xl(t.type._context),null;case 22:case 23:return Ls(),null;case 24:return null;default:return null}}var bo=!1,Ht=!1,_m=typeof WeakSet=="function"?WeakSet:Set,ye=null;function yi(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){ft(e,t,u)}else a.current=null}function Cs(e,t,a){try{a()}catch(u){ft(e,t,u)}}var pd=!1;function Am(e,t){if(Ll=Ka,e=Uc(),Ol(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var k=0,T=-1,E=-1,j=0,V=0,H=e,$=null;t:for(;;){for(var fe;H!==a||h!==0&&H.nodeType!==3||(T=k+h),H!==p||u!==0&&H.nodeType!==3||(E=k+u),H.nodeType===3&&(k+=H.nodeValue.length),(fe=H.firstChild)!==null;)$=H,H=fe;for(;;){if(H===e)break t;if($===a&&++j===h&&(T=k),$===p&&++V===u&&(E=k),(fe=H.nextSibling)!==null)break;H=$,$=H.parentNode}H=fe}a=T===-1||E===-1?null:{start:T,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rl={focusedElem:e,selectionRange:a},Ka=!1,ye=t;ye!==null;)if(t=ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ye=e;else for(;ye!==null;){t=ye;try{var xe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var we=xe.memoizedProps,yt=xe.memoizedState,A=t.stateNode,P=A.getSnapshotBeforeUpdate(t.elementType===t.type?we:Rn(t.type,we),yt);A.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ie){ft(t,t.return,ie)}if(e=t.sibling,e!==null){e.return=t.return,ye=e;break}ye=t.return}return xe=pd,pd=!1,xe}function la(e,t,a){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&Cs(t,a,p)}h=h.next}while(h!==u)}}function Co(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var u=a.create;a.destroy=u()}a=a.next}while(a!==t)}}function Ts(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function fd(e){var t=e.alternate;t!==null&&(e.alternate=null,fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qn],delete t[Hi],delete t[Fl],delete t[mm],delete t[ym])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gd(e){return e.tag===5||e.tag===3||e.tag===4}function md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Es(e,t,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=eo));else if(u!==4&&(e=e.child,e!==null))for(Es(e,t,a),e=e.sibling;e!==null;)Es(e,t,a),e=e.sibling}function Ns(e,t,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Ns(e,t,a),e=e.sibling;e!==null;)Ns(e,t,a),e=e.sibling}var Kt=null,jn=!1;function Sr(e,t,a){for(a=a.child;a!==null;)yd(e,t,a),a=a.sibling}function yd(e,t,a){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Mr,a)}catch{}switch(a.tag){case 5:Ht||yi(a,t);case 6:var u=Kt,h=jn;Kt=null,Sr(e,t,a),Kt=u,jn=h,Kt!==null&&(jn?(e=Kt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Kt.removeChild(a.stateNode));break;case 18:Kt!==null&&(jn?(e=Kt,a=a.stateNode,e.nodeType===8?zl(e.parentNode,a):e.nodeType===1&&zl(e,a),Wi(e)):zl(Kt,a.stateNode));break;case 4:u=Kt,h=jn,Kt=a.stateNode.containerInfo,jn=!0,Sr(e,t,a),Kt=u,jn=h;break;case 0:case 11:case 14:case 15:if(!Ht&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,k=p.destroy;p=p.tag,k!==void 0&&((p&2)!==0||(p&4)!==0)&&Cs(a,t,k),h=h.next}while(h!==u)}Sr(e,t,a);break;case 1:if(!Ht&&(yi(a,t),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(T){ft(a,t,T)}Sr(e,t,a);break;case 21:Sr(e,t,a);break;case 22:a.mode&1?(Ht=(u=Ht)||a.memoizedState!==null,Sr(e,t,a),Ht=u):Sr(e,t,a);break;default:Sr(e,t,a)}}function vd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new _m),t.forEach(function(u){var h=Ym.bind(null,e,u);a.has(u)||(a.add(u),u.then(h,h))})}}function Wn(e,t){var a=t.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];try{var p=e,k=t,T=k;e:for(;T!==null;){switch(T.tag){case 5:Kt=T.stateNode,jn=!1;break e;case 3:Kt=T.stateNode.containerInfo,jn=!0;break e;case 4:Kt=T.stateNode.containerInfo,jn=!0;break e}T=T.return}if(Kt===null)throw Error(i(160));yd(p,k,h),Kt=null,jn=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(j){ft(h,t,j)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}function xd(e,t){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wn(t,e),$n(e),u&4){try{la(3,e,e.return),Co(3,e)}catch(we){ft(e,e.return,we)}try{la(5,e,e.return)}catch(we){ft(e,e.return,we)}}break;case 1:Wn(t,e),$n(e),u&512&&a!==null&&yi(a,a.return);break;case 5:if(Wn(t,e),$n(e),u&512&&a!==null&&yi(a,a.return),e.flags&32){var h=e.stateNode;try{ze(h,"")}catch(we){ft(e,e.return,we)}}if(u&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,k=a!==null?a.memoizedProps:p,T=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&gt(h,p),Jt(T,k);var j=Jt(T,p);for(k=0;k<E.length;k+=2){var V=E[k],H=E[k+1];V==="style"?Cn(h,H):V==="dangerouslySetInnerHTML"?_e(h,H):V==="children"?ze(h,H):W(h,V,H,j)}switch(T){case"input":ut(h,p);break;case"textarea":nn(h,p);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var fe=p.value;fe!=null?Ut(h,!!p.multiple,fe,!1):$!==!!p.multiple&&(p.defaultValue!=null?Ut(h,!!p.multiple,p.defaultValue,!0):Ut(h,!!p.multiple,p.multiple?[]:"",!1))}h[Hi]=p}catch(we){ft(e,e.return,we)}}break;case 6:if(Wn(t,e),$n(e),u&4){if(e.stateNode===null)throw Error(i(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(we){ft(e,e.return,we)}}break;case 3:if(Wn(t,e),$n(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(we){ft(e,e.return,we)}break;case 4:Wn(t,e),$n(e);break;case 13:Wn(t,e),$n(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Ps=ct())),u&4&&vd(e);break;case 22:if(V=a!==null&&a.memoizedState!==null,e.mode&1?(Ht=(j=Ht)||V,Wn(t,e),Ht=j):Wn(t,e),$n(e),u&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!V&&(e.mode&1)!==0)for(ye=e,V=e.child;V!==null;){for(H=ye=V;ye!==null;){switch($=ye,fe=$.child,$.tag){case 0:case 11:case 14:case 15:la(4,$,$.return);break;case 1:yi($,$.return);var xe=$.stateNode;if(typeof xe.componentWillUnmount=="function"){u=$,a=$.return;try{t=u,xe.props=t.memoizedProps,xe.state=t.memoizedState,xe.componentWillUnmount()}catch(we){ft(u,a,we)}}break;case 5:yi($,$.return);break;case 22:if($.memoizedState!==null){Sd(H);continue}}fe!==null?(fe.return=$,ye=fe):Sd(H)}V=V.sibling}e:for(V=null,H=e;;){if(H.tag===5){if(V===null){V=H;try{h=H.stateNode,j?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=H.stateNode,E=H.memoizedProps.style,k=E!=null&&E.hasOwnProperty("display")?E.display:null,T.style.display=Dt("display",k))}catch(we){ft(e,e.return,we)}}}else if(H.tag===6){if(V===null)try{H.stateNode.nodeValue=j?"":H.memoizedProps}catch(we){ft(e,e.return,we)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;V===H&&(V=null),H=H.return}V===H&&(V=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Wn(t,e),$n(e),u&4&&vd(e);break;case 21:break;default:Wn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(gd(a)){var u=a;break e}a=a.return}throw Error(i(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(ze(h,""),u.flags&=-33);var p=md(e);Ns(e,p,h);break;case 3:case 4:var k=u.stateNode.containerInfo,T=md(e);Es(e,T,k);break;default:throw Error(i(161))}}catch(E){ft(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mm(e,t,a){ye=e,kd(e)}function kd(e,t,a){for(var u=(e.mode&1)!==0;ye!==null;){var h=ye,p=h.child;if(h.tag===22&&u){var k=h.memoizedState!==null||bo;if(!k){var T=h.alternate,E=T!==null&&T.memoizedState!==null||Ht;T=bo;var j=Ht;if(bo=k,(Ht=E)&&!j)for(ye=h;ye!==null;)k=ye,E=k.child,k.tag===22&&k.memoizedState!==null?bd(h):E!==null?(E.return=k,ye=E):bd(h);for(;p!==null;)ye=p,kd(p),p=p.sibling;ye=h,bo=T,Ht=j}wd(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ye=p):wd(e)}}function wd(e){for(;ye!==null;){var t=ye;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ht||Co(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!Ht)if(a===null)u.componentDidMount();else{var h=t.elementType===t.type?a.memoizedProps:Rn(t.type,a.memoizedProps);u.componentDidUpdate(h,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&Sh(t,p,u);break;case 3:var k=t.updateQueue;if(k!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Sh(t,k,a)}break;case 5:var T=t.stateNode;if(a===null&&t.flags&4){a=T;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var j=t.alternate;if(j!==null){var V=j.memoizedState;if(V!==null){var H=V.dehydrated;H!==null&&Wi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ht||t.flags&512&&Ts(t)}catch($){ft(t,t.return,$)}}if(t===e){ye=null;break}if(a=t.sibling,a!==null){a.return=t.return,ye=a;break}ye=t.return}}function Sd(e){for(;ye!==null;){var t=ye;if(t===e){ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ye=a;break}ye=t.return}}function bd(e){for(;ye!==null;){var t=ye;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Co(4,t)}catch(E){ft(t,a,E)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var h=t.return;try{u.componentDidMount()}catch(E){ft(t,h,E)}}var p=t.return;try{Ts(t)}catch(E){ft(t,p,E)}break;case 5:var k=t.return;try{Ts(t)}catch(E){ft(t,k,E)}}}catch(E){ft(t,t.return,E)}if(t===e){ye=null;break}var T=t.sibling;if(T!==null){T.return=t.return,ye=T;break}ye=t.return}}var Lm=Math.ceil,To=de.ReactCurrentDispatcher,Os=de.ReactCurrentOwner,Pn=de.ReactCurrentBatchConfig,Qe=0,Mt=null,xt=null,Yt=0,kn=0,vi=yr(0),Tt=0,sa=null,Yr=0,Eo=0,Ds=0,ua=null,ln=null,Ps=0,xi=1/0,lr=null,No=!1,Is=null,br=null,Oo=!1,Cr=null,Do=0,ca=0,Bs=null,Po=-1,Io=0;function tn(){return(Qe&6)!==0?ct():Po!==-1?Po:Po=ct()}function Tr(e){return(e.mode&1)===0?1:(Qe&2)!==0&&Yt!==0?Yt&-Yt:xm.transition!==null?(Io===0&&(Io=mc()),Io):(e=He,e!==0||(e=window.event,e=e===void 0?16:Tc(e.type)),e)}function zn(e,t,a,u){if(50<ca)throw ca=0,Bs=null,Error(i(185));Ai(e,a,u),((Qe&2)===0||e!==Mt)&&(e===Mt&&((Qe&2)===0&&(Eo|=a),Tt===4&&Er(e,Yt)),sn(e,u),a===1&&Qe===0&&(t.mode&1)===0&&(xi=ct()+500,io&&xr()))}function sn(e,t){var a=e.callbackNode;xg(e,t);var u=Jn(e,e===Mt?Yt:0);if(u===0)a!==null&&La(a),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(a!=null&&La(a),t===1)e.tag===0?vm(Td.bind(null,e)):ch(Td.bind(null,e)),fm(function(){(Qe&6)===0&&xr()}),a=null;else{switch(yc(u)){case 1:a=Bi;break;case 4:a=_i;break;case 16:a=ur;break;case 536870912:a=Wa;break;default:a=ur}a=_d(a,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function Cd(e,t){if(Po=-1,Io=0,(Qe&6)!==0)throw Error(i(327));var a=e.callbackNode;if(ki()&&e.callbackNode!==a)return null;var u=Jn(e,e===Mt?Yt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=Bo(e,u);else{t=u;var h=Qe;Qe|=2;var p=Nd();(Mt!==e||Yt!==t)&&(lr=null,xi=ct()+500,Ur(e,t));do try{Wm();break}catch(T){Ed(e,T)}while(!0);Hl(),To.current=p,Qe=h,xt!==null?t=0:(Mt=null,Yt=0,t=Tt)}if(t!==0){if(t===2&&(h=dl(e),h!==0&&(u=h,t=_s(e,h))),t===1)throw a=sa,Ur(e,0),Er(e,u),sn(e,ct()),a;if(t===6)Er(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Rm(h)&&(t=Bo(e,u),t===2&&(p=dl(e),p!==0&&(u=p,t=_s(e,p))),t===1))throw a=sa,Ur(e,0),Er(e,u),sn(e,ct()),a;switch(e.finishedWork=h,e.finishedLanes=u,t){case 0:case 1:throw Error(i(345));case 2:Qr(e,ln,lr);break;case 3:if(Er(e,u),(u&130023424)===u&&(t=Ps+500-ct(),10<t)){if(Jn(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){tn(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Wl(Qr.bind(null,e,ln,lr),t);break}Qr(e,ln,lr);break;case 4:if(Er(e,u),(u&4194240)===u)break;for(t=e.eventTimes,h=-1;0<u;){var k=31-I(u);p=1<<k,k=t[k],k>h&&(h=k),u&=~p}if(u=h,u=ct()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Lm(u/1960))-u,10<u){e.timeoutHandle=Wl(Qr.bind(null,e,ln,lr),u);break}Qr(e,ln,lr);break;case 5:Qr(e,ln,lr);break;default:throw Error(i(329))}}}return sn(e,ct()),e.callbackNode===a?Cd.bind(null,e):null}function _s(e,t){var a=ua;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=Bo(e,t),e!==2&&(t=ln,ln=a,t!==null&&As(t)),e}function As(e){ln===null?ln=e:ln.push.apply(ln,e)}function Rm(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var h=a[u],p=h.getSnapshot;h=h.value;try{if(!Mn(p(),h))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~Ds,t&=~Eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-I(t),u=1<<a;e[a]=-1,t&=~u}}function Td(e){if((Qe&6)!==0)throw Error(i(327));ki();var t=Jn(e,0);if((t&1)===0)return sn(e,ct()),null;var a=Bo(e,t);if(e.tag!==0&&a===2){var u=dl(e);u!==0&&(t=u,a=_s(e,u))}if(a===1)throw a=sa,Ur(e,0),Er(e,t),sn(e,ct()),a;if(a===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qr(e,ln,lr),sn(e,ct()),null}function Ms(e,t){var a=Qe;Qe|=1;try{return e(t)}finally{Qe=a,Qe===0&&(xi=ct()+500,io&&xr())}}function qr(e){Cr!==null&&Cr.tag===0&&(Qe&6)===0&&ki();var t=Qe;Qe|=1;var a=Pn.transition,u=He;try{if(Pn.transition=null,He=1,e)return e()}finally{He=u,Pn.transition=a,Qe=t,(Qe&6)===0&&xr()}}function Ls(){kn=vi.current,it(vi)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,pm(a)),xt!==null)for(a=xt.return;a!==null;){var u=a;switch(Ul(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&no();break;case 3:gi(),it(rn),it($t),is();break;case 5:ns(u);break;case 4:gi();break;case 13:it(ht);break;case 19:it(ht);break;case 10:Xl(u.type._context);break;case 22:case 23:Ls()}a=a.return}if(Mt=e,xt=e=Nr(e.current,null),Yt=kn=t,Tt=0,sa=null,Ds=Eo=Yr=0,ln=ua=null,zr!==null){for(t=0;t<zr.length;t++)if(a=zr[t],u=a.interleaved,u!==null){a.interleaved=null;var h=u.next,p=a.pending;if(p!==null){var k=p.next;p.next=h,u.next=k}a.pending=u}zr=null}return e}function Ed(e,t){do{var a=xt;try{if(Hl(),go.current=xo,mo){for(var u=dt.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}mo=!1}if(Kr=0,At=Ct=dt=null,na=!1,ra=0,Os.current=null,a===null||a.return===null){Tt=1,sa=t,xt=null;break}e:{var p=e,k=a.return,T=a,E=t;if(t=Yt,T.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var j=E,V=T,H=V.tag;if((V.mode&1)===0&&(H===0||H===11||H===15)){var $=V.alternate;$?(V.updateQueue=$.updateQueue,V.memoizedState=$.memoizedState,V.lanes=$.lanes):(V.updateQueue=null,V.memoizedState=null)}var fe=Xh(k);if(fe!==null){fe.flags&=-257,Zh(fe,k,T,p,t),fe.mode&1&&Hh(p,j,t),t=fe,E=j;var xe=t.updateQueue;if(xe===null){var we=new Set;we.add(E),t.updateQueue=we}else xe.add(E);break e}else{if((t&1)===0){Hh(p,j,t),Rs();break e}E=Error(i(426))}}else if(lt&&T.mode&1){var yt=Xh(k);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Zh(yt,k,T,p,t),Vl(mi(E,T));break e}}p=E=mi(E,T),Tt!==4&&(Tt=2),ua===null?ua=[p]:ua.push(p),p=k;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var A=Vh(p,E,t);wh(p,A);break e;case 1:T=E;var P=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(br===null||!br.has(M)))){p.flags|=65536,t&=-t,p.lanes|=t;var ie=Gh(p,T,t);wh(p,ie);break e}}p=p.return}while(p!==null)}Dd(a)}catch(Se){t=Se,xt===a&&a!==null&&(xt=a=a.return);continue}break}while(!0)}function Nd(){var e=To.current;return To.current=xo,e===null?xo:e}function Rs(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Mt===null||(Yr&268435455)===0&&(Eo&268435455)===0||Er(Mt,Yt)}function Bo(e,t){var a=Qe;Qe|=2;var u=Nd();(Mt!==e||Yt!==t)&&(lr=null,Ur(e,t));do try{jm();break}catch(h){Ed(e,h)}while(!0);if(Hl(),Qe=a,To.current=u,xt!==null)throw Error(i(261));return Mt=null,Yt=0,Tt}function jm(){for(;xt!==null;)Od(xt)}function Wm(){for(;xt!==null&&!Ra();)Od(xt)}function Od(e){var t=Bd(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?Dd(e):xt=t,Os.current=null}function Dd(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Im(a,t,kn),a!==null){xt=a;return}}else{if(a=Bm(a,t),a!==null){a.flags&=32767,xt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,xt=null;return}}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Qr(e,t,a){var u=He,h=Pn.transition;try{Pn.transition=null,He=1,zm(e,t,a,u)}finally{Pn.transition=h,He=u}return null}function zm(e,t,a,u){do ki();while(Cr!==null);if((Qe&6)!==0)throw Error(i(327));a=e.finishedWork;var h=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var p=a.lanes|a.childLanes;if(kg(e,p),e===Mt&&(xt=Mt=null,Yt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Oo||(Oo=!0,_d(ur,function(){return ki(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Pn.transition,Pn.transition=null;var k=He;He=1;var T=Qe;Qe|=4,Os.current=null,Am(e,a),xd(a,e),om(Rl),Ka=!!Ll,Rl=Ll=null,e.current=a,Mm(a),ja(),Qe=T,He=k,Pn.transition=p}else e.current=a;if(Oo&&(Oo=!1,Cr=e,Do=h),p=e.pendingLanes,p===0&&(br=null),Ft(a.stateNode),sn(e,ct()),t!==null)for(u=e.onRecoverableError,a=0;a<t.length;a++)h=t[a],u(h.value,{componentStack:h.stack,digest:h.digest});if(No)throw No=!1,e=Is,Is=null,e;return(Do&1)!==0&&e.tag!==0&&ki(),p=e.pendingLanes,(p&1)!==0?e===Bs?ca++:(ca=0,Bs=e):ca=0,xr(),null}function ki(){if(Cr!==null){var e=yc(Do),t=Pn.transition,a=He;try{if(Pn.transition=null,He=16>e?16:e,Cr===null)var u=!1;else{if(e=Cr,Cr=null,Do=0,(Qe&6)!==0)throw Error(i(331));var h=Qe;for(Qe|=4,ye=e.current;ye!==null;){var p=ye,k=p.child;if((ye.flags&16)!==0){var T=p.deletions;if(T!==null){for(var E=0;E<T.length;E++){var j=T[E];for(ye=j;ye!==null;){var V=ye;switch(V.tag){case 0:case 11:case 15:la(8,V,p)}var H=V.child;if(H!==null)H.return=V,ye=H;else for(;ye!==null;){V=ye;var $=V.sibling,fe=V.return;if(fd(V),V===j){ye=null;break}if($!==null){$.return=fe,ye=$;break}ye=fe}}}var xe=p.alternate;if(xe!==null){var we=xe.child;if(we!==null){xe.child=null;do{var yt=we.sibling;we.sibling=null,we=yt}while(we!==null)}}ye=p}}if((p.subtreeFlags&2064)!==0&&k!==null)k.return=p,ye=k;else e:for(;ye!==null;){if(p=ye,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:la(9,p,p.return)}var A=p.sibling;if(A!==null){A.return=p.return,ye=A;break e}ye=p.return}}var P=e.current;for(ye=P;ye!==null;){k=ye;var M=k.child;if((k.subtreeFlags&2064)!==0&&M!==null)M.return=k,ye=M;else e:for(k=P;ye!==null;){if(T=ye,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Co(9,T)}}catch(Se){ft(T,T.return,Se)}if(T===k){ye=null;break e}var ie=T.sibling;if(ie!==null){ie.return=T.return,ye=ie;break e}ye=T.return}}if(Qe=h,xr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Mr,e)}catch{}u=!0}return u}finally{He=a,Pn.transition=t}}return!1}function Pd(e,t,a){t=mi(a,t),t=Vh(e,t,1),e=wr(e,t,1),t=tn(),e!==null&&(Ai(e,1,t),sn(e,t))}function ft(e,t,a){if(e.tag===3)Pd(e,e,a);else for(;t!==null;){if(t.tag===3){Pd(t,e,a);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(br===null||!br.has(u))){e=mi(a,e),e=Gh(t,e,1),t=wr(t,e,1),e=tn(),t!==null&&(Ai(t,1,e),sn(t,e));break}}t=t.return}}function Fm(e,t,a){var u=e.pingCache;u!==null&&u.delete(t),t=tn(),e.pingedLanes|=e.suspendedLanes&a,Mt===e&&(Yt&a)===a&&(Tt===4||Tt===3&&(Yt&130023424)===Yt&&500>ct()-Ps?Ur(e,0):Ds|=a),sn(e,t)}function Id(e,t){t===0&&((e.mode&1)===0?t=1:(t=qe,qe<<=1,(qe&130023424)===0&&(qe=4194304)));var a=tn();e=ir(e,t),e!==null&&(Ai(e,t,a),sn(e,a))}function Km(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Id(e,a)}function Ym(e,t){var a=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(i(314))}u!==null&&u.delete(t),Id(e,a)}var Bd;Bd=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)on=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return on=!1,Pm(e,t,a);on=(e.flags&131072)!==0}else on=!1,lt&&(t.flags&1048576)!==0&&hh(t,oo,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;So(e,t),e=t.pendingProps;var h=si(t,$t.current);fi(t,a),h=ls(null,t,u,e,h,a);var p=ss();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,an(u)?(p=!0,ro(t)):p=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,es(t),h.updater=ko,t.stateNode=h,h._reactInternals=t,fs(t,u,e,a),t=vs(null,t,u,!0,p,a)):(t.tag=0,lt&&p&&ql(t),en(null,t,h,a),t=t.child),t;case 16:u=t.elementType;e:{switch(So(e,t),e=t.pendingProps,h=u._init,u=h(u._payload),t.type=u,h=t.tag=Um(u),e=Rn(u,e),h){case 0:t=ys(null,t,u,e,a);break e;case 1:t=id(null,t,u,e,a);break e;case 11:t=Jh(null,t,u,e,a);break e;case 14:t=ed(null,t,u,Rn(u.type,e),a);break e}throw Error(i(306,u,""))}return t;case 0:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Rn(u,h),ys(e,t,u,h,a);case 1:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Rn(u,h),id(e,t,u,h,a);case 3:e:{if(ad(t),e===null)throw Error(i(387));u=t.pendingProps,p=t.memoizedState,h=p.element,kh(e,t),po(t,u,null,a);var k=t.memoizedState;if(u=k.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){h=mi(Error(i(423)),t),t=od(e,t,u,a,h);break e}else if(u!==h){h=mi(Error(i(424)),t),t=od(e,t,u,a,h);break e}else for(xn=mr(t.stateNode.containerInfo.firstChild),vn=t,lt=!0,Ln=null,a=vh(t,null,u,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hi(),u===h){t=or(e,t,a);break e}en(e,t,u,a)}t=t.child}return t;case 5:return bh(t),e===null&&$l(t),u=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,k=h.children,jl(u,h)?k=null:p!==null&&jl(u,p)&&(t.flags|=32),rd(e,t),en(e,t,k,a),t.child;case 6:return e===null&&$l(t),null;case 13:return ld(e,t,a);case 4:return ts(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=di(t,null,u,a):en(e,t,u,a),t.child;case 11:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Rn(u,h),Jh(e,t,u,h,a);case 7:return en(e,t,t.pendingProps,a),t.child;case 8:return en(e,t,t.pendingProps.children,a),t.child;case 12:return en(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(u=t.type._context,h=t.pendingProps,p=t.memoizedProps,k=h.value,et(uo,u._currentValue),u._currentValue=k,p!==null)if(Mn(p.value,k)){if(p.children===h.children&&!rn.current){t=or(e,t,a);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var T=p.dependencies;if(T!==null){k=p.child;for(var E=T.firstContext;E!==null;){if(E.context===u){if(p.tag===1){E=ar(-1,a&-a),E.tag=2;var j=p.updateQueue;if(j!==null){j=j.shared;var V=j.pending;V===null?E.next=E:(E.next=V.next,V.next=E),j.pending=E}}p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),Zl(p.return,a,t),T.lanes|=a;break}E=E.next}}else if(p.tag===10)k=p.type===t.type?null:p.child;else if(p.tag===18){if(k=p.return,k===null)throw Error(i(341));k.lanes|=a,T=k.alternate,T!==null&&(T.lanes|=a),Zl(k,a,t),k=p.sibling}else k=p.child;if(k!==null)k.return=p;else for(k=p;k!==null;){if(k===t){k=null;break}if(p=k.sibling,p!==null){p.return=k.return,k=p;break}k=k.return}p=k}en(e,t,h.children,a),t=t.child}return t;case 9:return h=t.type,u=t.pendingProps.children,fi(t,a),h=On(h),u=u(h),t.flags|=1,en(e,t,u,a),t.child;case 14:return u=t.type,h=Rn(u,t.pendingProps),h=Rn(u.type,h),ed(e,t,u,h,a);case 15:return td(e,t,t.type,t.pendingProps,a);case 17:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Rn(u,h),So(e,t),t.tag=1,an(u)?(e=!0,ro(t)):e=!1,fi(t,a),Qh(t,u,h),fs(t,u,h,a),vs(null,t,u,!0,e,a);case 19:return ud(e,t,a);case 22:return nd(e,t,a)}throw Error(i(156,t.tag))};function _d(e,t){return Ma(e,t)}function qm(e,t,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,a,u){return new qm(e,t,a,u)}function js(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Um(e){if(typeof e=="function")return js(e)?1:0;if(e!=null){if(e=e.$$typeof,e===le)return 11;if(e===G)return 14}return 2}function Nr(e,t){var a=e.alternate;return a===null?(a=In(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function _o(e,t,a,u,h,p){var k=2;if(u=e,typeof e=="function")js(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case ce:return $r(a.children,h,p,t);case ve:k=8,h|=8;break;case be:return e=In(12,a,t,h|2),e.elementType=be,e.lanes=p,e;case Te:return e=In(13,a,t,h),e.elementType=Te,e.lanes=p,e;case ue:return e=In(19,a,t,h),e.elementType=ue,e.lanes=p,e;case Ce:return Ao(a,h,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case me:k=10;break e;case oe:k=9;break e;case le:k=11;break e;case G:k=14;break e;case se:k=16,u=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=In(k,a,t,h),t.elementType=e,t.type=u,t.lanes=p,t}function $r(e,t,a,u){return e=In(7,e,u,t),e.lanes=a,e}function Ao(e,t,a,u){return e=In(22,e,u,t),e.elementType=Ce,e.lanes=a,e.stateNode={isHidden:!1},e}function Ws(e,t,a){return e=In(6,e,null,t),e.lanes=a,e}function zs(e,t,a){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qm(e,t,a,u,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Fs(e,t,a,u,h,p,k,T,E){return e=new Qm(e,t,a,T,E),t===1?(t=1,p===!0&&(t|=8)):t=0,p=In(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},es(p),e}function $m(e,t,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:u==null?null:""+u,children:e,containerInfo:t,implementation:a}}function Ad(e){if(!e)return vr;e=e._reactInternals;e:{if(ke(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(an(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var a=e.type;if(an(a))return sh(e,a,t)}return t}function Md(e,t,a,u,h,p,k,T,E){return e=Fs(a,u,!0,e,h,p,k,T,E),e.context=Ad(null),a=e.current,u=tn(),h=Tr(a),p=ar(u,h),p.callback=t??null,wr(a,p,h),e.current.lanes=h,Ai(e,h,u),sn(e,u),e}function Mo(e,t,a,u){var h=t.current,p=tn(),k=Tr(h);return a=Ad(a),t.context===null?t.context=a:t.pendingContext=a,t=ar(p,k),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=wr(h,t,k),e!==null&&(zn(e,h,k,p),ho(e,h,k)),k}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ld(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ks(e,t){Ld(e,t),(e=e.alternate)&&Ld(e,t)}function Vm(){return null}var Rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ys(e){this._internalRoot=e}Ro.prototype.render=Ys.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Mo(e,t,null,null)},Ro.prototype.unmount=Ys.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qr(function(){Mo(null,e,null,null)}),t[er]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=kc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<pr.length&&t!==0&&t<pr[a].priority;a++);pr.splice(a,0,e),a===0&&bc(e)}};function qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jd(){}function Gm(e,t,a,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var j=Lo(k);p.call(j)}}var k=Md(t,u,e,0,null,!1,!1,"",jd);return e._reactRootContainer=k,e[er]=k.current,Vi(e.nodeType===8?e.parentNode:e),qr(),k}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var j=Lo(E);T.call(j)}}var E=Fs(e,0,!1,null,null,!1,!1,"",jd);return e._reactRootContainer=E,e[er]=E.current,Vi(e.nodeType===8?e.parentNode:e),qr(function(){Mo(t,E,a,u)}),E}function Wo(e,t,a,u,h){var p=a._reactRootContainer;if(p){var k=p;if(typeof h=="function"){var T=h;h=function(){var E=Lo(k);T.call(E)}}Mo(t,k,e,h)}else k=Gm(a,t,e,h,u);return Lo(k)}vc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=mn(t.pendingLanes);a!==0&&(fl(t,a|1),sn(t,ct()),(Qe&6)===0&&(xi=ct()+500,xr()))}break;case 13:qr(function(){var u=ir(e,1);if(u!==null){var h=tn();zn(u,e,1,h)}}),Ks(e,1)}},gl=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var a=tn();zn(t,e,134217728,a)}Ks(e,134217728)}},xc=function(e){if(e.tag===13){var t=Tr(e),a=ir(e,t);if(a!==null){var u=tn();zn(a,e,t,u)}Ks(e,t)}},kc=function(){return He},wc=function(e,t){var a=He;try{return He=e,t()}finally{He=a}},Xn=function(e,t,a){switch(t){case"input":if(ut(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var u=a[t];if(u!==e&&u.form===e.form){var h=to(u);if(!h)throw Error(i(90));Fe(u),ut(u,h)}}}break;case"textarea":nn(e,a);break;case"select":t=a.value,t!=null&&Ut(e,!!a.multiple,t,!1)}},Qt=Ms,Wt=qr;var Hm={usingClientEntryPoint:!1,Events:[Xi,oi,to,pt,jt,Ms]},ha={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xm={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ii(e),e===null?null:e.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||Vm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Mr=zo.inject(Xm),Tn=zo}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hm,un.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qs(t))throw Error(i(200));return $m(e,t,null,a)},un.createRoot=function(e,t){if(!qs(e))throw Error(i(299));var a=!1,u="",h=Rd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Fs(e,1,!1,null,null,a,!1,u,h),e[er]=t.current,Vi(e.nodeType===8?e.parentNode:e),new Ys(t)},un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ii(t),e=e===null?null:e.stateNode,e},un.flushSync=function(e){return qr(e)},un.hydrate=function(e,t,a){if(!jo(t))throw Error(i(200));return Wo(null,e,t,!0,a)},un.hydrateRoot=function(e,t,a){if(!qs(e))throw Error(i(405));var u=a!=null&&a.hydratedSources||null,h=!1,p="",k=Rd;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),t=Md(t,null,e,1,a??null,h,!1,p,k),e[er]=t.current,Vi(e),u)for(e=0;e<u.length;e++)a=u[e],h=a._getVersion,h=h(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,h]:t.mutableSourceEagerHydrationData.push(a,h);return new Ro(t)},un.render=function(e,t,a){if(!jo(t))throw Error(i(200));return Wo(null,e,t,!1,a)},un.unmountComponentAtNode=function(e){if(!jo(e))throw Error(i(40));return e._reactRootContainer?(qr(function(){Wo(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},un.unstable_batchedUpdates=Ms,un.unstable_renderSubtreeIntoContainer=function(e,t,a,u){if(!jo(a))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Wo(e,t,a,!1,u)},un.version="18.3.1-next-f1338f8080-20240426",un}var Qd;function oy(){if(Qd)return $s.exports;Qd=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),$s.exports=ay(),$s.exports}var $d;function ly(){if($d)return Fo;$d=1;var r=oy();return Fo.createRoot=r.createRoot,Fo.hydrateRoot=r.hydrateRoot,Fo}var sy=ly();function uy(r){return r!==null?{comment:r,variations:[]}:{variations:[]}}function cy(r,n,i,o,l){const s={move:r,variations:l};return n&&(s.suffix=n),i&&(s.nag=i),o!==null&&(s.comment=o),s}function hy(...r){const[n,...i]=r;let o=n;for(const l of i)l!==null&&(o.variations=[l,...l.variations],l.variations=[],o=l);return n}function dy(r,n){if(n.marker&&n.marker.comment){let i=n.root;for(;;){const o=i.variations[0];if(!o){i.comment=n.marker.comment;break}i=o}}return{headers:r,root:n.root,result:(n.marker&&n.marker.result)??void 0}}function py(r,n){function i(){this.constructor=r}i.prototype=n.prototype,r.prototype=new i}function Ni(r,n,i,o){var l=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(l,Ni.prototype),l.expected=n,l.found=i,l.location=o,l.name="SyntaxError",l}py(Ni,Error);function Hs(r,n,i){return i=i||" ",r.length>n?r:(n-=r.length,i+=i.repeat(n),r+i.slice(0,n))}Ni.prototype.format=function(r){var n="Error: "+this.message;if(this.location){var i=null,o;for(o=0;o<r.length;o++)if(r[o].source===this.location.source){i=r[o].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(l):l,c=this.location.source+":"+s.line+":"+s.column;if(i){var d=this.location.end,f=Hs("",s.line.toString().length," "),g=i[l.line-1],m=l.line===d.line?d.column:g.length+1,x=m-l.column||1;n+=`
 --> `+c+`
`+f+` |
`+s.line+" | "+g+`
`+f+" | "+Hs("",l.column-1," ")+Hs("",x,"^")}else n+=`
 at `+c}return n};Ni.buildMessage=function(r,n){var i={literal:function(g){return'"'+l(g.text)+'"'},class:function(g){var m=g.parts.map(function(x){return Array.isArray(x)?s(x[0])+"-"+s(x[1]):s(x)});return"["+(g.inverted?"^":"")+m.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function o(g){return g.charCodeAt(0).toString(16).toUpperCase()}function l(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+o(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+o(m)})}function s(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+o(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+o(m)})}function c(g){return i[g.type](g)}function d(g){var m=g.map(c),x,w;if(m.sort(),m.length>0){for(x=1,w=1;x<m.length;x++)m[x-1]!==m[x]&&(m[w]=m[x],w++);m.length=w}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function f(g){return g?'"'+l(g)+'"':"end of input"}return"Expected "+d(r)+" but "+f(n)+" found."};function fy(r,n){n=n!==void 0?n:{};var i={},o=n.grammarSource,l={pgn:Pi},s=Pi,c="[",d='"',f="]",g=".",m="O-O-O",x="O-O",w="0-0-0",v="0-0",D="$",N="{",O="}",_=";",Q="(",W=")",de="1-0",pe="0-1",R="1/2-1/2",ce="*",ve=/^[a-zA-Z]/,be=/^[^"]/,me=/^[0-9]/,oe=/^[.]/,le=/^[a-zA-Z1-8\-=]/,Te=/^[+#]/,ue=/^[!?]/,G=/^[^}]/,se=/^[^\r\n]/,Ce=/^[ \t\r\n]/,Z=_t("tag pair"),ge=Je("[",!1),y=Je('"',!1),S=Je("]",!1),B=_t("tag name"),C=zt([["a","z"],["A","Z"]],!1,!1),Y=_t("tag value"),ee=zt(['"'],!0,!1),X=_t("move number"),ne=zt([["0","9"]],!1,!1),q=Je(".",!1),ae=zt(["."],!1,!1),he=_t("standard algebraic notation"),Ie=Je("O-O-O",!1),Fe=Je("O-O",!1),Ue=Je("0-0-0",!1),Re=Je("0-0",!1),Ze=zt([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),gt=zt(["+","#"],!1,!1),ut=_t("suffix annotation"),St=zt(["!","?"],!1,!1),vt=_t("NAG"),at=Je("$",!1),Ut=_t("brace comment"),Nt=Je("{",!1),pn=zt(["}"],!0,!1),nn=Je("}",!1),Fn=_t("rest of line comment"),K=Je(";",!1),te=zt(["\r",`
`],!0,!1),Ee=_t("variation"),_e=Je("(",!1),ze=Je(")",!1),Xe=_t("game termination marker"),Ot=Je("1-0",!1),Dt=Je("0-1",!1),Cn=Je("1/2-1/2",!1),fn=Je("*",!1),mt=_t("whitespace"),Jt=zt([" ","	","\r",`
`],!1,!1),bt=function(I,z){return dy(I,z)},Kn=function(I){return Object.fromEntries(I)},Xn=function(I,z){return[I,z]},Yn=function(I,z){return{root:I,marker:z}},Ye=function(I,z){return hy(uy(I),...z.flat())},ot=function(I,z,F,Oe,Ne){return cy(I,z,F,Oe,Ne)},pt=function(I){return I},jt=function(I){return I.replace(/[\r\n]+/g," ")},Qt=function(I){return I.trim()},Wt=function(I){return I},Pt=function(I,z){return{result:I,comment:z}},L=n.peg$currPos|0,It=[{line:1,column:1}],Ge=L,gn=n.peg$maxFailExpected||[],re=n.peg$silentFails|0,Bt;if(n.startRule){if(!(n.startRule in l))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');s=l[n.startRule]}function Je(I,z){return{type:"literal",text:I,ignoreCase:z}}function zt(I,z,F){return{type:"class",parts:I,inverted:z,ignoreCase:F}}function Zn(){return{type:"end"}}function _t(I){return{type:"other",description:I}}function Ia(I){var z=It[I],F;if(z)return z;if(I>=It.length)F=It.length-1;else for(F=I;!It[--F];);for(z=It[F],z={line:z.line,column:z.column};F<I;)r.charCodeAt(F)===10?(z.line++,z.column=1):z.column++,F++;return It[I]=z,z}function Ba(I,z,F){var Oe=Ia(I),Ne=Ia(z),qe={source:o,start:{offset:I,line:Oe.line,column:Oe.column},end:{offset:z,line:Ne.line,column:Ne.column}};return qe}function ke(I){L<Ge||(L>Ge&&(Ge=L,gn=[]),gn.push(I))}function _a(I,z,F){return new Ni(Ni.buildMessage(I,z),I,z,F)}function Pi(){var I,z,F;return I=L,z=ul(),F=La(),I=bt(z,F),I}function ul(){var I,z,F;for(I=L,z=[],F=Ii();F!==i;)z.push(F),F=Ii();return F=Ft(),I=Kn(z),I}function Ii(){var I,z,F,Oe,Ne,qe,mn;return re++,I=L,Ft(),r.charCodeAt(L)===91?(z=c,L++):(z=i,re===0&&ke(ge)),z!==i?(Ft(),F=Aa(),F!==i?(Ft(),r.charCodeAt(L)===34?(Oe=d,L++):(Oe=i,re===0&&ke(y)),Oe!==i?(Ne=Ma(),r.charCodeAt(L)===34?(qe=d,L++):(qe=i,re===0&&ke(y)),qe!==i?(Ft(),r.charCodeAt(L)===93?(mn=f,L++):(mn=i,re===0&&ke(S)),mn!==i?I=Xn(F,Ne):(L=I,I=i)):(L=I,I=i)):(L=I,I=i)):(L=I,I=i)):(L=I,I=i),re--,I===i&&re===0&&ke(Z),I}function Aa(){var I,z,F;if(re++,I=L,z=[],F=r.charAt(L),ve.test(F)?L++:(F=i,re===0&&ke(C)),F!==i)for(;F!==i;)z.push(F),F=r.charAt(L),ve.test(F)?L++:(F=i,re===0&&ke(C));else z=i;return z!==i?I=r.substring(I,L):I=z,re--,I===i&&(z=i,re===0&&ke(B)),I}function Ma(){var I,z,F;for(re++,I=L,z=[],F=r.charAt(L),be.test(F)?L++:(F=i,re===0&&ke(ee));F!==i;)z.push(F),F=r.charAt(L),be.test(F)?L++:(F=i,re===0&&ke(ee));return I=r.substring(I,L),re--,z=i,re===0&&ke(Y),I}function La(){var I,z,F;return I=L,z=Ra(),Ft(),F=Tn(),F===i&&(F=null),Ft(),I=Yn(z,F),I}function Ra(){var I,z,F,Oe;for(I=L,z=ur(),z===i&&(z=null),F=[],Oe=ja();Oe!==i;)F.push(Oe),Oe=ja();return I=Ye(z,F),I}function ja(){var I,z,F,Oe,Ne,qe,mn,Jn;if(I=L,Ft(),ct(),Ft(),z=cl(),z!==i){for(F=Bi(),F===i&&(F=null),Oe=[],Ne=_i();Ne!==i;)Oe.push(Ne),Ne=_i();for(Ne=Ft(),qe=ur(),qe===i&&(qe=null),mn=[],Jn=Mr();Jn!==i;)mn.push(Jn),Jn=Mr();I=ot(z,F,Oe,qe,mn)}else L=I,I=i;return I}function ct(){var I,z,F,Oe,Ne,qe;for(re++,I=L,z=[],F=r.charAt(L),me.test(F)?L++:(F=i,re===0&&ke(ne));F!==i;)z.push(F),F=r.charAt(L),me.test(F)?L++:(F=i,re===0&&ke(ne));if(r.charCodeAt(L)===46?(F=g,L++):(F=i,re===0&&ke(q)),F!==i){for(Oe=Ft(),Ne=[],qe=r.charAt(L),oe.test(qe)?L++:(qe=i,re===0&&ke(ae));qe!==i;)Ne.push(qe),qe=r.charAt(L),oe.test(qe)?L++:(qe=i,re===0&&ke(ae));z=[z,F,Oe,Ne],I=z}else L=I,I=i;return re--,I===i&&(z=i,re===0&&ke(X)),I}function cl(){var I,z,F,Oe,Ne,qe;if(re++,I=L,z=L,r.substr(L,5)===m?(F=m,L+=5):(F=i,re===0&&ke(Ie)),F===i&&(r.substr(L,3)===x?(F=x,L+=3):(F=i,re===0&&ke(Fe)),F===i&&(r.substr(L,5)===w?(F=w,L+=5):(F=i,re===0&&ke(Ue)),F===i&&(r.substr(L,3)===v?(F=v,L+=3):(F=i,re===0&&ke(Re)),F===i))))if(F=L,Oe=r.charAt(L),ve.test(Oe)?L++:(Oe=i,re===0&&ke(C)),Oe!==i){if(Ne=[],qe=r.charAt(L),le.test(qe)?L++:(qe=i,re===0&&ke(Ze)),qe!==i)for(;qe!==i;)Ne.push(qe),qe=r.charAt(L),le.test(qe)?L++:(qe=i,re===0&&ke(Ze));else Ne=i;Ne!==i?(Oe=[Oe,Ne],F=Oe):(L=F,F=i)}else L=F,F=i;return F!==i?(Oe=r.charAt(L),Te.test(Oe)?L++:(Oe=i,re===0&&ke(gt)),Oe===i&&(Oe=null),F=[F,Oe],z=F):(L=z,z=i),z!==i?I=r.substring(I,L):I=z,re--,I===i&&(z=i,re===0&&ke(he)),I}function Bi(){var I,z,F;for(re++,I=L,z=[],F=r.charAt(L),ue.test(F)?L++:(F=i,re===0&&ke(St));F!==i;)z.push(F),z.length>=2?F=i:(F=r.charAt(L),ue.test(F)?L++:(F=i,re===0&&ke(St)));return z.length<1?(L=I,I=i):I=z,re--,I===i&&(z=i,re===0&&ke(ut)),I}function _i(){var I,z,F,Oe,Ne;if(re++,I=L,Ft(),r.charCodeAt(L)===36?(z=D,L++):(z=i,re===0&&ke(at)),z!==i){if(F=L,Oe=[],Ne=r.charAt(L),me.test(Ne)?L++:(Ne=i,re===0&&ke(ne)),Ne!==i)for(;Ne!==i;)Oe.push(Ne),Ne=r.charAt(L),me.test(Ne)?L++:(Ne=i,re===0&&ke(ne));else Oe=i;Oe!==i?F=r.substring(F,L):F=Oe,F!==i?I=pt(F):(L=I,I=i)}else L=I,I=i;return re--,I===i&&re===0&&ke(vt),I}function ur(){var I;return I=hl(),I===i&&(I=Wa()),I}function hl(){var I,z,F,Oe,Ne;if(re++,I=L,r.charCodeAt(L)===123?(z=N,L++):(z=i,re===0&&ke(Nt)),z!==i){for(F=L,Oe=[],Ne=r.charAt(L),G.test(Ne)?L++:(Ne=i,re===0&&ke(pn));Ne!==i;)Oe.push(Ne),Ne=r.charAt(L),G.test(Ne)?L++:(Ne=i,re===0&&ke(pn));F=r.substring(F,L),r.charCodeAt(L)===125?(Oe=O,L++):(Oe=i,re===0&&ke(nn)),Oe!==i?I=jt(F):(L=I,I=i)}else L=I,I=i;return re--,I===i&&(z=i,re===0&&ke(Ut)),I}function Wa(){var I,z,F,Oe,Ne;if(re++,I=L,r.charCodeAt(L)===59?(z=_,L++):(z=i,re===0&&ke(K)),z!==i){for(F=L,Oe=[],Ne=r.charAt(L),se.test(Ne)?L++:(Ne=i,re===0&&ke(te));Ne!==i;)Oe.push(Ne),Ne=r.charAt(L),se.test(Ne)?L++:(Ne=i,re===0&&ke(te));F=r.substring(F,L),I=Qt(F)}else L=I,I=i;return re--,I===i&&(z=i,re===0&&ke(Fn)),I}function Mr(){var I,z,F,Oe;return re++,I=L,Ft(),r.charCodeAt(L)===40?(z=Q,L++):(z=i,re===0&&ke(_e)),z!==i?(F=Ra(),F!==i?(Ft(),r.charCodeAt(L)===41?(Oe=W,L++):(Oe=i,re===0&&ke(ze)),Oe!==i?I=Wt(F):(L=I,I=i)):(L=I,I=i)):(L=I,I=i),re--,I===i&&re===0&&ke(Ee),I}function Tn(){var I,z,F;return re++,I=L,r.substr(L,3)===de?(z=de,L+=3):(z=i,re===0&&ke(Ot)),z===i&&(r.substr(L,3)===pe?(z=pe,L+=3):(z=i,re===0&&ke(Dt)),z===i&&(r.substr(L,7)===R?(z=R,L+=7):(z=i,re===0&&ke(Cn)),z===i&&(r.charCodeAt(L)===42?(z=ce,L++):(z=i,re===0&&ke(fn))))),z!==i?(Ft(),F=ur(),F===i&&(F=null),I=Pt(z,F)):(L=I,I=i),re--,I===i&&(z=i,re===0&&ke(Xe)),I}function Ft(){var I,z;for(re++,I=[],z=r.charAt(L),Ce.test(z)?L++:(z=i,re===0&&ke(Jt));z!==i;)I.push(z),z=r.charAt(L),Ce.test(z)?L++:(z=i,re===0&&ke(Jt));return re--,z=i,re===0&&ke(mt),I}if(Bt=s(),n.peg$library)return{peg$result:Bt,peg$currPos:L,peg$FAILED:i,peg$maxFailExpected:gn,peg$maxFailPos:Ge};if(Bt!==i&&L===r.length)return Bt;throw Bt!==i&&L<r.length&&ke(Zn()),_a(gn,Ge<r.length?r.charAt(Ge):null,Ge<r.length?Ba(Ge,Ge+1):Ba(Ge,Ge))}const Ho=0xffffffffffffffffn;function Xs(r,n){return(r<<n|r>>64n-n)&0xffffffffffffffffn}function Vd(r,n){return r*n&Ho}function gy(r){return function(){let n=BigInt(r&Ho),i=BigInt(r>>64n&Ho);const o=Vd(Xs(Vd(n,5n),7n),9n);return i^=n,n=(Xs(n,24n)^i^i<<16n)&Ho,i=Xs(i,37n),r=i<<64n|n,o}}const rl=gy(0xa187eb39cdcaed8f31c4b365b102e01en),my=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>rl()))),yy=Array.from({length:8},()=>rl()),vy=Array.from({length:16},()=>rl()),Zs=rl(),Xt="w",wn="b",kt="p",bu="n",Xo="b",ka="r",Br="q",Et="k",Js="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Ko{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(n,i){const{color:o,piece:l,from:s,to:c,flags:d,captured:f,promotion:g}=i,m=Rt(s),x=Rt(c);this.color=o,this.piece=l,this.from=m,this.to=x,this.san=n._moveToSan(i,n._moves({legal:!0})),this.lan=m+x,this.before=n.fen(),n._makeMove(i),this.after=n.fen(),n._undoMove(),this.flags="";for(const w in Le)Le[w]&d&&(this.flags+=Vr[w]);f&&(this.captured=f),g&&(this.promotion=g,this.lan+=g)}isCapture(){return this.flags.indexOf(Vr.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Vr.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Vr.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Vr.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Vr.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Vr.BIG_PAWN)>-1}}const qt=-1,Vr={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},Le={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Cu={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},xy={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},ky={...Cu,...xy},Be={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},eu={b:[16,32,17,15],w:[-16,-32,-17,-15]},Gd={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},wy=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Sy=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],by={p:1,n:2,b:4,r:8,q:16,k:32},Cy="pnbrqkPNBRQK",Hd=[bu,Xo,ka,Br],Ty=7,Ey=6,Ny=1,Oy=0,Yo={[Et]:Le.KSIDE_CASTLE,[Br]:Le.QSIDE_CASTLE},Dr={w:[{square:Be.a1,flag:Le.QSIDE_CASTLE},{square:Be.h1,flag:Le.KSIDE_CASTLE}],b:[{square:Be.a8,flag:Le.QSIDE_CASTLE},{square:Be.h8,flag:Le.KSIDE_CASTLE}]},Dy={b:Ny,w:Ey},tu="--";function Gr(r){return r>>4}function Ea(r){return r&15}function df(r){return"0123456789".indexOf(r)!==-1}function Rt(r){const n=Ea(r),i=Gr(r);return"abcdefgh".substring(n,n+1)+"87654321".substring(i,i+1)}function pa(r){return r===Xt?wn:Xt}function Py(r){const n=r.split(/\s+/);if(n.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const i=parseInt(n[5],10);if(isNaN(i)||i<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const o=parseInt(n[4],10);if(isNaN(o)||o<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(n[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(n[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(n[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const l=n[0].split("/");if(l.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let c=0;c<l.length;c++){let d=0,f=!1;for(let g=0;g<l[c].length;g++)if(df(l[c][g])){if(f)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};d+=parseInt(l[c][g],10),f=!0}else{if(!/^[prnbqkPRNBQK]$/.test(l[c][g]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};d+=1,f=!1}if(d!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(n[3][1]=="3"&&n[1]=="w"||n[3][1]=="6"&&n[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const s=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:c,regex:d}of s){if(!d.test(n[0]))return{ok:!1,error:`Invalid FEN: missing ${c} king`};if((n[0].match(d)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${c} kings`}}return Array.from(l[0]+l[7]).some(c=>c.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function Iy(r,n){const i=r.from,o=r.to,l=r.piece;let s=0,c=0,d=0;for(let f=0,g=n.length;f<g;f++){const m=n[f].from,x=n[f].to,w=n[f].piece;l===w&&i!==m&&o===x&&(s++,Gr(i)===Gr(m)&&c++,Ea(i)===Ea(m)&&d++)}return s>0?c>0&&d>0?Rt(i):d>0?Rt(i).charAt(1):Rt(i).charAt(0):""}function Pr(r,n,i,o,l,s=void 0,c=Le.NORMAL){const d=Gr(o);if(l===kt&&(d===Ty||d===Oy))for(let f=0;f<Hd.length;f++){const g=Hd[f];r.push({color:n,from:i,to:o,piece:l,captured:s,promotion:g,flags:c|Le.PROMOTION})}else r.push({color:n,from:i,to:o,piece:l,captured:s,flags:c})}function Xd(r){let n=r.charAt(0);return n>="a"&&n<="h"?r.match(/[a-h]\d.*[a-h]\d/)?void 0:kt:(n=n.toLowerCase(),n==="o"?Et:n)}function nu(r){return r.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Ci{_board=new Array(128);_turn=Xt;_header={};_kings={w:qt,b:qt};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(n=Js,{skipValidation:i=!1}={}){this.load(n,{skipValidation:i})}clear({preserveHeaders:n=!1}={}){this._board=new Array(128),this._kings={w:qt,b:qt},this._turn=Xt,this._castling={w:0,b:0},this._epSquare=qt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=n?this._header:{...ky},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(n,{skipValidation:i=!1,preserveHeaders:o=!1}={}){let l=n.split(/\s+/);if(l.length>=2&&l.length<6){const d=["-","-","0","1"];n=l.concat(d.slice(-(6-l.length))).join(" ")}if(l=n.split(/\s+/),!i){const{ok:d,error:f}=Py(n);if(!d)throw new Error(f)}const s=l[0];let c=0;this.clear({preserveHeaders:o});for(let d=0;d<s.length;d++){const f=s.charAt(d);if(f==="/")c+=8;else if(df(f))c+=parseInt(f,10);else{const g=f<"a"?Xt:wn;this._put({type:f.toLowerCase(),color:g},Rt(c)),c++}}this._turn=l[1],l[2].indexOf("K")>-1&&(this._castling.w|=Le.KSIDE_CASTLE),l[2].indexOf("Q")>-1&&(this._castling.w|=Le.QSIDE_CASTLE),l[2].indexOf("k")>-1&&(this._castling.b|=Le.KSIDE_CASTLE),l[2].indexOf("q")>-1&&(this._castling.b|=Le.QSIDE_CASTLE),this._epSquare=l[3]==="-"?qt:Be[l[3]],this._halfMoves=parseInt(l[4],10),this._moveNumber=parseInt(l[5],10),this._hash=this._computeHash(),this._updateSetup(n),this._incPositionCount()}fen({forceEnpassantSquare:n=!1}={}){let i=0,o="";for(let c=Be.a8;c<=Be.h1;c++){if(this._board[c]){i>0&&(o+=i,i=0);const{color:d,type:f}=this._board[c];o+=d===Xt?f.toUpperCase():f.toLowerCase()}else i++;c+1&136&&(i>0&&(o+=i),c!==Be.h1&&(o+="/"),i=0,c+=8)}let l="";this._castling[Xt]&Le.KSIDE_CASTLE&&(l+="K"),this._castling[Xt]&Le.QSIDE_CASTLE&&(l+="Q"),this._castling[wn]&Le.KSIDE_CASTLE&&(l+="k"),this._castling[wn]&Le.QSIDE_CASTLE&&(l+="q"),l=l||"-";let s="-";if(this._epSquare!==qt)if(n)s=Rt(this._epSquare);else{const c=this._epSquare+(this._turn===Xt?16:-16),d=[c+1,c-1];for(const f of d){if(f&136)continue;const g=this._turn;if(this._board[f]?.color===g&&this._board[f]?.type===kt){this._makeMove({color:g,from:f,to:this._epSquare,piece:kt,captured:kt,flags:Le.EP_CAPTURE});const m=!this._isKingAttacked(g);if(this._undoMove(),m){s=Rt(this._epSquare);break}}}}return[o,this._turn,l,s,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(n){if(!this._board[n])return 0n;const{color:i,type:o}=this._board[n],l={w:0,b:1}[i],s={p:0,n:1,b:2,r:3,q:4,k:5}[o];return my[l][s][n]}_epKey(){return this._epSquare===qt?0n:yy[this._epSquare&7]}_castlingKey(){const n=this._castling.w>>5|this._castling.b>>3;return vy[n]}_computeHash(){let n=0n;for(let i=Be.a8;i<=Be.h1;i++){if(i&136){i+=7;continue}this._board[i]&&(n^=this._pieceKey(i))}return n^=this._epKey(),n^=this._castlingKey(),this._turn==="b"&&(n^=Zs),n}_updateSetup(n){this._history.length>0||(n!==Js?(this._header.SetUp="1",this._header.FEN=n):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Js)}get(n){return this._board[Be[n]]}findPiece(n){const i=[];for(let o=Be.a8;o<=Be.h1;o++){if(o&136){o+=7;continue}!this._board[o]||this._board[o]?.color!==n.color||this._board[o].color===n.color&&this._board[o].type===n.type&&i.push(Rt(o))}return i}put({type:n,color:i},o){return this._put({type:n,color:i},o)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(n,i){this._hash^=this._pieceKey(n),this._board[n]=i,this._hash^=this._pieceKey(n)}_put({type:n,color:i},o){if(Cy.indexOf(n.toLowerCase())===-1||!(o in Be))return!1;const l=Be[o];if(n==Et&&!(this._kings[i]==qt||this._kings[i]==l))return!1;const s=this._board[l];return s&&s.type===Et&&(this._kings[s.color]=qt),this._set(l,{type:n,color:i}),n===Et&&(this._kings[i]=l),!0}_clear(n){this._hash^=this._pieceKey(n),delete this._board[n]}remove(n){const i=this.get(n);return this._clear(Be[n]),i&&i.type===Et&&(this._kings[i.color]=qt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),i}_updateCastlingRights(){this._hash^=this._castlingKey();const n=this._board[Be.e1]?.type===Et&&this._board[Be.e1]?.color===Xt,i=this._board[Be.e8]?.type===Et&&this._board[Be.e8]?.color===wn;(!n||this._board[Be.a1]?.type!==ka||this._board[Be.a1]?.color!==Xt)&&(this._castling.w&=-65),(!n||this._board[Be.h1]?.type!==ka||this._board[Be.h1]?.color!==Xt)&&(this._castling.w&=-33),(!i||this._board[Be.a8]?.type!==ka||this._board[Be.a8]?.color!==wn)&&(this._castling.b&=-65),(!i||this._board[Be.h8]?.type!==ka||this._board[Be.h8]?.color!==wn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===qt)return;const n=this._epSquare+(this._turn===Xt?-16:16),i=this._epSquare+(this._turn===Xt?16:-16),o=[i+1,i-1];if(this._board[n]!==null||this._board[this._epSquare]!==null||this._board[i]?.color!==pa(this._turn)||this._board[i]?.type!==kt){this._hash^=this._epKey(),this._epSquare=qt;return}const l=s=>!(s&136)&&this._board[s]?.color===this._turn&&this._board[s]?.type===kt;o.some(l)||(this._hash^=this._epKey(),this._epSquare=qt)}_attacked(n,i,o){const l=[];for(let s=Be.a8;s<=Be.h1;s++){if(s&136){s+=7;continue}if(this._board[s]===void 0||this._board[s].color!==n)continue;const c=this._board[s],d=s-i;if(d===0)continue;const f=d+119;if(wy[f]&by[c.type]){if(c.type===kt){if(d>0&&c.color===Xt||d<=0&&c.color===wn)if(o)l.push(Rt(s));else return!0;continue}if(c.type==="n"||c.type==="k")if(o){l.push(Rt(s));continue}else return!0;const g=Sy[f];let m=s+g,x=!1;for(;m!==i;){if(this._board[m]!=null){x=!0;break}m+=g}if(!x)if(o){l.push(Rt(s));continue}else return!0}}return o?l:!1}attackers(n,i){return i?this._attacked(i,Be[n],!0):this._attacked(this._turn,Be[n],!0)}_isKingAttacked(n){const i=this._kings[n];return i===-1?!1:this._attacked(pa(n),i)}hash(){return this._hash.toString(16)}isAttacked(n,i){return this._attacked(i,Be[n])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const n={b:0,n:0,r:0,q:0,k:0,p:0},i=[];let o=0,l=0;for(let s=Be.a8;s<=Be.h1;s++){if(l=(l+1)%2,s&136){s+=7;continue}const c=this._board[s];c&&(n[c.type]=c.type in n?n[c.type]+1:1,c.type===Xo&&i.push(l),o++)}if(o===2)return!0;if(o===3&&(n[Xo]===1||n[bu]===1))return!0;if(o===n[Xo]+2){let s=0;const c=i.length;for(let d=0;d<c;d++)s+=i[d];if(s===0||s===c)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:n=!1,square:i=void 0,piece:o=void 0}={}){const l=this._moves({square:i,piece:o});return n?l.map(s=>new Ko(this,s)):l.map(s=>this._moveToSan(s,l))}_moves({legal:n=!0,piece:i=void 0,square:o=void 0}={}){const l=o?o.toLowerCase():void 0,s=i?.toLowerCase(),c=[],d=this._turn,f=pa(d);let g=Be.a8,m=Be.h1,x=!1;if(l)if(l in Be)g=m=Be[l],x=!0;else return[];for(let v=g;v<=m;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===f)continue;const{type:D}=this._board[v];let N;if(D===kt){if(s&&s!==D)continue;N=v+eu[d][0],this._board[N]||(Pr(c,d,v,N,kt),N=v+eu[d][1],Dy[d]===Gr(v)&&!this._board[N]&&Pr(c,d,v,N,kt,void 0,Le.BIG_PAWN));for(let O=2;O<4;O++)N=v+eu[d][O],!(N&136)&&(this._board[N]?.color===f?Pr(c,d,v,N,kt,this._board[N].type,Le.CAPTURE):N===this._epSquare&&Pr(c,d,v,N,kt,kt,Le.EP_CAPTURE))}else{if(s&&s!==D)continue;for(let O=0,_=Gd[D].length;O<_;O++){const Q=Gd[D][O];for(N=v;N+=Q,!(N&136);){if(!this._board[N])Pr(c,d,v,N,D);else{if(this._board[N].color===d)break;Pr(c,d,v,N,D,this._board[N].type,Le.CAPTURE);break}if(D===bu||D===Et)break}}}}if((s===void 0||s===Et)&&(!x||m===this._kings[d])){if(this._castling[d]&Le.KSIDE_CASTLE){const v=this._kings[d],D=v+2;!this._board[v+1]&&!this._board[D]&&!this._attacked(f,this._kings[d])&&!this._attacked(f,v+1)&&!this._attacked(f,D)&&Pr(c,d,this._kings[d],D,Et,void 0,Le.KSIDE_CASTLE)}if(this._castling[d]&Le.QSIDE_CASTLE){const v=this._kings[d],D=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(f,this._kings[d])&&!this._attacked(f,v-1)&&!this._attacked(f,D)&&Pr(c,d,this._kings[d],D,Et,void 0,Le.QSIDE_CASTLE)}}if(!n||this._kings[d]===-1)return c;const w=[];for(let v=0,D=c.length;v<D;v++)this._makeMove(c[v]),this._isKingAttacked(d)||w.push(c[v]),this._undoMove();return w}move(n,{strict:i=!1}={}){let o=null;if(typeof n=="string")o=this._moveFromSan(n,i);else if(n===null)o=this._moveFromSan(tu,i);else if(typeof n=="object"){const s=this._moves();for(let c=0,d=s.length;c<d;c++)if(n.from===Rt(s[c].from)&&n.to===Rt(s[c].to)&&(!("promotion"in s[c])||n.promotion===s[c].promotion)){o=s[c];break}}if(!o)throw typeof n=="string"?new Error(`Invalid move: ${n}`):new Error(`Invalid move: ${JSON.stringify(n)}`);if(this.isCheck()&&o.flags&Le.NULL_MOVE)throw new Error("Null move not allowed when in check");const l=new Ko(this,o);return this._makeMove(o),this._incPositionCount(),l}_push(n){this._history.push({move:n,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(n,i){this._hash^=this._pieceKey(n),this._board[i]=this._board[n],delete this._board[n],this._hash^=this._pieceKey(i)}_makeMove(n){const i=this._turn,o=pa(i);if(this._push(n),n.flags&Le.NULL_MOVE){i===wn&&this._moveNumber++,this._halfMoves++,this._turn=o,this._epSquare=qt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),n.captured&&(this._hash^=this._pieceKey(n.to)),this._movePiece(n.from,n.to),n.flags&Le.EP_CAPTURE&&(this._turn===wn?this._clear(n.to-16):this._clear(n.to+16)),n.promotion&&(this._clear(n.to),this._set(n.to,{type:n.promotion,color:i})),this._board[n.to].type===Et){if(this._kings[i]=n.to,n.flags&Le.KSIDE_CASTLE){const l=n.to-1,s=n.to+1;this._movePiece(s,l)}else if(n.flags&Le.QSIDE_CASTLE){const l=n.to+1,s=n.to-2;this._movePiece(s,l)}this._castling[i]=0}if(this._castling[i]){for(let l=0,s=Dr[i].length;l<s;l++)if(n.from===Dr[i][l].square&&this._castling[i]&Dr[i][l].flag){this._castling[i]^=Dr[i][l].flag;break}}if(this._castling[o]){for(let l=0,s=Dr[o].length;l<s;l++)if(n.to===Dr[o][l].square&&this._castling[o]&Dr[o][l].flag){this._castling[o]^=Dr[o][l].flag;break}}if(this._hash^=this._castlingKey(),n.flags&Le.BIG_PAWN){let l;i===wn?l=n.to-16:l=n.to+16,!(n.to-1&136)&&this._board[n.to-1]?.type===kt&&this._board[n.to-1]?.color===o||!(n.to+1&136)&&this._board[n.to+1]?.type===kt&&this._board[n.to+1]?.color===o?(this._epSquare=l,this._hash^=this._epKey()):this._epSquare=qt}else this._epSquare=qt;n.piece===kt?this._halfMoves=0:n.flags&(Le.CAPTURE|Le.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,i===wn&&this._moveNumber++,this._turn=o,this._hash^=Zs}undo(){const n=this._hash,i=this._undoMove();if(i){const o=new Ko(this,i);return this._decPositionCount(n),o}return null}_undoMove(){const n=this._history.pop();if(n===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const i=n.move;this._kings=n.kings,this._turn=n.turn,this._castling=n.castling,this._epSquare=n.epSquare,this._halfMoves=n.halfMoves,this._moveNumber=n.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Zs;const o=this._turn,l=pa(o);if(i.flags&Le.NULL_MOVE)return i;if(this._movePiece(i.to,i.from),i.piece&&(this._clear(i.from),this._set(i.from,{type:i.piece,color:o})),i.captured)if(i.flags&Le.EP_CAPTURE){let s;o===wn?s=i.to-16:s=i.to+16,this._set(s,{type:kt,color:l})}else this._set(i.to,{type:i.captured,color:l});if(i.flags&(Le.KSIDE_CASTLE|Le.QSIDE_CASTLE)){let s,c;i.flags&Le.KSIDE_CASTLE?(s=i.to+1,c=i.to-1):(s=i.to-2,c=i.to+1),this._movePiece(c,s)}return i}pgn({newline:n=`
`,maxWidth:i=0}={}){const o=[];let l=!1;for(const w in this._header)this._header[w]&&o.push(`[${w} "${this._header[w]}"]`+n),l=!0;l&&this._history.length&&o.push(n);const s=w=>{const v=this._comments[this.fen()];if(typeof v<"u"){const D=w.length>0?" ":"";w=`${w}${D}{${v}}`}return w},c=[];for(;this._history.length>0;)c.push(this._undoMove());const d=[];let f="";for(c.length===0&&d.push(s(""));c.length>0;){f=s(f);const w=c.pop();if(!w)break;if(!this._history.length&&w.color==="b"){const v=`${this._moveNumber}. ...`;f=f?`${f} ${v}`:v}else w.color==="w"&&(f.length&&d.push(f),f=this._moveNumber+".");f=f+" "+this._moveToSan(w,this._moves({legal:!0})),this._makeMove(w)}if(f.length&&d.push(s(f)),d.push(this._header.Result||"*"),i===0)return o.join("")+d.join(" ");const g=function(){return o.length>0&&o[o.length-1]===" "?(o.pop(),!0):!1},m=function(w,v){for(const D of v.split(" "))if(D){if(w+D.length>i){for(;g();)w--;o.push(n),w=0}o.push(D),w+=D.length,o.push(" "),w++}return g()&&w--,w};let x=0;for(let w=0;w<d.length;w++){if(x+d[w].length>i&&d[w].includes("{")){x=m(x,d[w]);continue}x+d[w].length>i&&w!==0?(o[o.length-1]===" "&&o.pop(),o.push(n),x=0):w!==0&&(o.push(" "),x++),o.push(d[w]),x+=d[w].length}return o.join("")}header(...n){for(let i=0;i<n.length;i+=2)typeof n[i]=="string"&&typeof n[i+1]=="string"&&(this._header[n[i]]=n[i+1]);return this._header}setHeader(n,i){return this._header[n]=i??Cu[n]??null,this.getHeaders()}removeHeader(n){return n in this._header?(this._header[n]=Cu[n]||null,!0):!1}getHeaders(){const n={};for(const[i,o]of Object.entries(this._header))o!==null&&(n[i]=o);return n}loadPgn(n,{strict:i=!1,newlineChar:o=`\r?
`}={}){o!==`\r?
`&&(n=n.replace(new RegExp(o,"g"),`
`));const l=fy(n);this.reset();const s=l.headers;let c="";for(const g in s)g.toLowerCase()==="fen"&&(c=s[g]),this.header(g,s[g]);if(!i)c&&this.load(c,{preserveHeaders:!0});else if(s.SetUp==="1"){if(!("FEN"in s))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(s.FEN,{preserveHeaders:!0})}let d=l.root;for(;d;){if(d.move){const g=this._moveFromSan(d.move,i);if(g==null)throw new Error(`Invalid move in PGN: ${d.move}`);this._makeMove(g),this._incPositionCount()}d.comment!==void 0&&(this._comments[this.fen()]=d.comment),d=d.variations[0]}const f=l.result;f&&Object.keys(this._header).length&&this._header.Result!==f&&this.setHeader("Result",f)}_moveToSan(n,i){let o="";if(n.flags&Le.KSIDE_CASTLE)o="O-O";else if(n.flags&Le.QSIDE_CASTLE)o="O-O-O";else{if(n.flags&Le.NULL_MOVE)return tu;if(n.piece!==kt){const l=Iy(n,i);o+=n.piece.toUpperCase()+l}n.flags&(Le.CAPTURE|Le.EP_CAPTURE)&&(n.piece===kt&&(o+=Rt(n.from)[0]),o+="x"),o+=Rt(n.to),n.promotion&&(o+="="+n.promotion.toUpperCase())}return this._makeMove(n),this.isCheck()&&(this.isCheckmate()?o+="#":o+="+"),this._undoMove(),o}_moveFromSan(n,i=!1){let o=nu(n);if(i||(o==="0-0"?o="O-O":o==="0-0-0"&&(o="O-O-O")),o==tu)return{color:this._turn,from:0,to:0,piece:"k",flags:Le.NULL_MOVE};let l=Xd(o),s=this._moves({legal:!0,piece:l});for(let w=0,v=s.length;w<v;w++)if(o===nu(this._moveToSan(s[w],s)))return s[w];if(i)return null;let c,d,f,g,m,x=!1;if(d=o.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),d?(c=d[1],f=d[2],g=d[3],m=d[4],f.length==1&&(x=!0)):(d=o.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),d&&(c=d[1],f=d[2],g=d[3],m=d[4],f.length==1&&(x=!0))),l=Xd(o),s=this._moves({legal:!0,piece:c||l}),!g)return null;for(let w=0,v=s.length;w<v;w++)if(f){if((!c||c.toLowerCase()==s[w].piece)&&Be[f]==s[w].from&&Be[g]==s[w].to&&(!m||m.toLowerCase()==s[w].promotion))return s[w];if(x){const D=Rt(s[w].from);if((!c||c.toLowerCase()==s[w].piece)&&Be[g]==s[w].to&&(f==D[0]||f==D[1])&&(!m||m.toLowerCase()==s[w].promotion))return s[w]}}else if(o===nu(this._moveToSan(s[w],s)).replace("x",""))return s[w];return null}ascii(){let n=`   +------------------------+
`;for(let i=Be.a8;i<=Be.h1;i++){if(Ea(i)===0&&(n+=" "+"87654321"[Gr(i)]+" |"),this._board[i]){const o=this._board[i].type,s=this._board[i].color===Xt?o.toUpperCase():o.toLowerCase();n+=" "+s+" "}else n+=" . ";i+1&136&&(n+=`|
`,i+=8)}return n+=`   +------------------------+
`,n+="     a  b  c  d  e  f  g  h",n}perft(n){const i=this._moves({legal:!1});let o=0;const l=this._turn;for(let s=0,c=i.length;s<c;s++)this._makeMove(i[s]),this._isKingAttacked(l)||(n-1>0?o+=this.perft(n-1):o++),this._undoMove();return o}setTurn(n){return this._turn==n?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const n=[];let i=[];for(let o=Be.a8;o<=Be.h1;o++)this._board[o]==null?i.push(null):i.push({square:Rt(o),type:this._board[o].type,color:this._board[o].color}),o+1&136&&(n.push(i),i=[],o+=8);return n}squareColor(n){if(n in Be){const i=Be[n];return(Gr(i)+Ea(i))%2===0?"light":"dark"}return null}history({verbose:n=!1}={}){const i=[],o=[];for(;this._history.length>0;)i.push(this._undoMove());for(;;){const l=i.pop();if(!l)break;n?o.push(new Ko(this,l)):o.push(this._moveToSan(l,this._moves())),this._makeMove(l)}return o}_getPositionCount(n){return this._positionCount.get(n)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(n){const i=this._positionCount.get(n)??0;i===1?this._positionCount.delete(n):this._positionCount.set(n,i-1)}_pruneComments(){const n=[],i={},o=l=>{l in this._comments&&(i[l]=this._comments[l])};for(;this._history.length>0;)n.push(this._undoMove());for(o(this.fen());;){const l=n.pop();if(!l)break;this._makeMove(l),o(this.fen())}this._comments=i}getComment(){return this._comments[this.fen()]}setComment(n){this._comments[this.fen()]=n.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const n=this._comments[this.fen()];return delete this._comments[this.fen()],n}getComments(){return this._pruneComments(),Object.keys(this._comments).map(n=>({fen:n,comment:this._comments[n]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(n=>{const i=this._comments[n];return delete this._comments[n],{fen:n,comment:i}})}setCastlingRights(n,i){for(const l of[Et,Br])i[l]!==void 0&&(i[l]?this._castling[n]|=Yo[l]:this._castling[n]&=~Yo[l]);this._updateCastlingRights();const o=this.getCastlingRights(n);return(i[Et]===void 0||i[Et]===o[Et])&&(i[Br]===void 0||i[Br]===o[Br])}getCastlingRights(n){return{[Et]:(this._castling[n]&Yo[Et])!==0,[Br]:(this._castling[n]&Yo[Br])!==0}}moveNumber(){return this._moveNumber}}var Qu={};(function r(n,i,o,l){var s=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!n.OffscreenCanvas)return!1;try{var y=new OffscreenCanvas(1,1),S=y.getContext("2d");S.fillRect(0,0,1,1);var B=y.transferToImageBitmap();S.createPattern(B,"no-repeat")}catch{return!1}return!0})();function f(){}function g(y){var S=i.exports.Promise,B=S!==void 0?S:n.Promise;return typeof B=="function"?new B(y):(y(f,f),null)}var m=(function(y,S){return{transform:function(B){if(y)return B;if(S.has(B))return S.get(B);var C=new OffscreenCanvas(B.width,B.height),Y=C.getContext("2d");return Y.drawImage(B,0,0),S.set(B,C),C},clear:function(){S.clear()}}})(d,new Map),x=(function(){var y=Math.floor(16.666666666666668),S,B,C={},Y=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(ee){var X=Math.random();return C[X]=requestAnimationFrame(function ne(q){Y===q||Y+y-1<q?(Y=q,delete C[X],ee()):C[X]=requestAnimationFrame(ne)}),X},B=function(ee){C[ee]&&cancelAnimationFrame(C[ee])}):(S=function(ee){return setTimeout(ee,y)},B=function(ee){return clearTimeout(ee)}),{frame:S,cancel:B}})(),w=(function(){var y,S,B={};function C(Y){function ee(X,ne){Y.postMessage({options:X||{},callback:ne})}Y.init=function(ne){var q=ne.transferControlToOffscreen();Y.postMessage({canvas:q},[q])},Y.fire=function(ne,q,ae){if(S)return ee(ne,null),S;var he=Math.random().toString(36).slice(2);return S=g(function(Ie){function Fe(Ue){Ue.data.callback===he&&(delete B[he],Y.removeEventListener("message",Fe),S=null,m.clear(),ae(),Ie())}Y.addEventListener("message",Fe),ee(ne,he),B[he]=Fe.bind(null,{data:{callback:he}})}),S},Y.reset=function(){Y.postMessage({reset:!0});for(var ne in B)B[ne](),delete B[ne]}}return function(){if(y)return y;if(!o&&s){var Y=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([Y])))}catch(ee){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ee),null}C(y)}return y}})(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(y,S){return S?S(y):y}function N(y){return y!=null}function O(y,S,B){return D(y&&N(y[S])?y[S]:v[S],B)}function _(y){return y<0?0:Math.floor(y)}function Q(y,S){return Math.floor(Math.random()*(S-y))+y}function W(y){return parseInt(y,16)}function de(y){return y.map(pe)}function pe(y){var S=String(y).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:W(S.substring(0,2)),g:W(S.substring(2,4)),b:W(S.substring(4,6))}}function R(y){var S=O(y,"origin",Object);return S.x=O(S,"x",Number),S.y=O(S,"y",Number),S}function ce(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function ve(y){var S=y.getBoundingClientRect();y.width=S.width,y.height=S.height}function be(y){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=y,S}function me(y,S,B,C,Y,ee,X,ne,q){y.save(),y.translate(S,B),y.rotate(ee),y.scale(C,Y),y.arc(0,0,1,X,ne,q),y.restore()}function oe(y){var S=y.angle*(Math.PI/180),B=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-S+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function le(y,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var B=S.tick++/S.totalTicks,C=S.x+S.random*S.tiltCos,Y=S.y+S.random*S.tiltSin,ee=S.wobbleX+S.random*S.tiltCos,X=S.wobbleY+S.random*S.tiltSin;if(y.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-B)+")",y.beginPath(),c&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))y.fill(Ce(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(ee-C)*.1,Math.abs(X-Y)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var ne=Math.PI/10*S.wobble,q=Math.abs(ee-C)*.1,ae=Math.abs(X-Y)*.1,he=S.shape.bitmap.width*S.scalar,Ie=S.shape.bitmap.height*S.scalar,Fe=new DOMMatrix([Math.cos(ne)*q,Math.sin(ne)*q,-Math.sin(ne)*ae,Math.cos(ne)*ae,S.x,S.y]);Fe.multiplySelf(new DOMMatrix(S.shape.matrix));var Ue=y.createPattern(m.transform(S.shape.bitmap),"no-repeat");Ue.setTransform(Fe),y.globalAlpha=1-B,y.fillStyle=Ue,y.fillRect(S.x-he/2,S.y-Ie/2,he,Ie),y.globalAlpha=1}else if(S.shape==="circle")y.ellipse?y.ellipse(S.x,S.y,Math.abs(ee-C)*S.ovalScalar,Math.abs(X-Y)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):me(y,S.x,S.y,Math.abs(ee-C)*S.ovalScalar,Math.abs(X-Y)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var Re=Math.PI/2*3,Ze=4*S.scalar,gt=8*S.scalar,ut=S.x,St=S.y,vt=5,at=Math.PI/vt;vt--;)ut=S.x+Math.cos(Re)*gt,St=S.y+Math.sin(Re)*gt,y.lineTo(ut,St),Re+=at,ut=S.x+Math.cos(Re)*Ze,St=S.y+Math.sin(Re)*Ze,y.lineTo(ut,St),Re+=at;else y.moveTo(Math.floor(S.x),Math.floor(S.y)),y.lineTo(Math.floor(S.wobbleX),Math.floor(Y)),y.lineTo(Math.floor(ee),Math.floor(X)),y.lineTo(Math.floor(C),Math.floor(S.wobbleY));return y.closePath(),y.fill(),S.tick<S.totalTicks}function Te(y,S,B,C,Y){var ee=S.slice(),X=y.getContext("2d"),ne,q,ae=g(function(he){function Ie(){ne=q=null,X.clearRect(0,0,C.width,C.height),m.clear(),Y(),he()}function Fe(){o&&!(C.width===l.width&&C.height===l.height)&&(C.width=y.width=l.width,C.height=y.height=l.height),!C.width&&!C.height&&(B(y),C.width=y.width,C.height=y.height),X.clearRect(0,0,C.width,C.height),ee=ee.filter(function(Ue){return le(X,Ue)}),ee.length?ne=x.frame(Fe):Ie()}ne=x.frame(Fe),q=Ie});return{addFettis:function(he){return ee=ee.concat(he),ae},canvas:y,promise:ae,reset:function(){ne&&x.cancel(ne),q&&q()}}}function ue(y,S){var B=!y,C=!!O(S||{},"resize"),Y=!1,ee=O(S,"disableForReducedMotion",Boolean),X=s&&!!O(S||{},"useWorker"),ne=X?w():null,q=B?ce:ve,ae=y&&ne?!!y.__confetti_initialized:!1,he=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ie;function Fe(Re,Ze,gt){for(var ut=O(Re,"particleCount",_),St=O(Re,"angle",Number),vt=O(Re,"spread",Number),at=O(Re,"startVelocity",Number),Ut=O(Re,"decay",Number),Nt=O(Re,"gravity",Number),pn=O(Re,"drift",Number),nn=O(Re,"colors",de),Fn=O(Re,"ticks",Number),K=O(Re,"shapes"),te=O(Re,"scalar"),Ee=!!O(Re,"flat"),_e=R(Re),ze=ut,Xe=[],Ot=y.width*_e.x,Dt=y.height*_e.y;ze--;)Xe.push(oe({x:Ot,y:Dt,angle:St,spread:vt,startVelocity:at,color:nn[ze%nn.length],shape:K[Q(0,K.length)],ticks:Fn,decay:Ut,gravity:Nt,drift:pn,scalar:te,flat:Ee}));return Ie?Ie.addFettis(Xe):(Ie=Te(y,Xe,q,Ze,gt),Ie.promise)}function Ue(Re){var Ze=ee||O(Re,"disableForReducedMotion",Boolean),gt=O(Re,"zIndex",Number);if(Ze&&he)return g(function(at){at()});B&&Ie?y=Ie.canvas:B&&!y&&(y=be(gt),document.body.appendChild(y)),C&&!ae&&q(y);var ut={width:y.width,height:y.height};ne&&!ae&&ne.init(y),ae=!0,ne&&(y.__confetti_initialized=!0);function St(){if(ne){var at={getBoundingClientRect:function(){if(!B)return y.getBoundingClientRect()}};q(at),ne.postMessage({resize:{width:at.width,height:at.height}});return}ut.width=ut.height=null}function vt(){Ie=null,C&&(Y=!1,n.removeEventListener("resize",St)),B&&y&&(document.body.contains(y)&&document.body.removeChild(y),y=null,ae=!1)}return C&&!Y&&(Y=!0,n.addEventListener("resize",St,!1)),ne?ne.fire(Re,ut,vt):Fe(Re,ut,vt)}return Ue.reset=function(){ne&&ne.reset(),Ie&&Ie.reset()},Ue}var G;function se(){return G||(G=ue(null,{useWorker:!0,resize:!0})),G}function Ce(y,S,B,C,Y,ee,X){var ne=new Path2D(y),q=new Path2D;q.addPath(ne,new DOMMatrix(S));var ae=new Path2D;return ae.addPath(q,new DOMMatrix([Math.cos(X)*Y,Math.sin(X)*Y,-Math.sin(X)*ee,Math.cos(X)*ee,B,C])),ae}function Z(y){if(!c)throw new Error("path confetti are not supported in this browser");var S,B;typeof y=="string"?S=y:(S=y.path,B=y.matrix);var C=new Path2D(S),Y=document.createElement("canvas"),ee=Y.getContext("2d");if(!B){for(var X=1e3,ne=X,q=X,ae=0,he=0,Ie,Fe,Ue=0;Ue<X;Ue+=2)for(var Re=0;Re<X;Re+=2)ee.isPointInPath(C,Ue,Re,"nonzero")&&(ne=Math.min(ne,Ue),q=Math.min(q,Re),ae=Math.max(ae,Ue),he=Math.max(he,Re));Ie=ae-ne,Fe=he-q;var Ze=10,gt=Math.min(Ze/Ie,Ze/Fe);B=[gt,0,0,gt,-Math.round(Ie/2+ne)*gt,-Math.round(Fe/2+q)*gt]}return{type:"path",path:S,matrix:B}}function ge(y){var S,B=1,C="#000000",Y='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?S=y:(S=y.text,B="scalar"in y?y.scalar:B,Y="fontFamily"in y?y.fontFamily:Y,C="color"in y?y.color:C);var ee=10*B,X=""+ee+"px "+Y,ne=new OffscreenCanvas(ee,ee),q=ne.getContext("2d");q.font=X;var ae=q.measureText(S),he=Math.ceil(ae.actualBoundingBoxRight+ae.actualBoundingBoxLeft),Ie=Math.ceil(ae.actualBoundingBoxAscent+ae.actualBoundingBoxDescent),Fe=2,Ue=ae.actualBoundingBoxLeft+Fe,Re=ae.actualBoundingBoxAscent+Fe;he+=Fe+Fe,Ie+=Fe+Fe,ne=new OffscreenCanvas(he,Ie),q=ne.getContext("2d"),q.font=X,q.fillStyle=C,q.fillText(S,Ue,Re);var Ze=1/B;return{type:"bitmap",bitmap:ne.transferToImageBitmap(),matrix:[Ze,0,0,Ze,-he*Ze/2,-Ie*Ze/2]}}i.exports=function(){return se().apply(this,arguments)},i.exports.reset=function(){se().reset()},i.exports.create=ue,i.exports.shapeFromPath=Z,i.exports.shapeFromText=ge})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Qu,!1);const By=Qu.exports;Qu.exports.create;class _y{constructor(n,i="white"){this.opening=n,this.playerColor=i,this.game=new Ci,this.currentNode=n.moves,this.currentExplanation="Start of the game. Select a move to begin.",this.history=[],this.explanationHistory=["Start of the game. Select a move to begin."],this.currentMoveIndex=0}reset(){if(this.game.reset(),this.currentNode=this.opening.moves,this.currentExplanation="Start of the game. Select a move to begin.",this.history=[],this.explanationHistory=["Start of the game. Select a move to begin."],this.currentMoveIndex=0,this.playerColor==="black"){const n=this.getComputerMove();n&&this.makeMove(n)}return this.getGameState()}getGameState(){return{fen:this.game.fen(),history:this.history,isGameOver:this.game.isGameOver(),turn:this.game.turn(),lastMoveExplanation:this.currentExplanation,explanationHistory:this.explanationHistory,currentMoveIndex:this.currentMoveIndex,totalMoves:this.currentMoveIndex+this.getMaxDepth(this.currentNode),pgn:this.game.pgn()}}getMaxDepth(n){if(!n||Object.keys(n).length===0)return 0;let i=0;for(const o in n)i=Math.max(i,1+this.getMaxDepth(n[o].children));return i}makeMove(n){console.log("Attempting move:",n);let i;try{if(i=this.game.move(n),!i)return console.log("Move failed: Illegal move"),{success:!1,message:"Invalid chess move."}}catch(l){return console.error("Move error:",l),{success:!1,message:"Invalid chess move."}}const o=i.san;if(console.log("Move SAN:",o),this.currentNode&&this.currentNode[o]){const l=this.currentNode[o];this.currentExplanation=l.explanation,this.currentNode=l.children,this.history.push(o),this.explanationHistory.push(l.explanation),this.currentMoveIndex=this.history.length;const s=!this.currentNode||Object.keys(this.currentNode).length===0;return{success:!0,message:s?"Correct! You have completed this opening line.":"Correct!",explanation:this.currentExplanation,state:this.getGameState(),endOfLine:s}}else return!this.currentNode||Object.keys(this.currentNode).length===0?{success:!1,isValidChessMove:!0,message:"You have reached the end of the opening theory.",state:this.getGameState(),endOfLine:!0}:(console.log("Move not in opening tree"),{success:!1,isValidChessMove:!0,message:"That move is not part of this opening line.",state:this.getGameState()})}undoLastMove(){return this.game.undo(),this.getGameState()}getComputerMove(){if(!this.currentNode)return null;const n=Object.keys(this.currentNode);return n.length===0?null:n[0]}goToMove(n){this.game.reset();for(let i=0;i<n&&i<this.history.length;i++)this.game.move(this.history[i]);return this.currentMoveIndex=n,this.currentExplanation=this.explanationHistory[n]||this.explanationHistory[this.explanationHistory.length-1],this.getGameState()}getHint(){if(!this.currentNode)return null;const n=Object.keys(this.currentNode);return n.length===0?null:n[0]}}class Ay{constructor(){this.context=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.context.createGain(),this.masterGain.gain.value=.3,this.masterGain.connect(this.context.destination),this.noiseBuffer=this.createNoiseBuffer()}createNoiseBuffer(){const n=this.context.sampleRate*2,i=this.context.createBuffer(1,n,this.context.sampleRate),o=i.getChannelData(0);for(let l=0;l<n;l++)o[l]=Math.random()*2-1;return i}playTone(n,i,o,l=0){const s=this.context.createOscillator(),c=this.context.createGain();s.type=i,s.frequency.setValueAtTime(n,this.context.currentTime+l),c.gain.setValueAtTime(this.masterGain.gain.value,this.context.currentTime+l),c.gain.exponentialRampToValueAtTime(.01,this.context.currentTime+l+o),s.connect(c),c.connect(this.context.destination),s.start(this.context.currentTime+l),s.stop(this.context.currentTime+l+o)}playMove(){const n=this.context.currentTime,i=this.context.createBufferSource();i.buffer=this.noiseBuffer;const o=this.context.createBiquadFilter(),l=this.context.createGain();o.type="lowpass",o.frequency.setValueAtTime(1500,n),o.frequency.exponentialRampToValueAtTime(100,n+.1),l.gain.setValueAtTime(.8,n),l.gain.exponentialRampToValueAtTime(.01,n+.1),i.connect(o),o.connect(l),l.connect(this.masterGain),i.start(n),i.stop(n+.1);const s=this.context.createOscillator(),c=this.context.createGain();s.frequency.setValueAtTime(150,n),s.frequency.exponentialRampToValueAtTime(50,n+.05),c.gain.setValueAtTime(.3,n),c.gain.exponentialRampToValueAtTime(.01,n+.1),s.connect(c),c.connect(this.masterGain),s.start(n),s.stop(n+.1)}playCapture(){this.playTone(400,"triangle",.1),this.playTone(200,"sawtooth",.15,.02)}playError(){this.playTone(150,"sawtooth",.3),this.playTone(100,"square",.3,.05)}playSuccess(){this.playTone(440,"sine",.2,0),this.playTone(554.37,"sine",.2,.1),this.playTone(659.25,"sine",.4,.2)}}const My=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ly=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,o)=>o?o.toUpperCase():i.toLowerCase()),Zd=r=>{const n=Ly(r);return n.charAt(0).toUpperCase()+n.slice(1)},pf=(...r)=>r.filter((n,i,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===i).join(" ").trim(),Ry=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var jy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wy=U.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:s,iconNode:c,...d},f)=>U.createElement("svg",{ref:f,...jy,width:n,height:n,stroke:r,strokeWidth:o?Number(i)*24/Number(n):i,className:pf("lucide",l),...!s&&!Ry(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,m])=>U.createElement(g,m)),...Array.isArray(s)?s:[s]]));const st=(r,n)=>{const i=U.forwardRef(({className:o,...l},s)=>U.createElement(Wy,{ref:s,iconNode:n,className:pf(`lucide-${My(Zd(r))}`,`lucide-${r}`,o),...l}));return i.displayName=Zd(r),i};const zy=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jd=st("arrow-left",zy);const Fy=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$u=st("book-open",Fy);const Ky=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ff=st("check",Ky);const Yy=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tu=st("chevron-right",Yy);const qy=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Uy=st("chevron-left",qy);const Qy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$y=st("circle-alert",Qy);const Vy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gy=st("circle-check-big",Vy);const Hy=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gf=st("copy",Hy);const Xy=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Zy=st("graduation-cap",Xy);const Jy=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ev=st("lightbulb",Jy);const tv=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nv=st("menu",tv);const rv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],iv=st("panels-top-left",rv);const av=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ov=st("rotate-ccw",av);const lv=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],sv=st("rotate-cw",lv);const uv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cv=st("search",uv);const hv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dv=st("settings",hv);const pv=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],fv=st("skip-back",pv);const gv=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],mv=st("skip-forward",gv);const yv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vv=st("trash-2",yv);const xv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kv=st("upload",xv);const wv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sv=st("user",wv);const bv=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Cv=st("volume-2",bv);const Tv=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Ev=st("volume-x",Tv);const Nv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mf=st("x",Nv),Ov=({isOpen:r,onClose:n,settings:i,onUpdateSettings:o})=>{if(!r)return null;const{playerColor:l,boardOrientation:s,soundEnabled:c,theme:d}=i,f=(m,x)=>{o({...i,[m]:x})},g=[{id:"green",name:"Green",color:"bg-[#769656]"},{id:"blue",name:"Blue",color:"bg-[#60a5fa]"},{id:"brown",name:"Brown",color:"bg-[#b58863]"}];return b.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-md border border-gray-700 transform transition-all",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[b.jsx("h2",{className:"text-lg font-semibold text-white",children:"Settings"}),b.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors p-1 hover:bg-gray-700 rounded-full",children:b.jsx(mf,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[b.jsx(Sv,{className:"w-4 h-4"}),"Play As"]}),b.jsxs("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>f("playerColor","white"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${l==="white"?"bg-white text-gray-900 shadow":"text-gray-400 hover:text-white"}`,children:"White"}),b.jsx("button",{onClick:()=>f("playerColor","black"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${l==="black"?"bg-gray-900 text-white shadow":"text-gray-400 hover:text-white"}`,children:"Black"})]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("label",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[b.jsx(sv,{className:"w-4 h-4"}),"Board Orientation"]}),b.jsxs("button",{onClick:()=>f("boardOrientation",s==="white"?"black":"white"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:["Flip Board (",s==="white"?"White":"Black"," Bottom)"]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("label",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[c?b.jsx(Cv,{className:"w-4 h-4"}):b.jsx(Ev,{className:"w-4 h-4"}),"Sound Effects"]}),b.jsx("button",{onClick:()=>f("soundEnabled",!c),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c?"bg-blue-600":"bg-gray-600"}`,children:b.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[b.jsx(iv,{className:"w-4 h-4"}),"Board Theme"]}),b.jsx("div",{className:"grid grid-cols-3 gap-3",children:g.map(m=>b.jsxs("button",{onClick:()=>f("theme",m.id),className:`flex flex-col items-center gap-2 p-2 rounded-lg border-2 transition-all ${d===m.id?"border-blue-500 bg-gray-700":"border-transparent hover:bg-gray-700"}`,children:[b.jsx("div",{className:`w-8 h-8 rounded ${m.color} shadow-sm`}),b.jsx("span",{className:"text-xs text-gray-300",children:m.name})]},m.id))})]})]}),b.jsx("div",{className:"p-4 border-t border-gray-700 bg-gray-800/50 rounded-b-xl",children:b.jsx("button",{onClick:n,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"Done"})})]})})};function Dv({onMenuClick:r}){return b.jsx("header",{className:"bg-gray-800 p-4 shadow-md flex-shrink-0 z-10",children:b.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("button",{onClick:r,className:"lg:hidden text-gray-400 hover:text-white transition-colors",children:b.jsx(nv,{className:"w-6 h-6"})}),b.jsx($u,{className:"w-8 h-8 text-blue-400"}),b.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Chess Opening Trainer"})]}),b.jsx("div",{className:"flex items-center space-x-4",children:b.jsx("div",{className:"text-gray-400 text-sm hidden md:block",children:"Master your openings"})})]})})}function Pv({openings:r,searchQuery:n,setSearchQuery:i,currentOpening:o,openingHistory:l,onOpeningSelect:s,onBack:c,onReset:d,onHint:f,onOpenSettings:g,onManageRepertoire:m,isOpen:x,onClose:w}){const v=r.filter(D=>!D.parentId&&D.name.toLowerCase().includes(n.toLowerCase()));return b.jsxs(b.Fragment,{children:[x&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden backdrop-blur-sm",onClick:w}),b.jsxs("div",{className:`
                fixed inset-y-0 left-0 w-64 bg-gray-800 border-r border-gray-700 flex flex-col z-30 shadow-xl transition-transform duration-300 ease-in-out transform
                lg:translate-x-0 lg:static lg:shadow-none
                ${x?"translate-x-0":"-translate-x-full"}
            `,children:[b.jsxs("div",{className:"p-4 border-b border-gray-700 flex-shrink-0 bg-gray-800 z-20 flex justify-between items-center",children:[b.jsxs("div",{className:"w-full",children:[b.jsx("h2",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Select Opening"}),b.jsxs("div",{className:"relative",children:[b.jsx(cv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),b.jsx("input",{type:"text",placeholder:"Search openings...",value:n,onChange:D=>i(D.target.value),className:"w-full bg-gray-900 text-gray-300 text-sm rounded-md pl-9 pr-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500 border border-gray-700 focus:border-blue-500 transition-colors"})]})]}),b.jsx("button",{onClick:w,className:"lg:hidden ml-2 text-gray-400 hover:text-white",children:b.jsx(Jd,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:[l.length>0&&b.jsxs("button",{onClick:c,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-300 bg-gray-700/50 hover:bg-gray-700 rounded-lg transition-colors mb-2 sticky top-0 z-10 backdrop-blur-sm",children:[b.jsx(Jd,{className:"w-4 h-4 mr-2"}),"Back"]}),["white","black"].map(D=>b.jsxs("div",{className:"mb-4",children:[b.jsxs("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 pl-2 sticky top-0 bg-gray-800/95 py-1 z-10 backdrop-blur-sm",children:["For ",D.charAt(0).toUpperCase()+D.slice(1)]}),v.filter(N=>N.side===D).map(N=>b.jsxs("div",{className:"space-y-1 mb-1",children:[b.jsxs("button",{onClick:()=>s(N.id),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center justify-between group ${o.id===N.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-gray-400 hover:bg-gray-700/50 hover:text-white"}`,children:[b.jsx("span",{className:"font-medium",children:N.name}),o.id===N.id&&!N.variations&&b.jsx(Tu,{className:"w-4 h-4"})]}),(o.id===N.id||o.parentId===N.id)&&N.variations&&b.jsx("div",{className:"ml-4 space-y-1 border-l-2 border-gray-700 pl-2",children:N.variations.map(O=>{const _=r.find(Q=>Q.id===O);return _?b.jsxs("button",{onClick:()=>s(_.id),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-all duration-200 flex items-center justify-between ${o.id===_.id?"bg-blue-500/20 text-blue-300":"text-gray-500 hover:text-gray-300"}`,children:[b.jsx("span",{children:_.name}),o.id===_.id&&b.jsx(Tu,{className:"w-3 h-3"})]},_.id):null})})]},N.id)),v.filter(N=>N.side===D).length===0&&b.jsx("div",{className:"text-sm text-gray-600 italic pl-4",children:"No openings found"})]},D))]}),b.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-3 flex-shrink-0 bg-gray-800 z-20",children:[b.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg transition-colors font-medium shadow-lg shadow-yellow-900/20",children:[b.jsx(ev,{className:"w-4 h-4 mr-2"}),"Get Hint"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:d,className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-700 hover:bg-red-600/80 text-gray-300 hover:text-white rounded-lg transition-all duration-200 font-medium group",children:[b.jsx(ov,{className:"w-4 h-4 mr-2 group-hover:-rotate-180 transition-transform duration-500"}),"Reset"]}),b.jsxs("button",{onClick:g,className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-700 hover:bg-blue-600 text-gray-300 hover:text-white rounded-lg transition-all duration-200 font-medium",children:[b.jsx(dv,{className:"w-4 h-4 mr-2"}),"Settings"]})]}),b.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-700 hover:bg-purple-600 text-gray-300 hover:text-white rounded-lg transition-all duration-200 font-medium mt-2",children:[b.jsx($u,{className:"w-4 h-4 mr-2"}),"Manage Repertoire"]})]})]})]})}const yf=U.createContext({dragDropManager:void 0});function Bn(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var ep=typeof Symbol=="function"&&Symbol.observable||"@@observable",tp=function(){return Math.random().toString(36).substring(7).split("").join(".")},np={INIT:"@@redux/INIT"+tp(),REPLACE:"@@redux/REPLACE"+tp()};function vf(r,n,i){var o;if(typeof n=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Bn(0));if(typeof n=="function"&&i===void 0&&(i=n,n=void 0),i!==void 0){if(typeof i!="function")throw new Error(Bn(1));return i(vf)(r,n)}if(typeof r!="function")throw new Error(Bn(2));var l=r,s=n,c=[],d=c,f=!1;function g(){d===c&&(d=c.slice())}function m(){if(f)throw new Error(Bn(3));return s}function x(v){if(typeof v!="function")throw new Error(Bn(4));if(f)throw new Error(Bn(5));var D=!0;return g(),d.push(v),function(){if(D){if(f)throw new Error(Bn(6));D=!1,g();var N=d.indexOf(v);d.splice(N,1),c=null}}}function w(v){if(!(function(O){if(typeof O!="object"||O===null)return!1;for(var _=O;Object.getPrototypeOf(_)!==null;)_=Object.getPrototypeOf(_);return Object.getPrototypeOf(O)===_})(v))throw new Error(Bn(7));if(v.type===void 0)throw new Error(Bn(8));if(f)throw new Error(Bn(9));try{f=!0,s=l(s,v)}finally{f=!1}for(var D=c=d,N=0;N<D.length;N++)(0,D[N])();return v}return w({type:np.INIT}),(o={dispatch:w,subscribe:x,getState:m,replaceReducer:function(v){if(typeof v!="function")throw new Error(Bn(10));l=v,w({type:np.REPLACE})}})[ep]=function(){var v,D=x;return(v={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(Bn(11));function O(){N.next&&N.next(m())}return O(),{unsubscribe:D(O)}}})[ep]=function(){return this},v},o}function je(r,n,...i){if(typeof process<"u"&&n===void 0)throw new Error("invariant requires an error message argument");if(!r){let o;if(n===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let l=0;o=new Error(n.replace(/%s/g,(function(){return i[l++]}))),o.name="Invariant Violation"}throw o.framesToPop=1,o}}function xf(r){return typeof r=="object"}const Vu="dnd-core/INIT_COORDS",Gu="dnd-core/BEGIN_DRAG",kf="dnd-core/PUBLISH_DRAG_SOURCE",il="dnd-core/HOVER",Hu="dnd-core/DROP",Xu="dnd-core/END_DRAG";function rp(r,n){return{type:Vu,payload:{sourceClientOffset:n||null,clientOffset:r||null}}}const Iv={type:Vu,payload:{clientOffset:null,sourceClientOffset:null}};function Bv(r){return function(n=[],i={publishSource:!0}){const{publishSource:o=!0,clientOffset:l,getSourceClientOffset:s}=i,c=r.getMonitor(),d=r.getRegistry();r.dispatch(rp(l)),(function(w,v,D){je(!v.isDragging(),"Cannot call beginDrag while dragging."),w.forEach((function(N){je(D.getSource(N),"Expected sourceIds to be registered.")}))})(n,c,d);const f=(function(w,v){let D=null;for(let N=w.length-1;N>=0;N--)if(v.canDragSource(w[N])){D=w[N];break}return D})(n,c);if(f==null)return void r.dispatch(Iv);let g=null;if(l){if(!s)throw new Error("getSourceClientOffset must be defined");(function(w){je(typeof w=="function","When clientOffset is provided, getSourceClientOffset must be a function.")})(s),g=s(f)}r.dispatch(rp(l,g));const m=d.getSource(f).beginDrag(c,f);if(m==null)return;(function(w){je(xf(w),"Item must be an object.")})(m),d.pinSource(f);const x=d.getSourceType(f);return{type:Gu,payload:{itemType:x,item:m,sourceId:f,clientOffset:l||null,sourceClientOffset:g||null,isSourcePublic:!!o}}}}function _v(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Av(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter((function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})))),o.forEach((function(l){_v(r,l,i[l])}))}return r}function Mv(r){return function(n={}){const i=r.getMonitor(),o=r.getRegistry();(function(s){je(s.isDragging(),"Cannot call drop while not dragging."),je(!s.didDrop(),"Cannot call drop twice during one drag operation.")})(i),(function(s){const c=s.getTargetIds().filter(s.canDropOnTarget,s);return c.reverse(),c})(i).forEach(((s,c)=>{const d=(function(g,m,x,w){const v=x.getTarget(g);let D=v?v.drop(w,g):void 0;return(function(N){je(N===void 0||xf(N),"Drop result must either be an object or undefined.")})(D),D===void 0&&(D=m===0?{}:w.getDropResult()),D})(s,c,o,i),f={type:Hu,payload:{dropResult:Av({},n,d)}};r.dispatch(f)}))}}function Lv(r){return function(){const n=r.getMonitor(),i=r.getRegistry();(function(l){je(l.isDragging(),"Cannot call endDrag while not dragging.")})(n);const o=n.getSourceId();return o!=null&&(i.getSource(o,!0).endDrag(n,o),i.unpinSource()),{type:Xu}}}function Eu(r,n){return n===null?r===null:Array.isArray(r)?r.some((i=>i===n)):r===n}function Rv(r){return function(n,{clientOffset:i}={}){(function(c){je(Array.isArray(c),"Expected targetIds to be an array.")})(n);const o=n.slice(0),l=r.getMonitor(),s=r.getRegistry();return(function(c,d,f){for(let g=c.length-1;g>=0;g--){const m=c[g];Eu(d.getTargetType(m),f)||c.splice(g,1)}})(o,s,l.getItemType()),(function(c,d,f){je(d.isDragging(),"Cannot call hover while not dragging."),je(!d.didDrop(),"Cannot call hover after drop.");for(let g=0;g<c.length;g++){const m=c[g];je(c.lastIndexOf(m)===g,"Expected targetIds to be unique in the passed array."),je(f.getTarget(m),"Expected targetIds to be registered.")}})(o,l,s),(function(c,d,f){c.forEach((function(g){f.getTarget(g).hover(d,g)}))})(o,l,s),{type:il,payload:{targetIds:o,clientOffset:i||null}}}}function jv(r){return function(){if(r.getMonitor().isDragging())return{type:kf}}}class Wv{receiveBackend(n){this.backend=n}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const n=this,{dispatch:i}=this.store,o=(function(l){return{beginDrag:Bv(l),publishDragSource:jv(l),hover:Rv(l),drop:Mv(l),endDrag:Lv(l)}})(this);return Object.keys(o).reduce(((l,s)=>{const c=o[s];var d;return l[s]=(d=c,(...f)=>{const g=d.apply(n,f);g!==void 0&&i(g)}),l}),{})}dispatch(n){this.store.dispatch(n)}constructor(n,i){this.isSetUp=!1,this.handleRefCountChange=()=>{const o=this.store.getState().refCount>0;this.backend&&(o&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!o&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=n,this.monitor=i,n.subscribe(this.handleRefCountChange)}}function ip(r,n){return{x:r.x-n.x,y:r.y-n.y}}const wa=[],Zu=[];wa.__IS_NONE__=!0,Zu.__IS_ALL__=!0;class zv{subscribeToStateChange(n,i={}){const{handlerIds:o}=i;je(typeof n=="function","listener must be a function."),je(o===void 0||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");let l=this.store.getState().stateId;return this.store.subscribe((()=>{const s=this.store.getState(),c=s.stateId;try{c===l||c===l+1&&!(function(f,g){return f!==wa&&(f===Zu||g===void 0||(m=f,g.filter((x=>m.indexOf(x)>-1))).length>0);var m})(s.dirtyHandlerIds,o)||n()}finally{l=c}}))}subscribeToOffsetChange(n){je(typeof n=="function","listener must be a function.");let i=this.store.getState().dragOffset;return this.store.subscribe((()=>{const o=this.store.getState().dragOffset;o!==i&&(i=o,n())}))}canDragSource(n){if(!n)return!1;const i=this.registry.getSource(n);return je(i,`Expected to find a valid source. sourceId=${n}`),!this.isDragging()&&i.canDrag(this,n)}canDropOnTarget(n){if(!n)return!1;const i=this.registry.getTarget(n);return je(i,`Expected to find a valid target. targetId=${n}`),!this.isDragging()||this.didDrop()?!1:Eu(this.registry.getTargetType(n),this.getItemType())&&i.canDrop(this,n)}isDragging(){return!!this.getItemType()}isDraggingSource(n){if(!n)return!1;const i=this.registry.getSource(n,!0);return je(i,`Expected to find a valid source. sourceId=${n}`),!this.isDragging()||!this.isSourcePublic()?!1:this.registry.getSourceType(n)===this.getItemType()&&i.isDragging(this,n)}isOverTarget(n,i={shallow:!1}){if(!n)return!1;const{shallow:o}=i;if(!this.isDragging())return!1;const l=this.registry.getTargetType(n),s=this.getItemType();if(s&&!Eu(l,s))return!1;const c=this.getTargetIds();if(!c.length)return!1;const d=c.indexOf(n);return o?d===c.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return(function(n){const{clientOffset:i,initialClientOffset:o,initialSourceClientOffset:l}=n;return i&&o&&l?ip((c=l,{x:(s=i).x+c.x,y:s.y+c.y}),o):null;var s,c})(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return(function(n){const{clientOffset:i,initialClientOffset:o}=n;return i&&o?ip(i,o):null})(this.store.getState().dragOffset)}constructor(n,i){this.store=n,this.registry=i}}const ap=typeof global<"u"?global:self,op=ap.MutationObserver||ap.WebKitMutationObserver;function wf(r){return function(){const n=setTimeout(o,0),i=setInterval(o,50);function o(){clearTimeout(n),clearInterval(i),r()}}}const Fv=typeof op=="function"?function(r){let n=1;const i=new op(r),o=document.createTextNode("");return i.observe(o,{characterData:!0}),function(){n=-n,o.data=n}}:wf;class Kv{call(){try{this.task&&this.task()}catch(n){this.onError(n)}finally{this.task=null,this.release(this)}}constructor(n,i){this.onError=n,this.release=i,this.task=null}}const Sf=new class{enqueueTask(r){const{queue:n,requestFlush:i}=this;n.length||(i(),this.flushing=!0),n[n.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const n=this.index;if(this.index++,r[n].call(),this.index>this.capacity){for(let i=0,o=r.length-this.index;i<o;i++)r[i]=r[i+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=Fv(this.flush),this.requestErrorThrow=wf((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},Yv=new class{create(r){const n=this.freeTasks,i=n.length?n.pop():new Kv(this.onError,(o=>n[n.length]=o));return i.task=r,i}constructor(r){this.onError=r,this.freeTasks=[]}}(Sf.registerPendingError),Ju="dnd-core/ADD_SOURCE",ec="dnd-core/ADD_TARGET",tc="dnd-core/REMOVE_SOURCE",al="dnd-core/REMOVE_TARGET";function Nu(r,n){n&&Array.isArray(r)?r.forEach((i=>Nu(i,!1))):je(typeof r=="string"||typeof r=="symbol",n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var _n;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(_n||(_n={}));let qv=0;function Uv(r){const n=(qv++).toString();switch(r){case _n.SOURCE:return`S${n}`;case _n.TARGET:return`T${n}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function lp(r){switch(r[0]){case"S":return _n.SOURCE;case"T":return _n.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function sp(r,n){const i=r.entries();let o=!1;do{const{done:l,value:[,s]}=i.next();if(s===n)return!0;o=!!l}while(!o);return!1}class Qv{addSource(n,i){Nu(n),(function(l){je(typeof l.canDrag=="function","Expected canDrag to be a function."),je(typeof l.beginDrag=="function","Expected beginDrag to be a function."),je(typeof l.endDrag=="function","Expected endDrag to be a function.")})(i);const o=this.addHandler(_n.SOURCE,n,i);return this.store.dispatch((function(l){return{type:Ju,payload:{sourceId:l}}})(o)),o}addTarget(n,i){Nu(n,!0),(function(l){je(typeof l.canDrop=="function","Expected canDrop to be a function."),je(typeof l.hover=="function","Expected hover to be a function."),je(typeof l.drop=="function","Expected beginDrag to be a function.")})(i);const o=this.addHandler(_n.TARGET,n,i);return this.store.dispatch((function(l){return{type:ec,payload:{targetId:l}}})(o)),o}containsHandler(n){return sp(this.dragSources,n)||sp(this.dropTargets,n)}getSource(n,i=!1){return je(this.isSourceId(n),"Expected a valid source ID."),i&&n===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(n)}getTarget(n){return je(this.isTargetId(n),"Expected a valid target ID."),this.dropTargets.get(n)}getSourceType(n){return je(this.isSourceId(n),"Expected a valid source ID."),this.types.get(n)}getTargetType(n){return je(this.isTargetId(n),"Expected a valid target ID."),this.types.get(n)}isSourceId(n){return lp(n)===_n.SOURCE}isTargetId(n){return lp(n)===_n.TARGET}removeSource(n){var i;je(this.getSource(n),"Expected an existing source."),this.store.dispatch((function(o){return{type:tc,payload:{sourceId:o}}})(n)),i=()=>{this.dragSources.delete(n),this.types.delete(n)},Sf.enqueueTask(Yv.create(i))}removeTarget(n){je(this.getTarget(n),"Expected an existing target."),this.store.dispatch((function(i){return{type:al,payload:{targetId:i}}})(n)),this.dropTargets.delete(n),this.types.delete(n)}pinSource(n){const i=this.getSource(n);je(i,"Expected an existing source."),this.pinnedSourceId=n,this.pinnedSource=i}unpinSource(){je(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(n,i,o){const l=Uv(n);return this.types.set(l,i),n===_n.SOURCE?this.dragSources.set(l,o):n===_n.TARGET&&this.dropTargets.set(l,o),l}constructor(n){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=n}}const $v=(r,n)=>r===n;function Vv(r=wa,n){switch(n.type){case il:break;case Ju:case ec:case al:case tc:return wa;default:return Zu}const{targetIds:i=[],prevTargetIds:o=[]}=n.payload,l=(function(d,f){const g=new Map,m=w=>{g.set(w,g.has(w)?g.get(w)+1:1)};d.forEach(m),f.forEach(m);const x=[];return g.forEach(((w,v)=>{w===1&&x.push(v)})),x})(i,o);if(!(l.length>0||!(function(d,f,g=$v){if(d.length!==f.length)return!1;for(let m=0;m<d.length;++m)if(!g(d[m],f[m]))return!1;return!0})(i,o)))return wa;const s=o[o.length-1],c=i[i.length-1];return s!==c&&(s&&l.push(s),c&&l.push(c)),l}function Gv(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}const up={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Hv(r=up,n){const{payload:i}=n;switch(n.type){case Vu:case Gu:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case il:return o=r.clientOffset,l=i.clientOffset,!o&&!l||o&&l&&o.x===l.x&&o.y===l.y?r:(function(s){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{},f=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(d).filter((function(g){return Object.getOwnPropertyDescriptor(d,g).enumerable})))),f.forEach((function(g){Gv(s,g,d[g])}))}return s})({},r,{clientOffset:i.clientOffset});case Xu:case Hu:return up;default:return r}var o,l}function Xv(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function wi(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter((function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})))),o.forEach((function(l){Xv(r,l,i[l])}))}return r}const Zv={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Jv(r=Zv,n){const{payload:i}=n;switch(n.type){case Gu:return wi({},r,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case kf:return wi({},r,{isSourcePublic:!0});case il:return wi({},r,{targetIds:i.targetIds});case al:return r.targetIds.indexOf(i.targetId)===-1?r:wi({},r,{targetIds:(o=r.targetIds,l=i.targetId,o.filter((s=>s!==l)))});case Hu:return wi({},r,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case Xu:return wi({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}var o,l}function e0(r=0,n){switch(n.type){case Ju:case ec:return r+1;case tc:case al:return r-1;default:return r}}function t0(r=0){return r+1}function n0(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function r0(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter((function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})))),o.forEach((function(l){n0(r,l,i[l])}))}return r}function i0(r={},n){return{dirtyHandlerIds:Vv(r.dirtyHandlerIds,{type:n.type,payload:r0({},n.payload,{prevTargetIds:(i=r,o="dragOperation.targetIds",l=[],o.split(".").reduce(((s,c)=>s&&s[c]?s[c]:l||null),i))})}),dragOffset:Hv(r.dragOffset,n),refCount:e0(r.refCount,n),dragOperation:Jv(r.dragOperation,n),stateId:t0(r.stateId)};var i,o,l}function a0(r,n=void 0,i={},o=!1){const l=(function(f){const g=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return vf(i0,f&&g&&g({name:"dnd-core",instanceId:"dnd-core"}))})(o),s=new zv(l,new Qv(l)),c=new Wv(l,s),d=r(c,n,i);return c.receiveBackend(d),c}function o0(r,n){if(r==null)return{};var i,o,l=(function(c,d){if(c==null)return{};var f,g,m={},x=Object.keys(c);for(g=0;g<x.length;g++)f=x[g],d.indexOf(f)>=0||(m[f]=c[f]);return m})(r,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(o=0;o<s.length;o++)i=s[o],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(r,i)&&(l[i]=r[i])}return l}let cp=0;const qo=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var l0=U.memo((function(r){var{children:n}=r,i=o0(r,["children"]);const[o,l]=(function(s){if("manager"in s)return[{dragDropManager:s.manager},!1];const c=(function(f,g=hp(),m,x){const w=g;return w[qo]||(w[qo]={dragDropManager:a0(f,g,m,x)}),w[qo]})(s.backend,s.context,s.options,s.debugMode),d=!s.context;return[c,d]})(i);return U.useEffect((()=>{if(l){const s=hp();return++cp,()=>{--cp==0&&(s[qo]=null)}}}),[]),b.jsx(yf.Provider,{value:o,children:n})}));function hp(){return typeof global<"u"?global:window}var s0=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,l,s;if(Array.isArray(n)){if((o=n.length)!=i.length)return!1;for(l=o;l--!=0;)if(!r(n[l],i[l]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if((o=(s=Object.keys(n)).length)!==Object.keys(i).length)return!1;for(l=o;l--!=0;)if(!Object.prototype.hasOwnProperty.call(i,s[l]))return!1;for(l=o;l--!=0;){var c=s[l];if(!r(n[c],i[c]))return!1}return!0}return n!=n&&i!=i};const Hr=typeof window<"u"?U.useLayoutEffect:U.useEffect;function bf(r,n,i){const[o,l]=U.useState((()=>n(r))),s=U.useCallback((()=>{const c=n(r);s0(o,c)||(l(c),i&&i())}),[o,r,i]);return Hr(s),[o,s]}function Cf(r,n,i){return(function(o,l,s){const[c,d]=bf(o,l,s);return Hr((function(){const f=o.getHandlerId();if(f!=null)return o.subscribeToStateChange(d,{handlerIds:[f]})}),[o,d]),c})(n,r||(()=>({})),(()=>i.reconnect()))}function Tf(r,n){const i=[...n||[]];return n==null&&typeof r!="function"&&i.push(r),U.useMemo((()=>typeof r=="function"?r():r),i)}function u0(r){return U.useMemo((()=>r.hooks.dragSource()),[r])}function c0(r){return U.useMemo((()=>r.hooks.dragPreview()),[r])}let ru=!1,iu=!1;class h0{receiveHandlerId(n){this.sourceId=n}getHandlerId(){return this.sourceId}canDrag(){je(!ru,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ru=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ru=!1}}isDragging(){if(!this.sourceId)return!1;je(!iu,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return iu=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{iu=!1}}subscribeToStateChange(n,i){return this.internalMonitor.subscribeToStateChange(n,i)}isDraggingSource(n){return this.internalMonitor.isDraggingSource(n)}isOverTarget(n,i){return this.internalMonitor.isOverTarget(n,i)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(n){return this.internalMonitor.subscribeToOffsetChange(n)}canDragSource(n){return this.internalMonitor.canDragSource(n)}canDropOnTarget(n){return this.internalMonitor.canDropOnTarget(n)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(n){this.sourceId=null,this.internalMonitor=n.getMonitor()}}let au=!1;class d0{receiveHandlerId(n){this.targetId=n}getHandlerId(){return this.targetId}subscribeToStateChange(n,i){return this.internalMonitor.subscribeToStateChange(n,i)}canDrop(){if(!this.targetId)return!1;je(!au,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return au=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{au=!1}}isOver(n){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,n)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(n){this.targetId=null,this.internalMonitor=n.getMonitor()}}function Ou(r,n,i,o){let l;if(l!==void 0)return!!l;if(r===n)return!0;if(typeof r!="object"||!r||typeof n!="object"||!n)return!1;const s=Object.keys(r),c=Object.keys(n);if(s.length!==c.length)return!1;const d=Object.prototype.hasOwnProperty.bind(n);for(let f=0;f<s.length;f++){const g=s[f];if(!d(g))return!1;const m=r[g],x=n[g];if(l=void 0,l===!1||l===void 0&&m!==x)return!1}return!0}function Du(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function p0(r){return(n=null,i=null)=>{if(!U.isValidElement(n)){const l=n;return r(l,i),l}const o=n;return(function(l){if(typeof l.type=="string")return;const s=l.type.displayName||l.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${s} into a <div>, or turn it into a drag source or a drop target itself.`)})(o),(function(l,s){const c=l.ref;return je(typeof c!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),U.cloneElement(l,c?{ref:d=>{dp(c,d),dp(s,d)}}:{ref:s})})(o,i?l=>r(l,i):r)}}function Ef(r){const n={};return Object.keys(r).forEach((i=>{const o=r[i];if(i.endsWith("Ref"))n[i]=r[i];else{const l=p0(o);n[i]=()=>l}})),n}function dp(r,n){typeof r=="function"?r(n):r.current=n}class f0{receiveHandlerId(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(n){this.dragSourceOptionsInternal=n}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(n){this.dragPreviewOptionsInternal=n}reconnect(){const n=this.reconnectDragSource();this.reconnectDragPreview(n)}reconnectDragSource(){const n=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?n?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions)),i):(this.lastConnectedDragSource=n,i):i}reconnectDragPreview(n=!1){const i=this.dragPreview,o=n||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();o&&this.disconnectDragPreview(),this.handlerId&&(i?o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions)):this.lastConnectedDragPreview=i)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ou(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ou(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(n){this.hooks=Ef({dragSource:(i,o)=>{this.clearDragSource(),this.dragSourceOptions=o||null,Du(i)?this.dragSourceRef=i:this.dragSourceNode=i,this.reconnectDragSource()},dragPreview:(i,o)=>{this.clearDragPreview(),this.dragPreviewOptions=o||null,Du(i)?this.dragPreviewRef=i:this.dragPreviewNode=i,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=n}}class g0{get connectTarget(){return this.dropTarget}reconnect(){const n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();const i=this.dropTarget;this.handlerId&&(i?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions)):this.lastConnectedDropTarget=i)}receiveHandlerId(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(n){this.dropTargetOptionsInternal=n}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ou(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(n){this.hooks=Ef({dropTarget:(i,o)=>{this.clearDropTarget(),this.dropTargetOptions=o,Du(i)?this.dropTargetRef=i:this.dropTargetNode=i,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=n}}function Xr(){const{dragDropManager:r}=U.useContext(yf);return je(r!=null,"Expected drag drop context"),r}class m0{beginDrag(){const n=this.spec,i=this.monitor;let o=null;return o=typeof n.item=="object"?n.item:typeof n.item=="function"?n.item(i):{},o??null}canDrag(){const n=this.spec,i=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag!="function"||n.canDrag(i)}isDragging(n,i){const o=this.spec,l=this.monitor,{isDragging:s}=o;return s?s(l):i===n.getSourceId()}endDrag(){const n=this.spec,i=this.monitor,o=this.connector,{end:l}=n;l&&l(i.getItem(),i),o.reconnect()}constructor(n,i,o){this.spec=n,this.monitor=i,this.connector=o}}function y0(r,n,i){const o=Xr(),l=(function(c,d,f){const g=U.useMemo((()=>new m0(c,d,f)),[d,f]);return U.useEffect((()=>{g.spec=c}),[c]),g})(r,n,i),s=(function(c){return U.useMemo((()=>{const d=c.type;return je(d!=null,"spec.type must be defined"),d}),[c])})(r);Hr((function(){if(s!=null){const[c,d]=(function(f,g,m){const x=m.getRegistry(),w=x.addSource(f,g);return[w,()=>x.removeSource(w)]})(s,l,o);return n.receiveHandlerId(c),i.receiveHandlerId(c),d}}),[o,n,i,l,s])}function v0(r,n){const i=Tf(r,n);je(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const o=(function(){const s=Xr();return U.useMemo((()=>new h0(s)),[s])})(),l=(function(s,c){const d=Xr(),f=U.useMemo((()=>new f0(d.getBackend())),[d]);return Hr((()=>(f.dragSourceOptions=s||null,f.reconnect(),()=>f.disconnectDragSource())),[f,s]),Hr((()=>(f.dragPreviewOptions=c||null,f.reconnect(),()=>f.disconnectDragPreview())),[f,c]),f})(i.options,i.previewOptions);return y0(i,o,l),[Cf(i.collect,o,l),u0(l),c0(l)]}function x0(r){return U.useMemo((()=>r.hooks.dropTarget()),[r])}class k0{canDrop(){const n=this.spec,i=this.monitor;return!n.canDrop||n.canDrop(i.getItem(),i)}hover(){const n=this.spec,i=this.monitor;n.hover&&n.hover(i.getItem(),i)}drop(){const n=this.spec,i=this.monitor;if(n.drop)return n.drop(i.getItem(),i)}constructor(n,i){this.spec=n,this.monitor=i}}function w0(r,n,i){const o=Xr(),l=(function(c,d){const f=U.useMemo((()=>new k0(c,d)),[d]);return U.useEffect((()=>{f.spec=c}),[c]),f})(r,n),s=(function(c){const{accept:d}=c;return U.useMemo((()=>(je(c.accept!=null,"accept must be defined"),Array.isArray(d)?d:[d])),[d])})(r);Hr((function(){const[c,d]=(function(f,g,m){const x=m.getRegistry(),w=x.addTarget(f,g);return[w,()=>x.removeTarget(w)]})(s,l,o);return n.receiveHandlerId(c),i.receiveHandlerId(c),d}),[o,n,l,i,s.map((c=>c.toString())).join("|")])}function S0(r,n){const i=Tf(r,n),o=(function(){const s=Xr();return U.useMemo((()=>new d0(s)),[s])})(),l=(function(s){const c=Xr(),d=U.useMemo((()=>new g0(c.getBackend())),[c]);return Hr((()=>(d.dropTargetOptions=s||null,d.reconnect(),()=>d.disconnectDropTarget())),[s]),d})(i.options);return w0(i,o,l),[Cf(i.collect,o,l),x0(l)]}function Nf(r){let n=null;return()=>(n==null&&(n=r()),n)}class b0{enter(n){const i=this.entered.length;return this.entered=(function(o,l){const s=new Set,c=f=>s.add(f);o.forEach(c),l.forEach(c);const d=[];return s.forEach((f=>d.push(f))),d})(this.entered.filter((o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(n)))),[n]),i===0&&this.entered.length>0}leave(n){const i=this.entered.length;var o,l;return this.entered=(o=this.entered.filter(this.isNodeInDocument),l=n,o.filter((s=>s!==l))),i>0&&this.entered.length===0}reset(){this.entered=[]}constructor(n){this.entered=[],this.isNodeInDocument=n}}class C0{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((n=>{Object.defineProperty(this.item,n,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${n}" until the drop event.`),null)})}))}loadDataTransfer(n){if(n){const i={};Object.keys(this.config.exposeProperties).forEach((o=>{const l=this.config.exposeProperties[o];l!=null&&(i[o]={value:l(n,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,i)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(n,i){return i===n.getSourceId()}endDrag(){}constructor(n){this.config=n,this.item={},this.initializeExposedProperties()}}const Of="__NATIVE_FILE__",Df="__NATIVE_URL__",Pf="__NATIVE_TEXT__",If="__NATIVE_HTML__";var pp=Object.freeze({__proto__:null,FILE:Of,HTML:If,TEXT:Pf,URL:Df});function ou(r,n,i){const o=n.reduce(((l,s)=>l||r.getData(s)),"");return o??i}const Pu={[Of]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[If]:{exposeProperties:{html:(r,n)=>ou(r,n,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[Df]:{exposeProperties:{urls:(r,n)=>ou(r,n,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[Pf]:{exposeProperties:{text:(r,n)=>ou(r,n,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function lu(r){if(!r)return null;const n=Array.prototype.slice.call(r.types||[]);return Object.keys(Pu).filter((i=>{const o=Pu[i];return!!o?.matchesTypes&&o.matchesTypes.some((l=>n.indexOf(l)>-1))}))[0]||null}const T0=Nf((()=>/firefox/i.test(navigator.userAgent))),fp=Nf((()=>!!window.safari));class gp{interpolate(n){const{xs:i,ys:o,c1s:l,c2s:s,c3s:c}=this;let d=i.length-1;if(n===i[d])return o[d];let f,g=0,m=c.length-1;for(;g<=m;){f=Math.floor(.5*(g+m));const v=i[f];if(v<n)g=f+1;else{if(!(v>n))return o[f];m=f-1}}d=Math.max(0,m);const x=n-i[d],w=x*x;return o[d]+l[d]*x+s[d]*w+c[d]*x*w}constructor(n,i){const{length:o}=n,l=[];for(let v=0;v<o;v++)l.push(v);l.sort(((v,D)=>n[v]<n[D]?-1:1));const s=[],c=[];let d,f;for(let v=0;v<o-1;v++)d=n[v+1]-n[v],f=i[v+1]-i[v],s.push(d),c.push(f/d);const g=[c[0]];for(let v=0;v<s.length-1;v++){const D=c[v],N=c[v+1];if(D*N<=0)g.push(0);else{d=s[v];const O=s[v+1],_=d+O;g.push(3*_/((_+O)/D+(_+d)/N))}}g.push(c[c.length-1]);const m=[],x=[];let w;for(let v=0;v<g.length-1;v++){w=c[v];const D=g[v],N=1/s[v],O=D+g[v+1]-w-w;m.push((w-D-O)*N),x.push(O*N*N)}this.xs=n,this.ys=i,this.c1s=g,this.c2s=m,this.c3s=x}}const E0=1;function Bf(r){const n=r.nodeType===E0?r:r.parentElement;if(!n)return null;const{top:i,left:o}=n.getBoundingClientRect();return{x:o,y:i}}function Uo(r){return{x:r.clientX,y:r.clientY}}function N0(r,n,i,o,l){const s=(c=n).nodeName==="IMG"&&(T0()||!(!((d=document.documentElement)===null||d===void 0)&&d.contains(c)));var c,d;const f=Bf(s?r:n),g={x:i.x-f.x,y:i.y-f.y},{offsetWidth:m,offsetHeight:x}=r,{anchorX:w,anchorY:v}=o,{dragPreviewWidth:D,dragPreviewHeight:N}=(function(W,de,pe,R){let ce=W?de.width:pe,ve=W?de.height:R;return fp()&&W&&(ve/=window.devicePixelRatio,ce/=window.devicePixelRatio),{dragPreviewWidth:ce,dragPreviewHeight:ve}})(s,n,m,x),{offsetX:O,offsetY:_}=l,Q=_===0||_;return{x:O===0||O?O:new gp([0,.5,1],[g.x,g.x/m*D,g.x+D-m]).interpolate(w),y:Q?_:(()=>{let W=new gp([0,.5,1],[g.y,g.y/x*N,g.y+N-x]).interpolate(v);return fp()&&s&&(W+=(window.devicePixelRatio-1)*N),W})()}}let Qo;function O0(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function mp(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter((function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})))),o.forEach((function(l){O0(r,l,i[l])}))}return r}class D0{profile(){var n,i;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((n=this.dragStartSourceIds)===null||n===void 0?void 0:n.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((i=this.dragOverTargetIds)===null||i===void 0?void 0:i.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const n=this.rootElement;if(n!==void 0){if(n.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");n.__isReactDndBackendSetUp=!0,this.addEventListeners(n)}}teardown(){const n=this.rootElement;var i;n!==void 0&&(n.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&((i=this.window)===null||i===void 0||i.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(n,i,o){return this.sourcePreviewNodeOptions.set(n,o),this.sourcePreviewNodes.set(n,i),()=>{this.sourcePreviewNodes.delete(n),this.sourcePreviewNodeOptions.delete(n)}}connectDragSource(n,i,o){this.sourceNodes.set(n,i),this.sourceNodeOptions.set(n,o);const l=c=>this.handleDragStart(c,n),s=c=>this.handleSelectStart(c);return i.setAttribute("draggable","true"),i.addEventListener("dragstart",l),i.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(n),this.sourceNodeOptions.delete(n),i.removeEventListener("dragstart",l),i.removeEventListener("selectstart",s),i.setAttribute("draggable","false")}}connectDropTarget(n,i){const o=c=>this.handleDragEnter(c,n),l=c=>this.handleDragOver(c,n),s=c=>this.handleDrop(c,n);return i.addEventListener("dragenter",o),i.addEventListener("dragover",l),i.addEventListener("drop",s),()=>{i.removeEventListener("dragenter",o),i.removeEventListener("dragover",l),i.removeEventListener("drop",s)}}addEventListeners(n){n.addEventListener&&(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(n){n.removeEventListener&&(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const n=this.monitor.getSourceId(),i=this.sourceNodeOptions.get(n);return mp({dropEffect:this.altKeyPressed?"copy":"move"},i||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const n=this.monitor.getSourceId();return mp({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(n)||{})}isDraggingNativeItem(){const n=this.monitor.getItemType();return Object.keys(pp).some((i=>pp[i]===n))}beginDragNativeItem(n,i){this.clearCurrentDragSourceNode(),this.currentNativeSource=(function(o,l){const s=Pu[o];if(!s)throw new Error(`native type ${o} has no configuration`);const c=new C0(s);return c.loadDataTransfer(l),c})(n,i),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(n){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n,this.mouseMoveTimeoutTimer=setTimeout((()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var n;return this.currentDragSourceNode=null,this.rootElement&&((n=this.window)===null||n===void 0||n.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(n,i){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(i))}handleDragEnter(n,i){this.dragEnterTargetIds.unshift(i)}handleDragOver(n,i){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(i)}handleDrop(n,i){this.dropTargetIds.unshift(i)}constructor(n,i,o){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=l=>{const s=this.sourceNodes.get(l);return s&&Bf(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=l=>!!(l&&this.document&&this.document.body&&this.document.body.contains(l)),this.endDragIfSourceWasRemovedFromDOM=()=>{const l=this.currentDragSourceNode;l==null||this.isNodeInDocument(l)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=l=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(l||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=l=>{if(l.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const c=Uo(l);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:c});const{dataTransfer:d}=l,f=lu(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const m=this.monitor.getSourceId(),x=this.sourceNodes.get(m),w=this.sourcePreviewNodes.get(m)||x;if(w){const{anchorX:v,anchorY:D,offsetX:N,offsetY:O}=this.getCurrentSourcePreviewNodeOptions(),_=N0(x,w,c,{anchorX:v,anchorY:D},{offsetX:N,offsetY:O});d.setDragImage(w,_.x,_.y)}}try{d?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(l.target);const{captureDraggingState:g}=this.getCurrentSourcePreviewNodeOptions();g?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(f)this.beginDragNativeItem(f);else{if(d&&!d.types&&(l.target&&!l.target.hasAttribute||!l.target.hasAttribute("draggable")))return;l.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=l=>{var s;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&((s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(l.dataTransfer)),!this.enterLeaveCounter.enter(l.target)||this.monitor.isDragging())return;const{dataTransfer:c}=l,d=lu(c);d&&this.beginDragNativeItem(d,c)},this.handleTopDragEnter=l=>{const{dragEnterTargetIds:s}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=l.altKey,s.length>0&&this.actions.hover(s,{clientOffset:Uo(l)}),s.some((c=>this.monitor.canDropOnTarget(c)))&&(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=l=>{var s;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&((s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(l.dataTransfer))},this.handleTopDragOver=l=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return l.preventDefault(),void(l.dataTransfer&&(l.dataTransfer.dropEffect="none"));this.altKeyPressed=l.altKey,this.lastClientOffset=Uo(l),this.scheduleHover(s),(s||[]).some((c=>this.monitor.canDropOnTarget(c)))?(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?l.preventDefault():(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=l=>{this.isDraggingNativeItem()&&l.preventDefault(),this.enterLeaveCounter.leave(l.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=l=>{var s;this.dropTargetIds=[],this.isDraggingNativeItem()?(l.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(l.dataTransfer)):lu(l.dataTransfer)&&l.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=l=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:Uo(l)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=l=>{const s=l.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(l.preventDefault(),s.dragDrop()))},this.options=new class{get window(){return this.globalContext?this.globalContext:typeof window<"u"?window:void 0}get document(){var l;return!((l=this.globalContext)===null||l===void 0)&&l.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var l;return((l=this.optionsArgs)===null||l===void 0?void 0:l.rootElement)||this.window}constructor(l,s){this.ownerDocument=null,this.globalContext=l,this.optionsArgs=s}}(i,o),this.actions=n.getActions(),this.monitor=n.getMonitor(),this.registry=n.getRegistry(),this.enterLeaveCounter=new b0(this.isNodeInDocument)}}const P0=function(r,n,i){return new D0(r,n,i)};var _r;(function(r){r.mouse="mouse",r.touch="touch",r.keyboard="keyboard"})(_r||(_r={}));class I0{get delay(){var n;return(n=this.args.delay)!==null&&n!==void 0?n:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var n;return(n=this.args.ignoreContextMenu)!==null&&n!==void 0&&n}get enableHoverOutsideTarget(){var n;return(n=this.args.enableHoverOutsideTarget)!==null&&n!==void 0&&n}get enableKeyboardEvents(){var n;return(n=this.args.enableKeyboardEvents)!==null&&n!==void 0&&n}get enableMouseEvents(){var n;return(n=this.args.enableMouseEvents)!==null&&n!==void 0&&n}get enableTouchEvents(){var n;return(n=this.args.enableTouchEvents)===null||n===void 0||n}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var n,i,o,l;return(l=(o=(n=this.args)===null||n===void 0?void 0:n.delayTouchStart)!==null&&o!==void 0?o:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&l!==void 0?l:0}get delayMouseStart(){var n,i,o,l;return(l=(o=(n=this.args)===null||n===void 0?void 0:n.delayMouseStart)!==null&&o!==void 0?o:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&l!==void 0?l:0}get window(){return this.context&&this.context.window?this.context.window:typeof window<"u"?window:void 0}get document(){var n;return!((n=this.context)===null||n===void 0)&&n.document?this.context.document:this.window?this.window.document:void 0}get rootElement(){var n;return((n=this.args)===null||n===void 0?void 0:n.rootElement)||this.document}constructor(n,i){this.args=n,this.context=i}}const B0=1,_0=0;function su(r){return r.button===void 0||r.button===_0}function _f(r){return!!r.targetTouches}function el(r,n){return _f(r)?(function(i,o){return i.targetTouches.length===1?el(i.targetTouches[0]):o&&i.touches.length===1&&i.touches[0].target===o.target?el(i.touches[0]):void 0})(r,n):{x:r.clientX,y:r.clientY}}const yp=(()=>{let r=!1;try{addEventListener("test",(()=>{}),Object.defineProperty({},"passive",{get:()=>(r=!0,!0)}))}catch{}return r})(),fa={[_r.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[_r.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[_r.keyboard]:{keydown:"keydown"}};class Sa{profile(){var n;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get document(){return this.options.document}setup(){const n=this.options.rootElement;n&&(je(!Sa.isSetUp,"Cannot have two Touch backends at the same time."),Sa.isSetUp=!0,this.addEventListener(n,"start",this.getTopMoveStartHandler()),this.addEventListener(n,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(n,"move",this.handleTopMove),this.addEventListener(n,"move",this.handleTopMoveCapture,!0),this.addEventListener(n,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(n,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(n,"keydown",this.handleCancelOnEscape,!0))}teardown(){const n=this.options.rootElement;n&&(Sa.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(n,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(n,"start",this.handleTopMoveStart),this.removeEventListener(n,"move",this.handleTopMoveCapture,!0),this.removeEventListener(n,"move",this.handleTopMove),this.removeEventListener(n,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(n,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(n,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(n,i,o,l=!1){const s=yp?{capture:l,passive:!1}:l;this.listenerTypes.forEach((function(c){const d=fa[c][i];d&&n.addEventListener(d,o,s)}))}removeEventListener(n,i,o,l=!1){const s=yp?{capture:l,passive:!1}:l;this.listenerTypes.forEach((function(c){const d=fa[c][i];d&&n.removeEventListener(d,o,s)}))}connectDragSource(n,i){const o=this.handleMoveStart.bind(this,n);return this.sourceNodes.set(n,i),this.addEventListener(i,"start",o),()=>{this.sourceNodes.delete(n),this.removeEventListener(i,"start",o)}}connectDragPreview(n,i,o){return this.sourcePreviewNodeOptions.set(n,o),this.sourcePreviewNodes.set(n,i),()=>{this.sourcePreviewNodes.delete(n),this.sourcePreviewNodeOptions.delete(n)}}connectDropTarget(n,i){const o=this.options.rootElement;if(!this.document||!o)return()=>{};const l=s=>{if(!this.document||!o||!this.monitor.isDragging())return;let c;switch(s.type){case fa.mouse.move:c={x:s.clientX,y:s.clientY};break;case fa.touch.move:var d,f;c={x:((d=s.touches[0])===null||d===void 0?void 0:d.clientX)||0,y:((f=s.touches[0])===null||f===void 0?void 0:f.clientY)||0}}const g=c!=null?this.document.elementFromPoint(c.x,c.y):void 0,m=g&&i.contains(g);return g===i||m?this.handleMove(s,n):void 0};return this.addEventListener(this.document.body,"move",l),this.targetNodes.set(n,i),()=>{this.document&&(this.targetNodes.delete(n),this.removeEventListener(this.document.body,"move",l))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(n){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=n,this.draggedSourceNodeRemovalObserver=new MutationObserver((()=>{n&&!n.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())})),n&&n.parentElement&&this.draggedSourceNodeRemovalObserver.observe(n.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(n,i,o){this.getSourceClientOffset=l=>{const s=this.sourceNodes.get(l);return s&&(function(c){const d=c.nodeType===1?c:c.parentElement;if(!d)return;const{top:f,left:g}=d.getBoundingClientRect();return{x:g,y:f}})(s)},this.handleTopMoveStartCapture=l=>{su(l)&&(this.moveStartSourceIds=[])},this.handleMoveStart=l=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(l)},this.handleTopMoveStart=l=>{if(!su(l))return;const s=el(l);s&&(_f(l)&&(this.lastTargetTouchFallback=l.targetTouches[0]),this._mouseClientOffset=s),this.waitingForDelay=!1},this.handleTopMoveStartDelay=l=>{if(!su(l))return;const s=l.type===fa.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,l),s),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(l,s)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(s)},this.handleTopMove=l=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:s,dragOverTargetIds:c}=this,d=this.options.enableHoverOutsideTarget,f=el(l,this.lastTargetTouchFallback);if(!f)return;if(this._isScrolling||!this.monitor.isDragging()&&(function(Q,W,de,pe,R){if(!R)return!1;const ce=180*Math.atan2(pe-W,de-Q)/Math.PI+180;for(let ve=0;ve<R.length;++ve){const be=R[ve];if(be&&(be.start==null||ce>=be.start)&&(be.end==null||ce<=be.end))return!0}return!1})(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,f.x,f.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var g,m,x,w;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&s&&(g=this._mouseClientOffset.x||0,m=this._mouseClientOffset.y||0,x=f.x,w=f.y,Math.sqrt(Math.pow(Math.abs(x-g),2)+Math.pow(Math.abs(w-m),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(s,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const v=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(v),this.actions.publishDragSource(),l.cancelable&&l.preventDefault();const D=(c||[]).map((Q=>this.targetNodes.get(Q))).filter((Q=>!!Q)),N=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(f.x,f.y,D):this.document.elementsFromPoint(f.x,f.y),O=[];for(const Q in N){if(!N.hasOwnProperty(Q))continue;let W=N[Q];for(W!=null&&O.push(W);W;)W=W.parentElement,W&&O.indexOf(W)===-1&&O.push(W)}const _=O.filter((Q=>D.indexOf(Q)>-1)).map((Q=>this._getDropTargetId(Q))).filter((Q=>!!Q)).filter(((Q,W,de)=>de.indexOf(Q)===W));if(d)for(const Q in this.targetNodes){const W=this.targetNodes.get(Q);if(v&&W&&W.contains(v)&&_.indexOf(Q)===-1){_.unshift(Q);break}}_.reverse(),this.actions.hover(_,{clientOffset:f})},this._getDropTargetId=l=>{const s=this.targetNodes.keys();let c=s.next();for(;c.done===!1;){const d=c.value;if(l===this.targetNodes.get(d))return d;c=s.next()}},this.handleTopMoveEndCapture=l=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,(function(s){return s.buttons===void 0||(s.buttons&B0)==0})(l)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(l.cancelable&&l.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=l=>{l.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new I0(o,i),this.actions=n.getActions(),this.monitor=n.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(_r.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(_r.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(_r.keyboard)}}const A0=function(r,n={},i={}){return new Sa(r,n,i)},Na="abcdefgh".split(""),Zo={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},M0={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},L0={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},R0=[7,6,5,4,3,2,1,0],j0=[0,1,2,3,4,5,6,7],vp={wP:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),b.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),b.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),b.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),b.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),b.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[b.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),b.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),b.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),b.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[b.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),b.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),b.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),b.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),b.jsx("circle",{cx:"6",cy:"12",r:"2"}),b.jsx("circle",{cx:"14",cy:"9",r:"2"}),b.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),b.jsx("circle",{cx:"31",cy:"9",r:"2"}),b.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),b.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),b.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),b.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),b.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),b.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),b.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),b.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),b.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[b.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),b.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),b.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),b.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[b.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),b.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),b.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),b.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),b.jsx("circle",{cx:"6",cy:"12",r:"2"}),b.jsx("circle",{cx:"14",cy:"9",r:"2"}),b.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),b.jsx("circle",{cx:"31",cy:"9",r:"2"}),b.jsx("circle",{cx:"39",cy:"12",r:"2"}),b.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),b.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[b.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),b.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),b.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),b.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:b.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[b.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),b.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),b.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),b.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),b.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Iu(r,n,i){const o=n/8,l=r==="white"?R0:j0;return{x:(r==="white"?M0:L0)[i[0]]*o+o/2,y:l[parseInt(i[1],10)-1]*o+o/2}}function xp(r){let n=!1;return Object.keys(Zo).forEach((i=>{r[i]!==Zo[i]&&(n=!0)})),Object.keys(r).forEach((i=>{Zo[i]!==r[i]&&(n=!0)})),n}function kp(r){return r==="start"?Zo:typeof r=="string"?(function(n){if(!(function(s){s=s.replace(/ .+$/,""),s=(function(d){return d.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")})(s);const c=s.split("/");if(c.length!==8)return!1;for(let d=0;d<8;d++)if(c[d].length!==8||c[d].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0})(n))return{};const i=(n=n.replace(/ .+$/,"")).split("/"),o={};let l=8;for(let s=0;s<8;s++){const c=i[s].split("");let d=0;for(let f=0;f<c.length;f++)c[f].search(/[1-8]/)!==-1?d+=parseInt(c[f],10):(o[Na[d]+l]=W0(c[f]),d+=1);l-=1}return o})(r):r}function W0(r){return r.toLowerCase()===r?"b"+r.toUpperCase():"w"+r.toUpperCase()}const Af=U.createContext({}),sr=()=>U.useContext(Af),z0=U.forwardRef((({allowDragOutsideBoard:r=!0,animationDuration:n=300,areArrowsAllowed:i=!0,arePiecesDraggable:o=!0,arePremovesAllowed:l=!1,autoPromoteToQueen:s=!1,boardOrientation:c="white",boardWidth:d,children:f,clearPremovesOnRightClick:g=!0,customArrows:m,customArrowColor:x="rgb(255,170,0)",customBoardStyle:w,customDarkSquareStyle:v={backgroundColor:"#B58863"},customDropSquareStyle:D={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:N={backgroundColor:"#F0D9B5"},customPieces:O,customPremoveDarkSquareStyle:_={backgroundColor:"#A42323"},customPremoveLightSquareStyle:Q={backgroundColor:"#BD2828"},customSquare:W="div",customSquareStyles:de,dropOffBoardAction:pe="snapback",id:R=0,isDraggablePiece:ce=(()=>!0),getPositionObject:ve=(()=>{}),onArrowsChange:be=(()=>{}),onDragOverSquare:me=(()=>{}),onMouseOutSquare:oe=(()=>{}),onMouseOverSquare:le=(()=>{}),onPieceClick:Te=(()=>{}),onPieceDragBegin:ue=(()=>{}),onPieceDragEnd:G=(()=>{}),onPieceDrop:se=(()=>!0),onPromotionCheck:Ce=((q,ae,he)=>(he==="wP"&&q[1]==="7"&&ae[1]==="8"||he==="bP"&&q[1]==="2"&&ae[1]==="1")&&Math.abs(q.charCodeAt(0)-ae.charCodeAt(0))<=1),onPromotionPieceSelect:Z,onSquareClick:ge=(()=>{}),onSquareRightClick:y=(()=>{}),position:S="start",promotionDialogVariant:B="default",promotionToSquare:C=null,showBoardNotation:Y=!0,showPromotionDialog:ee=!1,snapToCursor:X=!0},ne)=>{const[q,ae]=U.useState(kp(S)),[he,Ie]=U.useState({removed:{},added:{}}),[Fe,Ue]=U.useState(void 0),[Re,Ze]=U.useState(ee&&!s),[gt,ut]=U.useState(null),[St,vt]=U.useState(C),[at,Ut]=U.useState([]),Nt=U.useRef(at),[pn,nn]=U.useState(),[Fn,K]=U.useState(Object.assign(Object.assign({},vp),O)),[te,Ee]=U.useState(!1),[_e,ze]=U.useState(),[Xe,Ot]=U.useState(!1);U.useImperativeHandle(ne,(()=>({clearPremoves(Ye=!0){Kn(Ye)}}))),U.useEffect((()=>{K(Object.assign(Object.assign({},vp),O))}),[O]),U.useEffect((()=>{Ze(ee),vt(C)}),[C,ee]),U.useEffect((()=>{var Ye,ot,pt;Xn();const jt=kp(S),Qt=(function(Pt,L){const It={removed:{},added:{}};return Object.keys(Pt).forEach((Ge=>{L[Ge]!==Pt[Ge]&&(It.removed[Ge]=Pt[Ge])})),Object.keys(L).forEach((Ge=>{Pt[Ge]!==L[Ge]&&(It.added[Ge]=L[Ge])})),It})(q,jt),Wt=((Ye=Object.keys(Qt.added))===null||Ye===void 0?void 0:Ye.length)<=2?(pt=(ot=Object.entries(Qt.added))===null||ot===void 0?void 0:ot[0])===null||pt===void 0?void 0:pt[1][0]:void 0;if(Xe)ae(jt),Ot(!1),l&&bt(Wt),_e&&clearTimeout(_e);else if(te)ae(jt),Ot(!1),l&&bt(Wt);else{xp(jt)&&Fe!==void 0?Ue(Wt):xp(jt)?Ue(void 0):Ue("b"),Ie(Qt),Ot(!0);const Pt=setTimeout((()=>{ae(jt),Ot(!1),l&&bt(Wt)}),n);ze(Pt)}return Ee(!1),ve(jt),fn(),()=>{clearTimeout(_e)}}),[S]);const{arrows:Dt,newArrow:Cn,clearArrows:fn,drawNewArrow:mt,onArrowDrawEnd:Jt}=((Ye,ot=!0,pt,jt)=>{const[Qt,Wt]=U.useState([]),[Pt,L]=U.useState([]),[It,Ge]=U.useState();U.useEffect((()=>{Array.isArray(Ye)&&Wt(Ye?.filter((re=>re[0]!==re[1])))}),[Ye]),U.useEffect((()=>{pt?.(Pt)}),[Pt]);const gn=[...Pt,...Qt];return{arrows:gn,newArrow:It,clearArrows:function(){L([]),Ge(void 0)},drawNewArrow:(re,Bt)=>{ot&&Ge([re,Bt,jt])},setArrows:L,onArrowDrawEnd:(re,Bt)=>{if(re===Bt||!ot)return;let Je;const zt=[re,Bt,jt];Je=gn.every((([Zn,_t])=>!(Zn===re&&_t===Bt)))?[...Pt,zt]:Pt.filter((([Zn,_t])=>!(Zn===re&&_t===Bt))),Ge(void 0),L(Je)}}})(m,i,be,x);function bt(Ye){if(Nt.current.length===0)return;const ot=Nt.current[0];if(ot.piece[0]!==void 0&&ot.piece[0]!==Ye&&se.length)if(Ue(ot.piece[0]),Ee(!0),se(ot.sourceSq,ot.targetSq,ot.piece)){const pt=[...Nt.current];pt.shift(),Nt.current=pt,Ut([...pt])}else Kn()}function Kn(Ye=!0){Ye&&Ue(void 0),Nt.current=[],Ut([])}function Xn(){ut(null),vt(null),Ze(!1)}const Yn={animationDuration:n,arePiecesDraggable:o,arePremovesAllowed:l,boardOrientation:c,boardWidth:d,customArrowColor:x,customBoardStyle:w,customDarkSquareStyle:v,customDropSquareStyle:D,customLightSquareStyle:N,customPremoveDarkSquareStyle:_,customPremoveLightSquareStyle:Q,customSquare:W,customSquareStyles:de,id:R,isDraggablePiece:ce,onDragOverSquare:me,onMouseOutSquare:oe,onMouseOverSquare:le,onPieceClick:Te,onPieceDragBegin:ue,onPieceDragEnd:G,onPieceDrop:se,onPromotionCheck:Ce,onPromotionPieceSelect:Z,onSquareClick:ge,showBoardNotation:Y,snapToCursor:X,promotionDialogVariant:B,allowDragOutsideBoard:r,arrows:Dt,newArrow:Cn,onArrowDrawEnd:Jt,chessPieces:Fn,clearArrows:fn,drawNewArrow:mt,clearCurrentRightClickDown:function(){nn(void 0)},currentPosition:q,handleSetPosition:function(Ye,ot,pt,jt){if(Ye===ot)return;if(fn(),l&&Xe||l&&(Fe===pt[0]||Nt.current.filter((Wt=>Wt.piece[0]===pt[0])).length>0)){const Wt=[...Nt.current];return Wt.push({sourceSq:Ye,targetSq:ot,piece:pt}),Nt.current=Wt,Ut([...Wt]),void Xn()}if(!l&&Xe)return;const Qt=Object.assign({},q);Ee(!!jt),Ue(pt[0]),se.length?se(Ye,ot,pt)||Kn():(pe!=="trash"||ot||delete Qt[Ye],delete Qt[Ye],Qt[ot]=pt,ae(Qt)),Xn(),ve(Qt)},isWaitingForAnimation:Xe,lastPieceColour:Fe,onRightClickDown:function(Ye){nn(Ye)},onRightClickUp:function(Ye){if(pn){if(pn===Ye)return nn(void 0),g&&Kn(!1),void y(Ye)}else nn(void 0)},positionDifferences:he,promoteFromSquare:gt,promoteToSquare:St,premoves:at,setPromoteFromSquare:ut,setPromoteToSquare:vt,setShowPromoteDialog:Ze,showPromoteDialog:Re,autoPromoteToQueen:s,currentRightClickDown:pn};return b.jsx(Af.Provider,Object.assign({value:Yn},{children:f}))}));function F0({row:r,col:n}){const{boardOrientation:i,boardWidth:o,customDarkSquareStyle:l,customLightSquareStyle:s}=sr(),c=s.backgroundColor,d=l.backgroundColor,f=n===0,g=r===7;function m(){return i==="white"?8-r:r+1}function x(){return i==="black"?Na[7-n]:Na[n]}return f&&g?b.jsxs(b.Fragment,{children:[b.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:c}),Sp(o))},{children:m()})),b.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:c}),wp(o))},{children:x()}))]}):g?b.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:n%2!=0?d:c}),wp(o))},{children:x()})):f?b.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:r%2==0?d:c}),Sp(o))},{children:m()})):null}const wp=r=>({alignSelf:"flex-end",paddingLeft:r/8-r/48,fontSize:r/48}),Sp=r=>({alignSelf:"flex-start",paddingRight:r/8-r/48,fontSize:r/48});function bp({isPremovedPiece:r=!1,piece:n,square:i,squares:o}){const{animationDuration:l,arePiecesDraggable:s,arePremovesAllowed:c,boardWidth:d,boardOrientation:f,chessPieces:g,currentPosition:m,id:x,isDraggablePiece:w,isWaitingForAnimation:v,onPieceClick:D,onPieceDragBegin:N,onPieceDragEnd:O,positionDifferences:_,premoves:Q,onPromotionCheck:W}=sr(),[de,pe]=U.useState({opacity:1,zIndex:5,touchAction:"none",cursor:s&&w({piece:n,sourceSquare:i})?"-webkit-grab":"default"}),[{canDrag:R,isDragging:ce},ve,be]=v0((()=>({type:"piece",item:()=>(N(n,i),{piece:n,square:i,id:x}),end:()=>O(n,i),collect:me=>({canDrag:w({piece:n,sourceSquare:i}),isDragging:!!me.isDragging()})})),[n,i,m,x]);return be((Qo||(Qo=new Image,Qo.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Qo),{captureDraggingState:!0}),U.useEffect((()=>{pe((me=>Object.assign(Object.assign({},me),{opacity:ce?0:1})))}),[ce]),U.useEffect((()=>{if(!c)return;let me=!1;!r&&Q.find((oe=>oe.targetSq===i))&&(me=!0),Q.find((oe=>oe.sourceSq===i&&oe.piece===n))&&(me=!0),pe((oe=>Object.assign(Object.assign({},oe),{display:me?"none":"unset"})))}),[m,Q]),U.useEffect((()=>{var me;const oe=(me=_.removed)===null||me===void 0?void 0:me[i];if(!_.added||!oe)return;const le=Object.entries(_.added).find((([Te,ue])=>ue===oe||W(i,Te,oe)));if(v&&oe&&le&&!r){const Te=i,ue=le[0];if(Te&&ue){const G=d/8;pe((se=>Object.assign(Object.assign({},se),{transform:`translate(${(f==="black"?-1:1)*(ue.charCodeAt(0)-Te.charCodeAt(0))*G}px, ${(f==="black"?-1:1)*(Number(Te[1])-Number(ue[1]))*G}px)`,transition:`transform ${l}ms`,zIndex:6})))}}}),[_]),U.useEffect((()=>{const{sourceSq:me}={sourceSq:o[i]};me&&pe((oe=>Object.assign(Object.assign({},oe),{transform:"translate(0px, 0px)",transition:"transform 0ms"})))}),[m]),U.useEffect((()=>{pe((me=>Object.assign(Object.assign({},me),{cursor:s&&w({piece:n,sourceSquare:i})?"-webkit-grab":"default"})))}),[i,m,s]),b.jsx("div",Object.assign({ref:s&&R?ve:null,onClick:()=>D(n),"data-piece":n,style:de},{children:typeof g[n]=="function"?g[n]({squareWidth:d/8,isDragging:ce,square:i}):b.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:d/8,height:d/8},{children:b.jsx("g",{children:g[n]})}))}))}function K0({square:r,squareColor:n,setSquares:i,squareHasPremove:o,children:l}){const s=U.useRef(null),{autoPromoteToQueen:c,boardWidth:d,boardOrientation:f,clearArrows:g,currentPosition:m,currentRightClickDown:x,customBoardStyle:w,customDarkSquareStyle:v,customDropSquareStyle:D,customLightSquareStyle:N,customPremoveDarkSquareStyle:O,customPremoveLightSquareStyle:_,customSquare:Q,customSquareStyles:W,drawNewArrow:de,handleSetPosition:pe,isWaitingForAnimation:R,lastPieceColour:ce,onArrowDrawEnd:ve,onDragOverSquare:be,onMouseOutSquare:me,onMouseOverSquare:oe,onPieceDrop:le,onPromotionCheck:Te,onRightClickDown:ue,onRightClickUp:G,onSquareClick:se,setPromoteFromSquare:Ce,setPromoteToSquare:Z,setShowPromoteDialog:ge}=sr(),[{isOver:y},S]=S0((()=>({accept:"piece",drop:B,collect:Y=>({isOver:!!Y.isOver()})})),[r,m,le,R,ce]);function B(Y){Te(Y.square,r,Y.piece)?c?pe(Y.square,r,Y.piece[0]==="w"?"wQ":"bQ"):(Ce(Y.square),Z(r),ge(!0)):pe(Y.square,r,Y.piece,!0)}U.useEffect((()=>{if(s.current){const{x:Y,y:ee}=s.current.getBoundingClientRect();i((X=>Object.assign(Object.assign({},X),{[r]:{x:Y,y:ee}})))}}),[d,f]);const C=Object.assign(Object.assign(Object.assign(Object.assign({},Y0(r,f,w)),n==="black"?v:N),o&&(n==="black"?O:_)),y&&D);return b.jsx("div",Object.assign({ref:S,style:C,"data-square-color":n,"data-square":r,onMouseOver:Y=>{Y.buttons===2&&x&&de(x,r),Y.relatedTarget&&Y.currentTarget.contains(Y.relatedTarget)||oe(r)},onMouseOut:Y=>{Y.relatedTarget&&Y.currentTarget.contains(Y.relatedTarget)||me(r)},onMouseDown:Y=>{Y.button===2&&ue(r)},onMouseUp:Y=>{Y.button===2&&(x&&ve(x,r),G(r))},onDragEnter:()=>be(r),onClick:()=>{se(r),g()},onContextMenu:Y=>{Y.preventDefault()}},{children:b.jsx(Q,typeof Q=="string"?Object.assign({ref:s,style:Object.assign(Object.assign(Object.assign({},Tp(d)),Cp),!o&&W?.[r])},{children:l}):Object.assign({ref:s,square:r,squareColor:n,style:Object.assign(Object.assign(Object.assign({},Tp(d)),Cp),!o&&W?.[r])},{children:l}))}))}const Cp={display:"flex",justifyContent:"center"},Tp=r=>({width:r/8,height:r/8}),Y0=(r,n,i)=>i?.borderRadius?r==="a1"?n==="white"?{borderBottomLeftRadius:i.borderRadius}:{borderTopRightRadius:i.borderRadius}:r==="a8"?n==="white"?{borderTopLeftRadius:i.borderRadius}:{borderBottomRightRadius:i.borderRadius}:r==="h1"?n==="white"?{borderBottomRightRadius:i.borderRadius}:{borderTopLeftRadius:i.borderRadius}:r==="h8"?n==="white"?{borderTopRightRadius:i.borderRadius}:{borderBottomLeftRadius:i.borderRadius}:{}:{};function q0(){const[r,n]=U.useState({}),{boardOrientation:i,boardWidth:o,currentPosition:l,id:s,premoves:c,showBoardNotation:d}=sr();return b.jsx("div",Object.assign({"data-boardid":s},{children:[...Array(8)].map(((f,g)=>b.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:o}},{children:[...Array(8)].map(((m,x)=>{const w=i==="black"?Na[7-x]+(g+1):Na[x]+(8-g),v=x%2==g%2?"white":"black",D=c.find((O=>O.sourceSq===w||O.targetSq===w)),N=c.find((O=>O.targetSq===w));return b.jsxs(K0,Object.assign({square:w,squareColor:v,setSquares:n,squareHasPremove:!!D},{children:[l[w]&&b.jsx(bp,{piece:l[w],square:w,squares:r}),N&&b.jsx(bp,{isPremovedPiece:!0,piece:N.piece,square:w,squares:r}),d&&b.jsx(F0,{row:g,col:x})]}),`${x}${g}`)}))}),g.toString())))}))}const U0=()=>{const{arrows:r,newArrow:n,boardOrientation:i,boardWidth:o,customArrowColor:l}=sr(),s=[...r,n].filter(Boolean);return b.jsx("svg",Object.assign({width:o,height:o,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:s.map(((c,d)=>{const[f,g,m]=c;if(f===g)return null;const x=Iu(i,o,f),w=Iu(i,o,g);let v=o/32;const D=d===r.length;r.some((W=>W[0]!==f&&W[1]===g))&&!D&&(v=o/16);const N=w.x-x.x,O=w.y-x.y,_=Math.hypot(O,N),Q={x:x.x+N*(_-v)/_,y:x.y+O*(_-v)/_};return b.jsxs(U.Fragment,{children:[b.jsx("marker",Object.assign({id:`arrowhead-${d}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:b.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:m??l})})),b.jsx("line",{x1:x.x,y1:x.y,x2:Q.x,y2:Q.y,opacity:D?"0.5":"0.65",stroke:m??l,strokeWidth:D?.9*o/40:o/40,markerEnd:`url(#arrowhead-${d})`})]},`${f}-${g}${D?"-active":""}`)}))}))};function Q0({option:r}){const[n,i]=U.useState(!1),{boardWidth:o,chessPieces:l,customDarkSquareStyle:s,customLightSquareStyle:c,handleSetPosition:d,onPromotionPieceSelect:f,promoteFromSquare:g,promoteToSquare:m,promotionDialogVariant:x}=sr(),w=()=>{switch(r[1]){case"Q":return s.backgroundColor;case"R":return c.backgroundColor;case"N":return x==="default"?c.backgroundColor:s.backgroundColor;case"B":return x==="default"?s.backgroundColor:c.backgroundColor}};return b.jsx("div",Object.assign({onClick:()=>{f?.length?f(r):d(g,m,r,!0)},onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),"data-piece":r,style:{cursor:"pointer",backgroundColor:n?w():`${w()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof l[r]=="function"?b.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:n?"scale(1)":"scale(0.85)"}},{children:l[r]({squareWidth:o/8,isDragging:!1})})):b.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{transition:"all 0.1s ease-out",transform:n?"scale(1)":"scale(0.85)"}},{children:b.jsx("g",{children:l[r]})}))}))}function $0(){const{boardOrientation:r,boardWidth:n,promotionDialogVariant:i,promoteToSquare:o}=sr(),l=o?.[1]==="1"?"b":"w",s=[`${l??"w"}Q`,`${l??"w"}R`,`${l??"w"}N`,`${l??"w"}B`],c={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-n/8}px, ${-n/8}px)`},vertical:{transform:`translate(${-n/16}px, ${-n/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*n/8}px)`,width:"100%",height:n/4+"px",top:0,backgroundColor:"white",left:0}},d=Iu(r,n,o||"a8");return b.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${d?.y}px`,left:`${d?.x}px`,zIndex:1e3},c[i]),title:"Choose promotion piece"},{children:s.map((f=>b.jsx(Q0,{option:f},f)))}))}const V0={whiteKing:b.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:b.jsx("g",{children:b.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function G0({children:r}){try{return b.jsx(b.Fragment,{children:r})}catch(n){return console.log(n),b.jsx(Mf,{showError:!0})}}function Mf({showError:r=!1}){return b.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[b.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:V0.whiteKing})),r&&b.jsx("h1",{children:"Something went wrong"})]}))}function H0(){const r=U.useRef(null),{boardWidth:n,clearCurrentRightClickDown:i,onPromotionPieceSelect:o,setShowPromoteDialog:l,showPromoteDialog:s,customBoardStyle:c}=sr();return U.useEffect((()=>{function d(f){r.current&&!r.current.contains(f.target)&&i()}return document.addEventListener("mouseup",d),()=>{document.removeEventListener("mouseup",d)}}),[]),n?b.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:b.jsxs("div",Object.assign({ref:r,style:Object.assign(Object.assign({position:"relative"},X0(n)),c)},{children:[b.jsx(q0,{}),b.jsx(U0,{}),s&&b.jsxs(b.Fragment,{children:[b.jsx("div",{onClick:()=>{l(!1),o?.()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:n,height:n}}),b.jsx($0,{})]})]}))})):b.jsx(Mf,{})}const X0=r=>({cursor:"default",height:r,width:r});function Z0({boardContainer:r}){const{boardWidth:n,chessPieces:i,id:o,snapToCursor:l,allowDragOutsideBoard:s}=sr(),c=(function(w){const v=Xr().getMonitor(),[D,N]=bf(v,w);return U.useEffect((()=>v.subscribeToOffsetChange(N))),U.useEffect((()=>v.subscribeToStateChange(N))),D})((w=>({item:w.getItem(),clientOffset:w.getClientOffset(),sourceClientOffset:w.getSourceClientOffset(),isDragging:w.isDragging()}))),{isDragging:d,item:f,clientOffset:g,sourceClientOffset:m}=c,x=U.useCallback(((w,v)=>{if(!w||!v)return{display:"none"};let{x:D,y:N}=l?w:v;const O=n/8/2;if(l&&(D-=O,N-=O),!s){const{left:Q,top:W}=r,de=Q-O,pe=W-O,R=Q+n-O,ce=W+n-O;D=Math.max(de,Math.min(D,R)),N=Math.max(pe,Math.min(N,ce))}const _=`translate(${D}px, ${N}px)`;return{transform:_,WebkitTransform:_,touchAction:"none"}}),[n,s,l,r]);return d&&f.id===o?b.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:b.jsx("div",Object.assign({style:x(g,m)},{children:typeof i[f.piece]=="function"?i[f.piece]({squareWidth:n/8,isDragging:!0}):b.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8},{children:b.jsx("g",{children:i[f.piece]})}))}))})):null}const J0=U.forwardRef(((r,n)=>{const{customDndBackend:i,customDndBackendOptions:o}=r,l=(function(W,de){var pe={};for(var R in W)Object.prototype.hasOwnProperty.call(W,R)&&de.indexOf(R)<0&&(pe[R]=W[R]);if(W!=null&&typeof Object.getOwnPropertySymbols=="function"){var ce=0;for(R=Object.getOwnPropertySymbols(W);ce<R.length;ce++)de.indexOf(R[ce])<0&&Object.prototype.propertyIsEnumerable.call(W,R[ce])&&(pe[R[ce]]=W[R[ce]])}return pe})(r,["customDndBackend","customDndBackendOptions"]),[s,c]=U.useState(),[d,f]=U.useState(!1),[g,m]=U.useState(!1),[x,w]=U.useState(r.boardWidth),v=U.useRef(null),D=U.useRef(null),[N,O]=U.useState({left:0,top:0}),_=U.useMemo((()=>{var W;return(W=v.current)===null||W===void 0?void 0:W.getBoundingClientRect()}),[v.current]);U.useEffect((()=>{O({left:_?.left?_?.left:0,top:_?.top?_?.top:0})}),[_]),U.useEffect((()=>{m("ontouchstart"in window),f(!0),c(window)}),[]),U.useEffect((()=>{var W;if(r.boardWidth===void 0&&(!((W=v.current)===null||W===void 0)&&W.offsetWidth)){const de=new ResizeObserver((()=>{var pe;w((pe=v.current)===null||pe===void 0?void 0:pe.offsetWidth)}));return de.observe(v.current),()=>{de.disconnect()}}}),[v.current,s]);const Q=i||(g?A0:P0);return d&&s?b.jsx(G0,{children:b.jsxs("div",Object.assign({ref:D,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[b.jsx("div",{ref:v,style:{width:"100%"}}),b.jsx(l0,Object.assign({backend:Q,context:s,options:i?o:void 0},{children:x&&b.jsxs(z0,Object.assign({boardWidth:x},l,{ref:n},{children:[b.jsx(Z0,{boardContainer:N}),b.jsx(H0,{})]}))}))]}))}):null}));function ex({fen:r,onMove:n,orientation:i="white",theme:o="green",customArrows:l=[],customSquareStyles:s={}}){function c(g,m){return n(g,m)}const d={green:{dark:"#779556",light:"#ebecd0"},blue:{dark:"#4b7399",light:"#eae9d2"},brown:{dark:"#b58863",light:"#f0d9b5"}},f=d[o]||d.green;return b.jsx("div",{className:"w-full max-w-[600px] aspect-square shadow-2xl rounded-lg overflow-hidden",children:b.jsx(J0,{position:r,onPieceDrop:c,boardOrientation:i,customDarkSquareStyle:{backgroundColor:f.dark},customLightSquareStyle:{backgroundColor:f.light},customArrows:l,customSquareStyles:s,animationDuration:200})})}function tx(r,n){const i={};return(r[r.length-1]===""?[...r,""]:r).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const nx=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ix={};function Ep(r,n){return(ix.jsx?rx:nx).test(r)}const ax=/[ \t\n\f\r]/g;function ox(r){return typeof r=="object"?r.type==="text"?Np(r.value):!1:Np(r)}function Np(r){return r.replace(ax,"")===""}class Da{constructor(n,i,o){this.normal=i,this.property=n,o&&(this.space=o)}}Da.prototype.normal={};Da.prototype.property={};Da.prototype.space=void 0;function Lf(r,n){const i={},o={};for(const l of r)Object.assign(i,l.property),Object.assign(o,l.normal);return new Da(i,o,n)}function Bu(r){return r.toLowerCase()}class dn{constructor(n,i){this.attribute=i,this.property=n}}dn.prototype.attribute="";dn.prototype.booleanish=!1;dn.prototype.boolean=!1;dn.prototype.commaOrSpaceSeparated=!1;dn.prototype.commaSeparated=!1;dn.prototype.defined=!1;dn.prototype.mustUseProperty=!1;dn.prototype.number=!1;dn.prototype.overloadedBoolean=!1;dn.prototype.property="";dn.prototype.spaceSeparated=!1;dn.prototype.space=void 0;let lx=0;const We=Zr(),wt=Zr(),_u=Zr(),J=Zr(),tt=Zr(),Ti=Zr(),Sn=Zr();function Zr(){return 2**++lx}const Au=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:wt,commaOrSpaceSeparated:Sn,commaSeparated:Ti,number:J,overloadedBoolean:_u,spaceSeparated:tt},Symbol.toStringTag,{value:"Module"})),uu=Object.keys(Au);class nc extends dn{constructor(n,i,o,l){let s=-1;if(super(n,i),Op(this,"space",l),typeof o=="number")for(;++s<uu.length;){const c=uu[s];Op(this,uu[s],(o&Au[c])===Au[c])}}}nc.prototype.defined=!0;function Op(r,n,i){i&&(r[n]=i)}function Oi(r){const n={},i={};for(const[o,l]of Object.entries(r.properties)){const s=new nc(o,r.transform(r.attributes||{},o),l,r.space);r.mustUseProperty&&r.mustUseProperty.includes(o)&&(s.mustUseProperty=!0),n[o]=s,i[Bu(o)]=o,i[Bu(s.attribute)]=o}return new Da(n,i,r.space)}const Rf=Oi({properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:tt,ariaCurrent:null,ariaDescribedBy:tt,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:tt,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:tt,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tt,ariaLevel:J,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:tt,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:tt,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:wt,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null},transform(r,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function jf(r,n){return n in r?r[n]:n}function Wf(r,n){return jf(r,n.toLowerCase())}const sx=Oi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ti,acceptCharset:tt,accessKey:tt,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:tt,autoFocus:We,autoPlay:We,blocking:tt,capture:null,charSet:null,checked:We,cite:null,className:tt,cols:J,colSpan:null,content:null,contentEditable:wt,controls:We,controlsList:tt,coords:J|Ti,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:_u,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:tt,height:J,hidden:_u,high:J,href:null,hrefLang:null,htmlFor:tt,httpEquiv:tt,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:tt,itemRef:tt,itemScope:We,itemType:tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:J,pattern:null,ping:tt,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:tt,required:We,reversed:We,rows:J,rowSpan:J,sandbox:tt,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:wt,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tt,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:J,security:null,unselectable:null},space:"html",transform:Wf}),ux=Oi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Sn,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ti,g2:Ti,glyphName:Ti,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:Sn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sn,rev:Sn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sn,requiredFeatures:Sn,requiredFonts:Sn,requiredFormats:Sn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:Sn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sn,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jf}),zf=Oi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(r,n){return"xlink:"+n.slice(5).toLowerCase()}}),Ff=Oi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Wf}),Kf=Oi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(r,n){return"xml:"+n.slice(3).toLowerCase()}}),cx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hx=/[A-Z]/g,Dp=/-[a-z]/g,dx=/^data[-\w.:]+$/i;function px(r,n){const i=Bu(n);let o=n,l=dn;if(i in r.normal)return r.property[r.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&dx.test(n)){if(n.charAt(4)==="-"){const s=n.slice(5).replace(Dp,gx);o="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=n.slice(4);if(!Dp.test(s)){let c=s.replace(hx,fx);c.charAt(0)!=="-"&&(c="-"+c),n="data"+c}}l=nc}return new l(o,n)}function fx(r){return"-"+r.toLowerCase()}function gx(r){return r.charAt(1).toUpperCase()}const mx=Lf([Rf,sx,zf,Ff,Kf],"html"),rc=Lf([Rf,ux,zf,Ff,Kf],"svg");function yx(r){return r.join(" ").trim()}var Si={},cu,Pp;function vx(){if(Pp)return cu;Pp=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,f=`
`,g="/",m="*",x="",w="comment",v="declaration";function D(O,_){if(typeof O!="string")throw new TypeError("First argument must be a string");if(!O)return[];_=_||{};var Q=1,W=1;function de(ue){var G=ue.match(n);G&&(Q+=G.length);var se=ue.lastIndexOf(f);W=~se?ue.length-se:W+ue.length}function pe(){var ue={line:Q,column:W};return function(G){return G.position=new R(ue),be(),G}}function R(ue){this.start=ue,this.end={line:Q,column:W},this.source=_.source}R.prototype.content=O;function ce(ue){var G=new Error(_.source+":"+Q+":"+W+": "+ue);if(G.reason=ue,G.filename=_.source,G.line=Q,G.column=W,G.source=O,!_.silent)throw G}function ve(ue){var G=ue.exec(O);if(G){var se=G[0];return de(se),O=O.slice(se.length),G}}function be(){ve(i)}function me(ue){var G;for(ue=ue||[];G=oe();)G!==!1&&ue.push(G);return ue}function oe(){var ue=pe();if(!(g!=O.charAt(0)||m!=O.charAt(1))){for(var G=2;x!=O.charAt(G)&&(m!=O.charAt(G)||g!=O.charAt(G+1));)++G;if(G+=2,x===O.charAt(G-1))return ce("End of comment missing");var se=O.slice(2,G-2);return W+=2,de(se),O=O.slice(G),W+=2,ue({type:w,comment:se})}}function le(){var ue=pe(),G=ve(o);if(G){if(oe(),!ve(l))return ce("property missing ':'");var se=ve(s),Ce=ue({type:v,property:N(G[0].replace(r,x)),value:se?N(se[0].replace(r,x)):x});return ve(c),Ce}}function Te(){var ue=[];me(ue);for(var G;G=le();)G!==!1&&(ue.push(G),me(ue));return ue}return be(),Te()}function N(O){return O?O.replace(d,x):x}return cu=D,cu}var Ip;function xx(){if(Ip)return Si;Ip=1;var r=Si&&Si.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Si,"__esModule",{value:!0}),Si.default=i;const n=r(vx());function i(o,l){let s=null;if(!o||typeof o!="string")return s;const c=(0,n.default)(o),d=typeof l=="function";return c.forEach(f=>{if(f.type!=="declaration")return;const{property:g,value:m}=f;d?l(g,m,f):m&&(s=s||{},s[g]=m)}),s}return Si}var ga={},Bp;function kx(){if(Bp)return ga;Bp=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,s=function(g){return!g||i.test(g)||r.test(g)},c=function(g,m){return m.toUpperCase()},d=function(g,m){return"".concat(m,"-")},f=function(g,m){return m===void 0&&(m={}),s(g)?g:(g=g.toLowerCase(),m.reactCompat?g=g.replace(l,d):g=g.replace(o,d),g.replace(n,c))};return ga.camelCase=f,ga}var ma,_p;function wx(){if(_p)return ma;_p=1;var r=ma&&ma.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},n=r(xx()),i=kx();function o(l,s){var c={};return!l||typeof l!="string"||(0,n.default)(l,function(d,f){d&&f&&(c[(0,i.camelCase)(d,s)]=f)}),c}return o.default=o,ma=o,ma}var Sx=wx();const bx=qu(Sx),Yf=qf("end"),ic=qf("start");function qf(r){return n;function n(i){const o=i&&i.position&&i.position[r]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function Cx(r){const n=ic(r),i=Yf(r);if(n&&i)return{start:n,end:i}}function ba(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?Ap(r.position):"start"in r||"end"in r?Ap(r):"line"in r||"column"in r?Mu(r):""}function Mu(r){return Mp(r&&r.line)+":"+Mp(r&&r.column)}function Ap(r){return Mu(r&&r.start)+"-"+Mu(r&&r.end)}function Mp(r){return r&&typeof r=="number"?r:1}class Zt extends Error{constructor(n,i,o){super(),typeof i=="string"&&(o=i,i=void 0);let l="",s={},c=!1;if(i&&("line"in i&&"column"in i?s={place:i}:"start"in i&&"end"in i?s={place:i}:"type"in i?s={ancestors:[i],place:i.position}:s={...i}),typeof n=="string"?l=n:!s.cause&&n&&(c=!0,l=n.message,s.cause=n),!s.ruleId&&!s.source&&typeof o=="string"){const f=o.indexOf(":");f===-1?s.ruleId=o:(s.source=o.slice(0,f),s.ruleId=o.slice(f+1))}if(!s.place&&s.ancestors&&s.ancestors){const f=s.ancestors[s.ancestors.length-1];f&&(s.place=f.position)}const d=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=d?d.line:void 0,this.name=ba(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=c&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zt.prototype.file="";Zt.prototype.name="";Zt.prototype.reason="";Zt.prototype.message="";Zt.prototype.stack="";Zt.prototype.column=void 0;Zt.prototype.line=void 0;Zt.prototype.ancestors=void 0;Zt.prototype.cause=void 0;Zt.prototype.fatal=void 0;Zt.prototype.place=void 0;Zt.prototype.ruleId=void 0;Zt.prototype.source=void 0;const ac={}.hasOwnProperty,Tx=new Map,Ex=/[A-Z]/g,Nx=new Set(["table","tbody","thead","tfoot","tr"]),Ox=new Set(["td","th"]),Uf="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dx(r,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=n.filePath||void 0;let o;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=Rx(i,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=Lx(i,n.jsx,n.jsxs)}const l={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:o,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?rc:mx,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},s=Qf(l,r,void 0);return s&&typeof s!="string"?s:l.create(r,l.Fragment,{children:s||void 0},void 0)}function Qf(r,n,i){if(n.type==="element")return Px(r,n,i);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return Ix(r,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return _x(r,n,i);if(n.type==="mdxjsEsm")return Bx(r,n);if(n.type==="root")return Ax(r,n,i);if(n.type==="text")return Mx(r,n)}function Px(r,n,i){const o=r.schema;let l=o;n.tagName.toLowerCase()==="svg"&&o.space==="html"&&(l=rc,r.schema=l),r.ancestors.push(n);const s=Vf(r,n.tagName,!1),c=jx(r,n);let d=lc(r,n);return Nx.has(n.tagName)&&(d=d.filter(function(f){return typeof f=="string"?!ox(f):!0})),$f(r,c,s,n),oc(c,d),r.ancestors.pop(),r.schema=o,r.create(n,s,c,i)}function Ix(r,n){if(n.data&&n.data.estree&&r.evaluater){const o=n.data.estree.body[0];return o.type,r.evaluater.evaluateExpression(o.expression)}Oa(r,n.position)}function Bx(r,n){if(n.data&&n.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(n.data.estree);Oa(r,n.position)}function _x(r,n,i){const o=r.schema;let l=o;n.name==="svg"&&o.space==="html"&&(l=rc,r.schema=l),r.ancestors.push(n);const s=n.name===null?r.Fragment:Vf(r,n.name,!0),c=Wx(r,n),d=lc(r,n);return $f(r,c,s,n),oc(c,d),r.ancestors.pop(),r.schema=o,r.create(n,s,c,i)}function Ax(r,n,i){const o={};return oc(o,lc(r,n)),r.create(n,r.Fragment,o,i)}function Mx(r,n){return n.value}function $f(r,n,i,o){typeof i!="string"&&i!==r.Fragment&&r.passNode&&(n.node=o)}function oc(r,n){if(n.length>0){const i=n.length>1?n:n[0];i&&(r.children=i)}}function Lx(r,n,i){return o;function o(l,s,c,d){const g=Array.isArray(c.children)?i:n;return d?g(s,c,d):g(s,c)}}function Rx(r,n){return i;function i(o,l,s,c){const d=Array.isArray(s.children),f=ic(o);return n(l,s,c,d,{columnNumber:f?f.column-1:void 0,fileName:r,lineNumber:f?f.line:void 0},void 0)}}function jx(r,n){const i={};let o,l;for(l in n.properties)if(l!=="children"&&ac.call(n.properties,l)){const s=zx(r,l,n.properties[l]);if(s){const[c,d]=s;r.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&Ox.has(n.tagName)?o=d:i[c]=d}}if(o){const s=i.style||(i.style={});s[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return i}function Wx(r,n){const i={};for(const o of n.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&r.evaluater){const s=o.data.estree.body[0];s.type;const c=s.expression;c.type;const d=c.properties[0];d.type,Object.assign(i,r.evaluater.evaluateExpression(d.argument))}else Oa(r,n.position);else{const l=o.name;let s;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&r.evaluater){const d=o.value.data.estree.body[0];d.type,s=r.evaluater.evaluateExpression(d.expression)}else Oa(r,n.position);else s=o.value===null?!0:o.value;i[l]=s}return i}function lc(r,n){const i=[];let o=-1;const l=r.passKeys?new Map:Tx;for(;++o<n.children.length;){const s=n.children[o];let c;if(r.passKeys){const f=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(f){const g=l.get(f)||0;c=f+"-"+g,l.set(f,g+1)}}const d=Qf(r,s,c);d!==void 0&&i.push(d)}return i}function zx(r,n,i){const o=px(r.schema,n);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=o.commaSeparated?tx(i):yx(i)),o.property==="style"){let l=typeof i=="object"?i:Fx(r,String(i));return r.stylePropertyNameCase==="css"&&(l=Kx(l)),["style",l]}return[r.elementAttributeNameCase==="react"&&o.space?cx[o.property]||o.property:o.attribute,i]}}function Fx(r,n){try{return bx(n,{reactCompat:!0})}catch(i){if(r.ignoreInvalidStyle)return{};const o=i,l=new Zt("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=r.filePath||void 0,l.url=Uf+"#cannot-parse-style-attribute",l}}function Vf(r,n,i){let o;if(!i)o={type:"Literal",value:n};else if(n.includes(".")){const l=n.split(".");let s=-1,c;for(;++s<l.length;){const d=Ep(l[s])?{type:"Identifier",name:l[s]}:{type:"Literal",value:l[s]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(s&&d.type==="Literal"),optional:!1}:d}o=c}else o=Ep(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(o.type==="Literal"){const l=o.value;return ac.call(r.components,l)?r.components[l]:l}if(r.evaluater)return r.evaluater.evaluateExpression(o);Oa(r)}function Oa(r,n){const i=new Zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=r.filePath||void 0,i.url=Uf+"#cannot-handle-mdx-estrees-without-createevaluater",i}function Kx(r){const n={};let i;for(i in r)ac.call(r,i)&&(n[Yx(i)]=r[i]);return n}function Yx(r){let n=r.replace(Ex,qx);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function qx(r){return"-"+r.toLowerCase()}const hu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ux={};function Qx(r,n){const i=Ux,o=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,l=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return Gf(r,o,l)}function Gf(r,n,i){if($x(r)){if("value"in r)return r.type==="html"&&!i?"":r.value;if(n&&"alt"in r&&r.alt)return r.alt;if("children"in r)return Lp(r.children,n,i)}return Array.isArray(r)?Lp(r,n,i):""}function Lp(r,n,i){const o=[];let l=-1;for(;++l<r.length;)o[l]=Gf(r[l],n,i);return o.join("")}function $x(r){return!!(r&&typeof r=="object")}const Rp=document.createElement("i");function sc(r){const n="&"+r+";";Rp.innerHTML=n;const i=Rp.textContent;return i.charCodeAt(i.length-1)===59&&r!=="semi"||i===n?!1:i}function Hn(r,n,i,o){const l=r.length;let s=0,c;if(n<0?n=-n>l?0:l+n:n=n>l?l:n,i=i>0?i:0,o.length<1e4)c=Array.from(o),c.unshift(n,i),r.splice(...c);else for(i&&r.splice(n,i);s<o.length;)c=o.slice(s,s+1e4),c.unshift(n,0),r.splice(...c),s+=1e4,n+=1e4}function An(r,n){return r.length>0?(Hn(r,r.length,0,n),r):n}const jp={}.hasOwnProperty;function Vx(r){const n={};let i=-1;for(;++i<r.length;)Gx(n,r[i]);return n}function Gx(r,n){let i;for(i in n){const l=(jp.call(r,i)?r[i]:void 0)||(r[i]={}),s=n[i];let c;if(s)for(c in s){jp.call(l,c)||(l[c]=[]);const d=s[c];Hx(l[c],Array.isArray(d)?d:d?[d]:[])}}}function Hx(r,n){let i=-1;const o=[];for(;++i<n.length;)(n[i].add==="after"?r:o).push(n[i]);Hn(r,0,0,o)}function Hf(r,n){const i=Number.parseInt(r,n);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Ei(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gn=Ar(/[A-Za-z]/),bn=Ar(/[\dA-Za-z]/),Xx=Ar(/[#-'*+\--9=?A-Z^-~]/);function Lu(r){return r!==null&&(r<32||r===127)}const Ru=Ar(/\d/),Zx=Ar(/[\dA-Fa-f]/),Jx=Ar(/[!-/:-@[-`{-~]/);function Me(r){return r!==null&&r<-2}function hn(r){return r!==null&&(r<0||r===32)}function Ve(r){return r===-2||r===-1||r===32}const e1=Ar(new RegExp("\\p{P}|\\p{S}","u")),t1=Ar(/\s/);function Ar(r){return n;function n(i){return i!==null&&i>-1&&r.test(String.fromCharCode(i))}}function Di(r){const n=[];let i=-1,o=0,l=0;for(;++i<r.length;){const s=r.charCodeAt(i);let c="";if(s===37&&bn(r.charCodeAt(i+1))&&bn(r.charCodeAt(i+2)))l=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(c=String.fromCharCode(s));else if(s>55295&&s<57344){const d=r.charCodeAt(i+1);s<56320&&d>56319&&d<57344?(c=String.fromCharCode(s,d),l=1):c=""}else c=String.fromCharCode(s);c&&(n.push(r.slice(o,i),encodeURIComponent(c)),o=i+l+1,c=""),l&&(i+=l,l=0)}return n.join("")+r.slice(o)}function nt(r,n,i,o){const l=o?o-1:Number.POSITIVE_INFINITY;let s=0;return c;function c(f){return Ve(f)?(r.enter(i),d(f)):n(f)}function d(f){return Ve(f)&&s++<l?(r.consume(f),d):(r.exit(i),n(f))}}const n1={tokenize:r1};function r1(r){const n=r.attempt(this.parser.constructs.contentInitial,o,l);let i;return n;function o(d){if(d===null){r.consume(d);return}return r.enter("lineEnding"),r.consume(d),r.exit("lineEnding"),nt(r,n,"linePrefix")}function l(d){return r.enter("paragraph"),s(d)}function s(d){const f=r.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=f),i=f,c(d)}function c(d){if(d===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(d);return}return Me(d)?(r.consume(d),r.exit("chunkText"),s):(r.consume(d),c)}}const i1={tokenize:a1},Wp={tokenize:o1};function a1(r){const n=this,i=[];let o=0,l,s,c;return d;function d(W){if(o<i.length){const de=i[o];return n.containerState=de[1],r.attempt(de[0].continuation,f,g)(W)}return g(W)}function f(W){if(o++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,l&&Q();const de=n.events.length;let pe=de,R;for(;pe--;)if(n.events[pe][0]==="exit"&&n.events[pe][1].type==="chunkFlow"){R=n.events[pe][1].end;break}_(o);let ce=de;for(;ce<n.events.length;)n.events[ce][1].end={...R},ce++;return Hn(n.events,pe+1,0,n.events.slice(de)),n.events.length=ce,g(W)}return d(W)}function g(W){if(o===i.length){if(!l)return w(W);if(l.currentConstruct&&l.currentConstruct.concrete)return D(W);n.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return n.containerState={},r.check(Wp,m,x)(W)}function m(W){return l&&Q(),_(o),w(W)}function x(W){return n.parser.lazy[n.now().line]=o!==i.length,c=n.now().offset,D(W)}function w(W){return n.containerState={},r.attempt(Wp,v,D)(W)}function v(W){return o++,i.push([n.currentConstruct,n.containerState]),w(W)}function D(W){if(W===null){l&&Q(),_(0),r.consume(W);return}return l=l||n.parser.flow(n.now()),r.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:s}),N(W)}function N(W){if(W===null){O(r.exit("chunkFlow"),!0),_(0),r.consume(W);return}return Me(W)?(r.consume(W),O(r.exit("chunkFlow")),o=0,n.interrupt=void 0,d):(r.consume(W),N)}function O(W,de){const pe=n.sliceStream(W);if(de&&pe.push(null),W.previous=s,s&&(s.next=W),s=W,l.defineSkip(W.start),l.write(pe),n.parser.lazy[W.start.line]){let R=l.events.length;for(;R--;)if(l.events[R][1].start.offset<c&&(!l.events[R][1].end||l.events[R][1].end.offset>c))return;const ce=n.events.length;let ve=ce,be,me;for(;ve--;)if(n.events[ve][0]==="exit"&&n.events[ve][1].type==="chunkFlow"){if(be){me=n.events[ve][1].end;break}be=!0}for(_(o),R=ce;R<n.events.length;)n.events[R][1].end={...me},R++;Hn(n.events,ve+1,0,n.events.slice(ce)),n.events.length=R}}function _(W){let de=i.length;for(;de-- >W;){const pe=i[de];n.containerState=pe[1],pe[0].exit.call(n,r)}i.length=W}function Q(){l.write([null]),s=void 0,l=void 0,n.containerState._closeFlow=void 0}}function o1(r,n,i){return nt(r,r.attempt(this.parser.constructs.document,n,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zp(r){if(r===null||hn(r)||t1(r))return 1;if(e1(r))return 2}function uc(r,n,i){const o=[];let l=-1;for(;++l<r.length;){const s=r[l].resolveAll;s&&!o.includes(s)&&(n=s(n,i),o.push(s))}return n}const ju={name:"attention",resolveAll:l1,tokenize:s1};function l1(r,n){let i=-1,o,l,s,c,d,f,g,m;for(;++i<r.length;)if(r[i][0]==="enter"&&r[i][1].type==="attentionSequence"&&r[i][1]._close){for(o=i;o--;)if(r[o][0]==="exit"&&r[o][1].type==="attentionSequence"&&r[o][1]._open&&n.sliceSerialize(r[o][1]).charCodeAt(0)===n.sliceSerialize(r[i][1]).charCodeAt(0)){if((r[o][1]._close||r[i][1]._open)&&(r[i][1].end.offset-r[i][1].start.offset)%3&&!((r[o][1].end.offset-r[o][1].start.offset+r[i][1].end.offset-r[i][1].start.offset)%3))continue;f=r[o][1].end.offset-r[o][1].start.offset>1&&r[i][1].end.offset-r[i][1].start.offset>1?2:1;const x={...r[o][1].end},w={...r[i][1].start};Fp(x,-f),Fp(w,f),c={type:f>1?"strongSequence":"emphasisSequence",start:x,end:{...r[o][1].end}},d={type:f>1?"strongSequence":"emphasisSequence",start:{...r[i][1].start},end:w},s={type:f>1?"strongText":"emphasisText",start:{...r[o][1].end},end:{...r[i][1].start}},l={type:f>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},r[o][1].end={...c.start},r[i][1].start={...d.end},g=[],r[o][1].end.offset-r[o][1].start.offset&&(g=An(g,[["enter",r[o][1],n],["exit",r[o][1],n]])),g=An(g,[["enter",l,n],["enter",c,n],["exit",c,n],["enter",s,n]]),g=An(g,uc(n.parser.constructs.insideSpan.null,r.slice(o+1,i),n)),g=An(g,[["exit",s,n],["enter",d,n],["exit",d,n],["exit",l,n]]),r[i][1].end.offset-r[i][1].start.offset?(m=2,g=An(g,[["enter",r[i][1],n],["exit",r[i][1],n]])):m=0,Hn(r,o-1,i-o+3,g),i=o+g.length-m-2;break}}for(i=-1;++i<r.length;)r[i][1].type==="attentionSequence"&&(r[i][1].type="data");return r}function s1(r,n){const i=this.parser.constructs.attentionMarkers.null,o=this.previous,l=zp(o);let s;return c;function c(f){return s=f,r.enter("attentionSequence"),d(f)}function d(f){if(f===s)return r.consume(f),d;const g=r.exit("attentionSequence"),m=zp(f),x=!m||m===2&&l||i.includes(f),w=!l||l===2&&m||i.includes(o);return g._open=!!(s===42?x:x&&(l||!w)),g._close=!!(s===42?w:w&&(m||!x)),n(f)}}function Fp(r,n){r.column+=n,r.offset+=n,r._bufferIndex+=n}const u1={name:"autolink",tokenize:c1};function c1(r,n,i){let o=0;return l;function l(v){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),s}function s(v){return Gn(v)?(r.consume(v),c):v===64?i(v):g(v)}function c(v){return v===43||v===45||v===46||bn(v)?(o=1,d(v)):g(v)}function d(v){return v===58?(r.consume(v),o=0,f):(v===43||v===45||v===46||bn(v))&&o++<32?(r.consume(v),d):(o=0,g(v))}function f(v){return v===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.exit("autolink"),n):v===null||v===32||v===60||Lu(v)?i(v):(r.consume(v),f)}function g(v){return v===64?(r.consume(v),m):Xx(v)?(r.consume(v),g):i(v)}function m(v){return bn(v)?x(v):i(v)}function x(v){return v===46?(r.consume(v),o=0,m):v===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.exit("autolink"),n):w(v)}function w(v){if((v===45||bn(v))&&o++<63){const D=v===45?w:x;return r.consume(v),D}return i(v)}}const ol={partial:!0,tokenize:h1};function h1(r,n,i){return o;function o(s){return Ve(s)?nt(r,l,"linePrefix")(s):l(s)}function l(s){return s===null||Me(s)?n(s):i(s)}}const Xf={continuation:{tokenize:p1},exit:f1,name:"blockQuote",tokenize:d1};function d1(r,n,i){const o=this;return l;function l(c){if(c===62){const d=o.containerState;return d.open||(r.enter("blockQuote",{_container:!0}),d.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(c),r.exit("blockQuoteMarker"),s}return i(c)}function s(c){return Ve(c)?(r.enter("blockQuotePrefixWhitespace"),r.consume(c),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),n):(r.exit("blockQuotePrefix"),n(c))}}function p1(r,n,i){const o=this;return l;function l(c){return Ve(c)?nt(r,s,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):s(c)}function s(c){return r.attempt(Xf,n,i)(c)}}function f1(r){r.exit("blockQuote")}const Zf={name:"characterEscape",tokenize:g1};function g1(r,n,i){return o;function o(s){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(s),r.exit("escapeMarker"),l}function l(s){return Jx(s)?(r.enter("characterEscapeValue"),r.consume(s),r.exit("characterEscapeValue"),r.exit("characterEscape"),n):i(s)}}const Jf={name:"characterReference",tokenize:m1};function m1(r,n,i){const o=this;let l=0,s,c;return d;function d(x){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(x),r.exit("characterReferenceMarker"),f}function f(x){return x===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(x),r.exit("characterReferenceMarkerNumeric"),g):(r.enter("characterReferenceValue"),s=31,c=bn,m(x))}function g(x){return x===88||x===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(x),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),s=6,c=Zx,m):(r.enter("characterReferenceValue"),s=7,c=Ru,m(x))}function m(x){if(x===59&&l){const w=r.exit("characterReferenceValue");return c===bn&&!sc(o.sliceSerialize(w))?i(x):(r.enter("characterReferenceMarker"),r.consume(x),r.exit("characterReferenceMarker"),r.exit("characterReference"),n)}return c(x)&&l++<s?(r.consume(x),m):i(x)}}const Kp={partial:!0,tokenize:v1},Yp={concrete:!0,name:"codeFenced",tokenize:y1};function y1(r,n,i){const o=this,l={partial:!0,tokenize:pe};let s=0,c=0,d;return f;function f(R){return g(R)}function g(R){const ce=o.events[o.events.length-1];return s=ce&&ce[1].type==="linePrefix"?ce[2].sliceSerialize(ce[1],!0).length:0,d=R,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),m(R)}function m(R){return R===d?(c++,r.consume(R),m):c<3?i(R):(r.exit("codeFencedFenceSequence"),Ve(R)?nt(r,x,"whitespace")(R):x(R))}function x(R){return R===null||Me(R)?(r.exit("codeFencedFence"),o.interrupt?n(R):r.check(Kp,N,de)(R)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),w(R))}function w(R){return R===null||Me(R)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),x(R)):Ve(R)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),nt(r,v,"whitespace")(R)):R===96&&R===d?i(R):(r.consume(R),w)}function v(R){return R===null||Me(R)?x(R):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),D(R))}function D(R){return R===null||Me(R)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),x(R)):R===96&&R===d?i(R):(r.consume(R),D)}function N(R){return r.attempt(l,de,O)(R)}function O(R){return r.enter("lineEnding"),r.consume(R),r.exit("lineEnding"),_}function _(R){return s>0&&Ve(R)?nt(r,Q,"linePrefix",s+1)(R):Q(R)}function Q(R){return R===null||Me(R)?r.check(Kp,N,de)(R):(r.enter("codeFlowValue"),W(R))}function W(R){return R===null||Me(R)?(r.exit("codeFlowValue"),Q(R)):(r.consume(R),W)}function de(R){return r.exit("codeFenced"),n(R)}function pe(R,ce,ve){let be=0;return me;function me(G){return R.enter("lineEnding"),R.consume(G),R.exit("lineEnding"),oe}function oe(G){return R.enter("codeFencedFence"),Ve(G)?nt(R,le,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):le(G)}function le(G){return G===d?(R.enter("codeFencedFenceSequence"),Te(G)):ve(G)}function Te(G){return G===d?(be++,R.consume(G),Te):be>=c?(R.exit("codeFencedFenceSequence"),Ve(G)?nt(R,ue,"whitespace")(G):ue(G)):ve(G)}function ue(G){return G===null||Me(G)?(R.exit("codeFencedFence"),ce(G)):ve(G)}}}function v1(r,n,i){const o=this;return l;function l(c){return c===null?i(c):(r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),s)}function s(c){return o.parser.lazy[o.now().line]?i(c):n(c)}}const du={name:"codeIndented",tokenize:k1},x1={partial:!0,tokenize:w1};function k1(r,n,i){const o=this;return l;function l(g){return r.enter("codeIndented"),nt(r,s,"linePrefix",5)(g)}function s(g){const m=o.events[o.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?c(g):i(g)}function c(g){return g===null?f(g):Me(g)?r.attempt(x1,c,f)(g):(r.enter("codeFlowValue"),d(g))}function d(g){return g===null||Me(g)?(r.exit("codeFlowValue"),c(g)):(r.consume(g),d)}function f(g){return r.exit("codeIndented"),n(g)}}function w1(r,n,i){const o=this;return l;function l(c){return o.parser.lazy[o.now().line]?i(c):Me(c)?(r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),l):nt(r,s,"linePrefix",5)(c)}function s(c){const d=o.events[o.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(c):Me(c)?l(c):i(c)}}const S1={name:"codeText",previous:C1,resolve:b1,tokenize:T1};function b1(r){let n=r.length-4,i=3,o,l;if((r[i][1].type==="lineEnding"||r[i][1].type==="space")&&(r[n][1].type==="lineEnding"||r[n][1].type==="space")){for(o=i;++o<n;)if(r[o][1].type==="codeTextData"){r[i][1].type="codeTextPadding",r[n][1].type="codeTextPadding",i+=2,n-=2;break}}for(o=i-1,n++;++o<=n;)l===void 0?o!==n&&r[o][1].type!=="lineEnding"&&(l=o):(o===n||r[o][1].type==="lineEnding")&&(r[l][1].type="codeTextData",o!==l+2&&(r[l][1].end=r[o-1][1].end,r.splice(l+2,o-l-2),n-=o-l-2,o=l+2),l=void 0);return r}function C1(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function T1(r,n,i){let o=0,l,s;return c;function c(x){return r.enter("codeText"),r.enter("codeTextSequence"),d(x)}function d(x){return x===96?(r.consume(x),o++,d):(r.exit("codeTextSequence"),f(x))}function f(x){return x===null?i(x):x===32?(r.enter("space"),r.consume(x),r.exit("space"),f):x===96?(s=r.enter("codeTextSequence"),l=0,m(x)):Me(x)?(r.enter("lineEnding"),r.consume(x),r.exit("lineEnding"),f):(r.enter("codeTextData"),g(x))}function g(x){return x===null||x===32||x===96||Me(x)?(r.exit("codeTextData"),f(x)):(r.consume(x),g)}function m(x){return x===96?(r.consume(x),l++,m):l===o?(r.exit("codeTextSequence"),r.exit("codeText"),n(x)):(s.type="codeTextData",g(x))}}class E1{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,i){const o=i??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(n,o):n>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(n,i,o){const l=i||0;this.setCursor(Math.trunc(n));const s=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return o&&ya(this.left,o),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),ya(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),ya(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const i=this.left.splice(n,Number.POSITIVE_INFINITY);ya(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);ya(this.left,i.reverse())}}}function ya(r,n){let i=0;if(n.length<1e4)r.push(...n);else for(;i<n.length;)r.push(...n.slice(i,i+1e4)),i+=1e4}function eg(r){const n={};let i=-1,o,l,s,c,d,f,g;const m=new E1(r);for(;++i<m.length;){for(;i in n;)i=n[i];if(o=m.get(i),i&&o[1].type==="chunkFlow"&&m.get(i-1)[1].type==="listItemPrefix"&&(f=o[1]._tokenizer.events,s=0,s<f.length&&f[s][1].type==="lineEndingBlank"&&(s+=2),s<f.length&&f[s][1].type==="content"))for(;++s<f.length&&f[s][1].type!=="content";)f[s][1].type==="chunkText"&&(f[s][1]._isInFirstContentOfListItem=!0,s++);if(o[0]==="enter")o[1].contentType&&(Object.assign(n,N1(m,i)),i=n[i],g=!0);else if(o[1]._container){for(s=i,l=void 0;s--;)if(c=m.get(s),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(m.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=s);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(o[1].end={...m.get(l)[1].start},d=m.slice(l,i),d.unshift(o),m.splice(l,i-l+1,d))}}return Hn(r,0,Number.POSITIVE_INFINITY,m.slice(0)),!g}function N1(r,n){const i=r.get(n)[1],o=r.get(n)[2];let l=n-1;const s=[];let c=i._tokenizer;c||(c=o.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,f=[],g={};let m,x,w=-1,v=i,D=0,N=0;const O=[N];for(;v;){for(;r.get(++l)[1]!==v;);s.push(l),v._tokenizer||(m=o.sliceStream(v),v.next||m.push(null),x&&c.defineSkip(v.start),v._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(m),v._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),x=v,v=v.next}for(v=i;++w<d.length;)d[w][0]==="exit"&&d[w-1][0]==="enter"&&d[w][1].type===d[w-1][1].type&&d[w][1].start.line!==d[w][1].end.line&&(N=w+1,O.push(N),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(c.events=[],v?(v._tokenizer=void 0,v.previous=void 0):O.pop(),w=O.length;w--;){const _=d.slice(O[w],O[w+1]),Q=s.pop();f.push([Q,Q+_.length-1]),r.splice(Q,2,_)}for(f.reverse(),w=-1;++w<f.length;)g[D+f[w][0]]=D+f[w][1],D+=f[w][1]-f[w][0]-1;return g}const O1={resolve:P1,tokenize:I1},D1={partial:!0,tokenize:B1};function P1(r){return eg(r),r}function I1(r,n){let i;return o;function o(d){return r.enter("content"),i=r.enter("chunkContent",{contentType:"content"}),l(d)}function l(d){return d===null?s(d):Me(d)?r.check(D1,c,s)(d):(r.consume(d),l)}function s(d){return r.exit("chunkContent"),r.exit("content"),n(d)}function c(d){return r.consume(d),r.exit("chunkContent"),i.next=r.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}}function B1(r,n,i){const o=this;return l;function l(c){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),nt(r,s,"linePrefix")}function s(c){if(c===null||Me(c))return i(c);const d=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(c):r.interrupt(o.parser.constructs.flow,i,n)(c)}}function tg(r,n,i,o,l,s,c,d,f){const g=f||Number.POSITIVE_INFINITY;let m=0;return x;function x(_){return _===60?(r.enter(o),r.enter(l),r.enter(s),r.consume(_),r.exit(s),w):_===null||_===32||_===41||Lu(_)?i(_):(r.enter(o),r.enter(c),r.enter(d),r.enter("chunkString",{contentType:"string"}),N(_))}function w(_){return _===62?(r.enter(s),r.consume(_),r.exit(s),r.exit(l),r.exit(o),n):(r.enter(d),r.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===62?(r.exit("chunkString"),r.exit(d),w(_)):_===null||_===60||Me(_)?i(_):(r.consume(_),_===92?D:v)}function D(_){return _===60||_===62||_===92?(r.consume(_),v):v(_)}function N(_){return!m&&(_===null||_===41||hn(_))?(r.exit("chunkString"),r.exit(d),r.exit(c),r.exit(o),n(_)):m<g&&_===40?(r.consume(_),m++,N):_===41?(r.consume(_),m--,N):_===null||_===32||_===40||Lu(_)?i(_):(r.consume(_),_===92?O:N)}function O(_){return _===40||_===41||_===92?(r.consume(_),N):N(_)}}function ng(r,n,i,o,l,s){const c=this;let d=0,f;return g;function g(v){return r.enter(o),r.enter(l),r.consume(v),r.exit(l),r.enter(s),m}function m(v){return d>999||v===null||v===91||v===93&&!f||v===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?i(v):v===93?(r.exit(s),r.enter(l),r.consume(v),r.exit(l),r.exit(o),n):Me(v)?(r.enter("lineEnding"),r.consume(v),r.exit("lineEnding"),m):(r.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===null||v===91||v===93||Me(v)||d++>999?(r.exit("chunkString"),m(v)):(r.consume(v),f||(f=!Ve(v)),v===92?w:x)}function w(v){return v===91||v===92||v===93?(r.consume(v),d++,x):x(v)}}function rg(r,n,i,o,l,s){let c;return d;function d(w){return w===34||w===39||w===40?(r.enter(o),r.enter(l),r.consume(w),r.exit(l),c=w===40?41:w,f):i(w)}function f(w){return w===c?(r.enter(l),r.consume(w),r.exit(l),r.exit(o),n):(r.enter(s),g(w))}function g(w){return w===c?(r.exit(s),f(c)):w===null?i(w):Me(w)?(r.enter("lineEnding"),r.consume(w),r.exit("lineEnding"),nt(r,g,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===c||w===null||Me(w)?(r.exit("chunkString"),g(w)):(r.consume(w),w===92?x:m)}function x(w){return w===c||w===92?(r.consume(w),m):m(w)}}function Ca(r,n){let i;return o;function o(l){return Me(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),i=!0,o):Ve(l)?nt(r,o,i?"linePrefix":"lineSuffix")(l):n(l)}}const _1={name:"definition",tokenize:M1},A1={partial:!0,tokenize:L1};function M1(r,n,i){const o=this;let l;return s;function s(v){return r.enter("definition"),c(v)}function c(v){return ng.call(o,r,d,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function d(v){return l=Ei(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),v===58?(r.enter("definitionMarker"),r.consume(v),r.exit("definitionMarker"),f):i(v)}function f(v){return hn(v)?Ca(r,g)(v):g(v)}function g(v){return tg(r,m,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function m(v){return r.attempt(A1,x,x)(v)}function x(v){return Ve(v)?nt(r,w,"whitespace")(v):w(v)}function w(v){return v===null||Me(v)?(r.exit("definition"),o.parser.defined.push(l),n(v)):i(v)}}function L1(r,n,i){return o;function o(d){return hn(d)?Ca(r,l)(d):i(d)}function l(d){return rg(r,s,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function s(d){return Ve(d)?nt(r,c,"whitespace")(d):c(d)}function c(d){return d===null||Me(d)?n(d):i(d)}}const R1={name:"hardBreakEscape",tokenize:j1};function j1(r,n,i){return o;function o(s){return r.enter("hardBreakEscape"),r.consume(s),l}function l(s){return Me(s)?(r.exit("hardBreakEscape"),n(s)):i(s)}}const W1={name:"headingAtx",resolve:z1,tokenize:F1};function z1(r,n){let i=r.length-2,o=3,l,s;return r[o][1].type==="whitespace"&&(o+=2),i-2>o&&r[i][1].type==="whitespace"&&(i-=2),r[i][1].type==="atxHeadingSequence"&&(o===i-1||i-4>o&&r[i-2][1].type==="whitespace")&&(i-=o+1===i?2:4),i>o&&(l={type:"atxHeadingText",start:r[o][1].start,end:r[i][1].end},s={type:"chunkText",start:r[o][1].start,end:r[i][1].end,contentType:"text"},Hn(r,o,i-o+1,[["enter",l,n],["enter",s,n],["exit",s,n],["exit",l,n]])),r}function F1(r,n,i){let o=0;return l;function l(m){return r.enter("atxHeading"),s(m)}function s(m){return r.enter("atxHeadingSequence"),c(m)}function c(m){return m===35&&o++<6?(r.consume(m),c):m===null||hn(m)?(r.exit("atxHeadingSequence"),d(m)):i(m)}function d(m){return m===35?(r.enter("atxHeadingSequence"),f(m)):m===null||Me(m)?(r.exit("atxHeading"),n(m)):Ve(m)?nt(r,d,"whitespace")(m):(r.enter("atxHeadingText"),g(m))}function f(m){return m===35?(r.consume(m),f):(r.exit("atxHeadingSequence"),d(m))}function g(m){return m===null||m===35||hn(m)?(r.exit("atxHeadingText"),d(m)):(r.consume(m),g)}}const K1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qp=["pre","script","style","textarea"],Y1={concrete:!0,name:"htmlFlow",resolveTo:Q1,tokenize:$1},q1={partial:!0,tokenize:G1},U1={partial:!0,tokenize:V1};function Q1(r){let n=r.length;for(;n--&&!(r[n][0]==="enter"&&r[n][1].type==="htmlFlow"););return n>1&&r[n-2][1].type==="linePrefix"&&(r[n][1].start=r[n-2][1].start,r[n+1][1].start=r[n-2][1].start,r.splice(n-2,2)),r}function $1(r,n,i){const o=this;let l,s,c,d,f;return g;function g(C){return m(C)}function m(C){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(C),x}function x(C){return C===33?(r.consume(C),w):C===47?(r.consume(C),s=!0,N):C===63?(r.consume(C),l=3,o.interrupt?n:y):Gn(C)?(r.consume(C),c=String.fromCharCode(C),O):i(C)}function w(C){return C===45?(r.consume(C),l=2,v):C===91?(r.consume(C),l=5,d=0,D):Gn(C)?(r.consume(C),l=4,o.interrupt?n:y):i(C)}function v(C){return C===45?(r.consume(C),o.interrupt?n:y):i(C)}function D(C){const Y="CDATA[";return C===Y.charCodeAt(d++)?(r.consume(C),d===Y.length?o.interrupt?n:le:D):i(C)}function N(C){return Gn(C)?(r.consume(C),c=String.fromCharCode(C),O):i(C)}function O(C){if(C===null||C===47||C===62||hn(C)){const Y=C===47,ee=c.toLowerCase();return!Y&&!s&&qp.includes(ee)?(l=1,o.interrupt?n(C):le(C)):K1.includes(c.toLowerCase())?(l=6,Y?(r.consume(C),_):o.interrupt?n(C):le(C)):(l=7,o.interrupt&&!o.parser.lazy[o.now().line]?i(C):s?Q(C):W(C))}return C===45||bn(C)?(r.consume(C),c+=String.fromCharCode(C),O):i(C)}function _(C){return C===62?(r.consume(C),o.interrupt?n:le):i(C)}function Q(C){return Ve(C)?(r.consume(C),Q):me(C)}function W(C){return C===47?(r.consume(C),me):C===58||C===95||Gn(C)?(r.consume(C),de):Ve(C)?(r.consume(C),W):me(C)}function de(C){return C===45||C===46||C===58||C===95||bn(C)?(r.consume(C),de):pe(C)}function pe(C){return C===61?(r.consume(C),R):Ve(C)?(r.consume(C),pe):W(C)}function R(C){return C===null||C===60||C===61||C===62||C===96?i(C):C===34||C===39?(r.consume(C),f=C,ce):Ve(C)?(r.consume(C),R):ve(C)}function ce(C){return C===f?(r.consume(C),f=null,be):C===null||Me(C)?i(C):(r.consume(C),ce)}function ve(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||hn(C)?pe(C):(r.consume(C),ve)}function be(C){return C===47||C===62||Ve(C)?W(C):i(C)}function me(C){return C===62?(r.consume(C),oe):i(C)}function oe(C){return C===null||Me(C)?le(C):Ve(C)?(r.consume(C),oe):i(C)}function le(C){return C===45&&l===2?(r.consume(C),se):C===60&&l===1?(r.consume(C),Ce):C===62&&l===4?(r.consume(C),S):C===63&&l===3?(r.consume(C),y):C===93&&l===5?(r.consume(C),ge):Me(C)&&(l===6||l===7)?(r.exit("htmlFlowData"),r.check(q1,B,Te)(C)):C===null||Me(C)?(r.exit("htmlFlowData"),Te(C)):(r.consume(C),le)}function Te(C){return r.check(U1,ue,B)(C)}function ue(C){return r.enter("lineEnding"),r.consume(C),r.exit("lineEnding"),G}function G(C){return C===null||Me(C)?Te(C):(r.enter("htmlFlowData"),le(C))}function se(C){return C===45?(r.consume(C),y):le(C)}function Ce(C){return C===47?(r.consume(C),c="",Z):le(C)}function Z(C){if(C===62){const Y=c.toLowerCase();return qp.includes(Y)?(r.consume(C),S):le(C)}return Gn(C)&&c.length<8?(r.consume(C),c+=String.fromCharCode(C),Z):le(C)}function ge(C){return C===93?(r.consume(C),y):le(C)}function y(C){return C===62?(r.consume(C),S):C===45&&l===2?(r.consume(C),y):le(C)}function S(C){return C===null||Me(C)?(r.exit("htmlFlowData"),B(C)):(r.consume(C),S)}function B(C){return r.exit("htmlFlow"),n(C)}}function V1(r,n,i){const o=this;return l;function l(c){return Me(c)?(r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),s):i(c)}function s(c){return o.parser.lazy[o.now().line]?i(c):n(c)}}function G1(r,n,i){return o;function o(l){return r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),r.attempt(ol,n,i)}}const H1={name:"htmlText",tokenize:X1};function X1(r,n,i){const o=this;let l,s,c;return d;function d(y){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(y),f}function f(y){return y===33?(r.consume(y),g):y===47?(r.consume(y),pe):y===63?(r.consume(y),W):Gn(y)?(r.consume(y),ve):i(y)}function g(y){return y===45?(r.consume(y),m):y===91?(r.consume(y),s=0,D):Gn(y)?(r.consume(y),Q):i(y)}function m(y){return y===45?(r.consume(y),v):i(y)}function x(y){return y===null?i(y):y===45?(r.consume(y),w):Me(y)?(c=x,Ce(y)):(r.consume(y),x)}function w(y){return y===45?(r.consume(y),v):x(y)}function v(y){return y===62?se(y):y===45?w(y):x(y)}function D(y){const S="CDATA[";return y===S.charCodeAt(s++)?(r.consume(y),s===S.length?N:D):i(y)}function N(y){return y===null?i(y):y===93?(r.consume(y),O):Me(y)?(c=N,Ce(y)):(r.consume(y),N)}function O(y){return y===93?(r.consume(y),_):N(y)}function _(y){return y===62?se(y):y===93?(r.consume(y),_):N(y)}function Q(y){return y===null||y===62?se(y):Me(y)?(c=Q,Ce(y)):(r.consume(y),Q)}function W(y){return y===null?i(y):y===63?(r.consume(y),de):Me(y)?(c=W,Ce(y)):(r.consume(y),W)}function de(y){return y===62?se(y):W(y)}function pe(y){return Gn(y)?(r.consume(y),R):i(y)}function R(y){return y===45||bn(y)?(r.consume(y),R):ce(y)}function ce(y){return Me(y)?(c=ce,Ce(y)):Ve(y)?(r.consume(y),ce):se(y)}function ve(y){return y===45||bn(y)?(r.consume(y),ve):y===47||y===62||hn(y)?be(y):i(y)}function be(y){return y===47?(r.consume(y),se):y===58||y===95||Gn(y)?(r.consume(y),me):Me(y)?(c=be,Ce(y)):Ve(y)?(r.consume(y),be):se(y)}function me(y){return y===45||y===46||y===58||y===95||bn(y)?(r.consume(y),me):oe(y)}function oe(y){return y===61?(r.consume(y),le):Me(y)?(c=oe,Ce(y)):Ve(y)?(r.consume(y),oe):be(y)}function le(y){return y===null||y===60||y===61||y===62||y===96?i(y):y===34||y===39?(r.consume(y),l=y,Te):Me(y)?(c=le,Ce(y)):Ve(y)?(r.consume(y),le):(r.consume(y),ue)}function Te(y){return y===l?(r.consume(y),l=void 0,G):y===null?i(y):Me(y)?(c=Te,Ce(y)):(r.consume(y),Te)}function ue(y){return y===null||y===34||y===39||y===60||y===61||y===96?i(y):y===47||y===62||hn(y)?be(y):(r.consume(y),ue)}function G(y){return y===47||y===62||hn(y)?be(y):i(y)}function se(y){return y===62?(r.consume(y),r.exit("htmlTextData"),r.exit("htmlText"),n):i(y)}function Ce(y){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(y),r.exit("lineEnding"),Z}function Z(y){return Ve(y)?nt(r,ge,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):ge(y)}function ge(y){return r.enter("htmlTextData"),c(y)}}const cc={name:"labelEnd",resolveAll:tk,resolveTo:nk,tokenize:rk},Z1={tokenize:ik},J1={tokenize:ak},ek={tokenize:ok};function tk(r){let n=-1;const i=[];for(;++n<r.length;){const o=r[n][1];if(i.push(r[n]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const l=o.type==="labelImage"?4:2;o.type="data",n+=l}}return r.length!==i.length&&Hn(r,0,r.length,i),r}function nk(r,n){let i=r.length,o=0,l,s,c,d;for(;i--;)if(l=r[i][1],s){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;r[i][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(r[i][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(s=i,l.type!=="labelLink")){o=2;break}}else l.type==="labelEnd"&&(c=i);const f={type:r[s][1].type==="labelLink"?"link":"image",start:{...r[s][1].start},end:{...r[r.length-1][1].end}},g={type:"label",start:{...r[s][1].start},end:{...r[c][1].end}},m={type:"labelText",start:{...r[s+o+2][1].end},end:{...r[c-2][1].start}};return d=[["enter",f,n],["enter",g,n]],d=An(d,r.slice(s+1,s+o+3)),d=An(d,[["enter",m,n]]),d=An(d,uc(n.parser.constructs.insideSpan.null,r.slice(s+o+4,c-3),n)),d=An(d,[["exit",m,n],r[c-2],r[c-1],["exit",g,n]]),d=An(d,r.slice(c+1)),d=An(d,[["exit",f,n]]),Hn(r,s,r.length,d),r}function rk(r,n,i){const o=this;let l=o.events.length,s,c;for(;l--;)if((o.events[l][1].type==="labelImage"||o.events[l][1].type==="labelLink")&&!o.events[l][1]._balanced){s=o.events[l][1];break}return d;function d(w){return s?s._inactive?x(w):(c=o.parser.defined.includes(Ei(o.sliceSerialize({start:s.end,end:o.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(w),r.exit("labelMarker"),r.exit("labelEnd"),f):i(w)}function f(w){return w===40?r.attempt(Z1,m,c?m:x)(w):w===91?r.attempt(J1,m,c?g:x)(w):c?m(w):x(w)}function g(w){return r.attempt(ek,m,x)(w)}function m(w){return n(w)}function x(w){return s._balanced=!0,i(w)}}function ik(r,n,i){return o;function o(x){return r.enter("resource"),r.enter("resourceMarker"),r.consume(x),r.exit("resourceMarker"),l}function l(x){return hn(x)?Ca(r,s)(x):s(x)}function s(x){return x===41?m(x):tg(r,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function c(x){return hn(x)?Ca(r,f)(x):m(x)}function d(x){return i(x)}function f(x){return x===34||x===39||x===40?rg(r,g,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):m(x)}function g(x){return hn(x)?Ca(r,m)(x):m(x)}function m(x){return x===41?(r.enter("resourceMarker"),r.consume(x),r.exit("resourceMarker"),r.exit("resource"),n):i(x)}}function ak(r,n,i){const o=this;return l;function l(d){return ng.call(o,r,s,c,"reference","referenceMarker","referenceString")(d)}function s(d){return o.parser.defined.includes(Ei(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?n(d):i(d)}function c(d){return i(d)}}function ok(r,n,i){return o;function o(s){return r.enter("reference"),r.enter("referenceMarker"),r.consume(s),r.exit("referenceMarker"),l}function l(s){return s===93?(r.enter("referenceMarker"),r.consume(s),r.exit("referenceMarker"),r.exit("reference"),n):i(s)}}const lk={name:"labelStartImage",resolveAll:cc.resolveAll,tokenize:sk};function sk(r,n,i){const o=this;return l;function l(d){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(d),r.exit("labelImageMarker"),s}function s(d){return d===91?(r.enter("labelMarker"),r.consume(d),r.exit("labelMarker"),r.exit("labelImage"),c):i(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(d):n(d)}}const uk={name:"labelStartLink",resolveAll:cc.resolveAll,tokenize:ck};function ck(r,n,i){const o=this;return l;function l(c){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(c),r.exit("labelMarker"),r.exit("labelLink"),s}function s(c){return c===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(c):n(c)}}const pu={name:"lineEnding",tokenize:hk};function hk(r,n){return i;function i(o){return r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),nt(r,n,"linePrefix")}}const Jo={name:"thematicBreak",tokenize:dk};function dk(r,n,i){let o=0,l;return s;function s(g){return r.enter("thematicBreak"),c(g)}function c(g){return l=g,d(g)}function d(g){return g===l?(r.enter("thematicBreakSequence"),f(g)):o>=3&&(g===null||Me(g))?(r.exit("thematicBreak"),n(g)):i(g)}function f(g){return g===l?(r.consume(g),o++,f):(r.exit("thematicBreakSequence"),Ve(g)?nt(r,d,"whitespace")(g):d(g))}}const cn={continuation:{tokenize:mk},exit:vk,name:"list",tokenize:gk},pk={partial:!0,tokenize:xk},fk={partial:!0,tokenize:yk};function gk(r,n,i){const o=this,l=o.events[o.events.length-1];let s=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return d;function d(v){const D=o.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!o.containerState.marker||v===o.containerState.marker:Ru(v)){if(o.containerState.type||(o.containerState.type=D,r.enter(D,{_container:!0})),D==="listUnordered")return r.enter("listItemPrefix"),v===42||v===45?r.check(Jo,i,g)(v):g(v);if(!o.interrupt||v===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),f(v)}return i(v)}function f(v){return Ru(v)&&++c<10?(r.consume(v),f):(!o.interrupt||c<2)&&(o.containerState.marker?v===o.containerState.marker:v===41||v===46)?(r.exit("listItemValue"),g(v)):i(v)}function g(v){return r.enter("listItemMarker"),r.consume(v),r.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||v,r.check(ol,o.interrupt?i:m,r.attempt(pk,w,x))}function m(v){return o.containerState.initialBlankLine=!0,s++,w(v)}function x(v){return Ve(v)?(r.enter("listItemPrefixWhitespace"),r.consume(v),r.exit("listItemPrefixWhitespace"),w):i(v)}function w(v){return o.containerState.size=s+o.sliceSerialize(r.exit("listItemPrefix"),!0).length,n(v)}}function mk(r,n,i){const o=this;return o.containerState._closeFlow=void 0,r.check(ol,l,s);function l(d){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,nt(r,n,"listItemIndent",o.containerState.size+1)(d)}function s(d){return o.containerState.furtherBlankLines||!Ve(d)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,c(d)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,r.attempt(fk,n,c)(d))}function c(d){return o.containerState._closeFlow=!0,o.interrupt=void 0,nt(r,r.attempt(cn,n,i),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function yk(r,n,i){const o=this;return nt(r,l,"listItemIndent",o.containerState.size+1);function l(s){const c=o.events[o.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===o.containerState.size?n(s):i(s)}}function vk(r){r.exit(this.containerState.type)}function xk(r,n,i){const o=this;return nt(r,l,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(s){const c=o.events[o.events.length-1];return!Ve(s)&&c&&c[1].type==="listItemPrefixWhitespace"?n(s):i(s)}}const Up={name:"setextUnderline",resolveTo:kk,tokenize:wk};function kk(r,n){let i=r.length,o,l,s;for(;i--;)if(r[i][0]==="enter"){if(r[i][1].type==="content"){o=i;break}r[i][1].type==="paragraph"&&(l=i)}else r[i][1].type==="content"&&r.splice(i,1),!s&&r[i][1].type==="definition"&&(s=i);const c={type:"setextHeading",start:{...r[o][1].start},end:{...r[r.length-1][1].end}};return r[l][1].type="setextHeadingText",s?(r.splice(l,0,["enter",c,n]),r.splice(s+1,0,["exit",r[o][1],n]),r[o][1].end={...r[s][1].end}):r[o][1]=c,r.push(["exit",c,n]),r}function wk(r,n,i){const o=this;let l;return s;function s(g){let m=o.events.length,x;for(;m--;)if(o.events[m][1].type!=="lineEnding"&&o.events[m][1].type!=="linePrefix"&&o.events[m][1].type!=="content"){x=o.events[m][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||x)?(r.enter("setextHeadingLine"),l=g,c(g)):i(g)}function c(g){return r.enter("setextHeadingLineSequence"),d(g)}function d(g){return g===l?(r.consume(g),d):(r.exit("setextHeadingLineSequence"),Ve(g)?nt(r,f,"lineSuffix")(g):f(g))}function f(g){return g===null||Me(g)?(r.exit("setextHeadingLine"),n(g)):i(g)}}const Sk={tokenize:bk};function bk(r){const n=this,i=r.attempt(ol,o,r.attempt(this.parser.constructs.flowInitial,l,nt(r,r.attempt(this.parser.constructs.flow,l,r.attempt(O1,l)),"linePrefix")));return i;function o(s){if(s===null){r.consume(s);return}return r.enter("lineEndingBlank"),r.consume(s),r.exit("lineEndingBlank"),n.currentConstruct=void 0,i}function l(s){if(s===null){r.consume(s);return}return r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),n.currentConstruct=void 0,i}}const Ck={resolveAll:ag()},Tk=ig("string"),Ek=ig("text");function ig(r){return{resolveAll:ag(r==="text"?Nk:void 0),tokenize:n};function n(i){const o=this,l=this.parser.constructs[r],s=i.attempt(l,c,d);return c;function c(m){return g(m)?s(m):d(m)}function d(m){if(m===null){i.consume(m);return}return i.enter("data"),i.consume(m),f}function f(m){return g(m)?(i.exit("data"),s(m)):(i.consume(m),f)}function g(m){if(m===null)return!0;const x=l[m];let w=-1;if(x)for(;++w<x.length;){const v=x[w];if(!v.previous||v.previous.call(o,o.previous))return!0}return!1}}}function ag(r){return n;function n(i,o){let l=-1,s;for(;++l<=i.length;)s===void 0?i[l]&&i[l][1].type==="data"&&(s=l,l++):(!i[l]||i[l][1].type!=="data")&&(l!==s+2&&(i[s][1].end=i[l-1][1].end,i.splice(s+2,l-s-2),l=s+2),s=void 0);return r?r(i,o):i}}function Nk(r,n){let i=0;for(;++i<=r.length;)if((i===r.length||r[i][1].type==="lineEnding")&&r[i-1][1].type==="data"){const o=r[i-1][1],l=n.sliceStream(o);let s=l.length,c=-1,d=0,f;for(;s--;){const g=l[s];if(typeof g=="string"){for(c=g.length;g.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(g===-2)f=!0,d++;else if(g!==-1){s++;break}}if(n._contentTypeTextTrailing&&i===r.length&&(d=0),d){const g={type:i===r.length||f||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?c:o.start._bufferIndex+c,_index:o.start._index+s,line:o.end.line,column:o.end.column-d,offset:o.end.offset-d},end:{...o.end}};o.end={...g.start},o.start.offset===o.end.offset?Object.assign(o,g):(r.splice(i,0,["enter",g,n],["exit",g,n]),i+=2)}i++}return r}const Ok={42:cn,43:cn,45:cn,48:cn,49:cn,50:cn,51:cn,52:cn,53:cn,54:cn,55:cn,56:cn,57:cn,62:Xf},Dk={91:_1},Pk={[-2]:du,[-1]:du,32:du},Ik={35:W1,42:Jo,45:[Up,Jo],60:Y1,61:Up,95:Jo,96:Yp,126:Yp},Bk={38:Jf,92:Zf},_k={[-5]:pu,[-4]:pu,[-3]:pu,33:lk,38:Jf,42:ju,60:[u1,H1],91:uk,92:[R1,Zf],93:cc,95:ju,96:S1},Ak={null:[ju,Ck]},Mk={null:[42,95]},Lk={null:[]},Rk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Mk,contentInitial:Dk,disable:Lk,document:Ok,flow:Ik,flowInitial:Pk,insideSpan:Ak,string:Bk,text:_k},Symbol.toStringTag,{value:"Module"}));function jk(r,n,i){let o={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const l={},s=[];let c=[],d=[];const f={attempt:ce(pe),check:ce(R),consume:Q,enter:W,exit:de,interrupt:ce(R,{interrupt:!0})},g={code:null,containerState:{},defineSkip:N,events:[],now:D,parser:r,previous:null,sliceSerialize:w,sliceStream:v,write:x};let m=n.tokenize.call(g,f);return n.resolveAll&&s.push(n),g;function x(oe){return c=An(c,oe),O(),c[c.length-1]!==null?[]:(ve(n,0),g.events=uc(s,g.events,g),g.events)}function w(oe,le){return zk(v(oe),le)}function v(oe){return Wk(c,oe)}function D(){const{_bufferIndex:oe,_index:le,line:Te,column:ue,offset:G}=o;return{_bufferIndex:oe,_index:le,line:Te,column:ue,offset:G}}function N(oe){l[oe.line]=oe.column,me()}function O(){let oe;for(;o._index<c.length;){const le=c[o._index];if(typeof le=="string")for(oe=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===oe&&o._bufferIndex<le.length;)_(le.charCodeAt(o._bufferIndex));else _(le)}}function _(oe){m=m(oe)}function Q(oe){Me(oe)?(o.line++,o.column=1,o.offset+=oe===-3?2:1,me()):oe!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===c[o._index].length&&(o._bufferIndex=-1,o._index++)),g.previous=oe}function W(oe,le){const Te=le||{};return Te.type=oe,Te.start=D(),g.events.push(["enter",Te,g]),d.push(Te),Te}function de(oe){const le=d.pop();return le.end=D(),g.events.push(["exit",le,g]),le}function pe(oe,le){ve(oe,le.from)}function R(oe,le){le.restore()}function ce(oe,le){return Te;function Te(ue,G,se){let Ce,Z,ge,y;return Array.isArray(ue)?B(ue):"tokenize"in ue?B([ue]):S(ue);function S(X){return ne;function ne(q){const ae=q!==null&&X[q],he=q!==null&&X.null,Ie=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(he)?he:he?[he]:[]];return B(Ie)(q)}}function B(X){return Ce=X,Z=0,X.length===0?se:C(X[Z])}function C(X){return ne;function ne(q){return y=be(),ge=X,X.partial||(g.currentConstruct=X),X.name&&g.parser.constructs.disable.null.includes(X.name)?ee():X.tokenize.call(le?Object.assign(Object.create(g),le):g,f,Y,ee)(q)}}function Y(X){return oe(ge,y),G}function ee(X){return y.restore(),++Z<Ce.length?C(Ce[Z]):se}}}function ve(oe,le){oe.resolveAll&&!s.includes(oe)&&s.push(oe),oe.resolve&&Hn(g.events,le,g.events.length-le,oe.resolve(g.events.slice(le),g)),oe.resolveTo&&(g.events=oe.resolveTo(g.events,g))}function be(){const oe=D(),le=g.previous,Te=g.currentConstruct,ue=g.events.length,G=Array.from(d);return{from:ue,restore:se};function se(){o=oe,g.previous=le,g.currentConstruct=Te,g.events.length=ue,d=G,me()}}function me(){o.line in l&&o.column<2&&(o.column=l[o.line],o.offset+=l[o.line]-1)}}function Wk(r,n){const i=n.start._index,o=n.start._bufferIndex,l=n.end._index,s=n.end._bufferIndex;let c;if(i===l)c=[r[i].slice(o,s)];else{if(c=r.slice(i,l),o>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(o):c.shift()}s>0&&c.push(r[l].slice(0,s))}return c}function zk(r,n){let i=-1;const o=[];let l;for(;++i<r.length;){const s=r[i];let c;if(typeof s=="string")c=s;else switch(s){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=n?" ":"	";break}case-1:{if(!n&&l)continue;c=" ";break}default:c=String.fromCharCode(s)}l=s===-2,o.push(c)}return o.join("")}function Fk(r){const o={constructs:Vx([Rk,...(r||{}).extensions||[]]),content:l(n1),defined:[],document:l(i1),flow:l(Sk),lazy:{},string:l(Tk),text:l(Ek)};return o;function l(s){return c;function c(d){return jk(o,s,d)}}}function Kk(r){for(;!eg(r););return r}const Qp=/[\0\t\n\r]/g;function Yk(){let r=1,n="",i=!0,o;return l;function l(s,c,d){const f=[];let g,m,x,w,v;for(s=n+(typeof s=="string"?s.toString():new TextDecoder(c||void 0).decode(s)),x=0,n="",i&&(s.charCodeAt(0)===65279&&x++,i=void 0);x<s.length;){if(Qp.lastIndex=x,g=Qp.exec(s),w=g&&g.index!==void 0?g.index:s.length,v=s.charCodeAt(w),!g){n=s.slice(x);break}if(v===10&&x===w&&o)f.push(-3),o=void 0;else switch(o&&(f.push(-5),o=void 0),x<w&&(f.push(s.slice(x,w)),r+=w-x),v){case 0:{f.push(65533),r++;break}case 9:{for(m=Math.ceil(r/4)*4,f.push(-2);r++<m;)f.push(-1);break}case 10:{f.push(-4),r=1;break}default:o=!0,r=1}x=w+1}return d&&(o&&f.push(-5),n&&f.push(n),f.push(null)),f}}const qk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Uk(r){return r.replace(qk,Qk)}function Qk(r,n,i){if(n)return n;if(i.charCodeAt(0)===35){const l=i.charCodeAt(1),s=l===120||l===88;return Hf(i.slice(s?2:1),s?16:10)}return sc(i)||r}const og={}.hasOwnProperty;function $k(r,n,i){return typeof n!="string"&&(i=n,n=void 0),Vk(i)(Kk(Fk(i).document().write(Yk()(r,n,!0))))}function Vk(r){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(vt),autolinkProtocol:be,autolinkEmail:be,atxHeading:s(Ze),blockQuote:s(he),characterEscape:be,characterReference:be,codeFenced:s(Ie),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(Ie,c),codeText:s(Fe,c),codeTextData:be,data:be,codeFlowValue:be,definition:s(Ue),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(Re),hardBreakEscape:s(gt),hardBreakTrailing:s(gt),htmlFlow:s(ut,c),htmlFlowData:be,htmlText:s(ut,c),htmlTextData:be,image:s(St),label:c,link:s(vt),listItem:s(Ut),listItemValue:w,listOrdered:s(at,x),listUnordered:s(at),paragraph:s(Nt),reference:C,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(Ze),strong:s(pn),thematicBreak:s(Fn)},exit:{atxHeading:f(),atxHeadingSequence:pe,autolink:f(),autolinkEmail:ae,autolinkProtocol:q,blockQuote:f(),characterEscapeValue:me,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:X,characterReference:ne,codeFenced:f(O),codeFencedFence:N,codeFencedFenceInfo:v,codeFencedFenceMeta:D,codeFlowValue:me,codeIndented:f(_),codeText:f(G),codeTextData:me,data:me,definition:f(),definitionDestinationString:de,definitionLabelString:Q,definitionTitleString:W,emphasis:f(),hardBreakEscape:f(le),hardBreakTrailing:f(le),htmlFlow:f(Te),htmlFlowData:me,htmlText:f(ue),htmlTextData:me,image:f(Ce),label:ge,labelText:Z,lineEnding:oe,link:f(se),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Y,resourceDestinationString:y,resourceTitleString:S,resource:B,setextHeading:f(ve),setextHeadingLineSequence:ce,setextHeadingText:R,strong:f(),thematicBreak:f()}};lg(n,(r||{}).mdastExtensions||[]);const i={};return o;function o(K){let te={type:"root",children:[]};const Ee={stack:[te],tokenStack:[],config:n,enter:d,exit:g,buffer:c,resume:m,data:i},_e=[];let ze=-1;for(;++ze<K.length;)if(K[ze][1].type==="listOrdered"||K[ze][1].type==="listUnordered")if(K[ze][0]==="enter")_e.push(ze);else{const Xe=_e.pop();ze=l(K,Xe,ze)}for(ze=-1;++ze<K.length;){const Xe=n[K[ze][0]];og.call(Xe,K[ze][1].type)&&Xe[K[ze][1].type].call(Object.assign({sliceSerialize:K[ze][2].sliceSerialize},Ee),K[ze][1])}if(Ee.tokenStack.length>0){const Xe=Ee.tokenStack[Ee.tokenStack.length-1];(Xe[1]||$p).call(Ee,void 0,Xe[0])}for(te.position={start:Ir(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ir(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<n.transforms.length;)te=n.transforms[ze](te)||te;return te}function l(K,te,Ee){let _e=te-1,ze=-1,Xe=!1,Ot,Dt,Cn,fn;for(;++_e<=Ee;){const mt=K[_e];switch(mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{mt[0]==="enter"?ze++:ze--,fn=void 0;break}case"lineEndingBlank":{mt[0]==="enter"&&(Ot&&!fn&&!ze&&!Cn&&(Cn=_e),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!ze&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||ze===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(Ot){let Jt=_e;for(Dt=void 0;Jt--;){const bt=K[Jt];if(bt[1].type==="lineEnding"||bt[1].type==="lineEndingBlank"){if(bt[0]==="exit")continue;Dt&&(K[Dt][1].type="lineEndingBlank",Xe=!0),bt[1].type="lineEnding",Dt=Jt}else if(!(bt[1].type==="linePrefix"||bt[1].type==="blockQuotePrefix"||bt[1].type==="blockQuotePrefixWhitespace"||bt[1].type==="blockQuoteMarker"||bt[1].type==="listItemIndent"))break}Cn&&(!Dt||Cn<Dt)&&(Ot._spread=!0),Ot.end=Object.assign({},Dt?K[Dt][1].start:mt[1].end),K.splice(Dt||_e,0,["exit",Ot,mt[2]]),_e++,Ee++}if(mt[1].type==="listItemPrefix"){const Jt={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start),end:void 0};Ot=Jt,K.splice(_e,0,["enter",Jt,mt[2]]),_e++,Ee++,Cn=void 0,fn=!0}}}return K[te][1]._spread=Xe,Ee}function s(K,te){return Ee;function Ee(_e){d.call(this,K(_e),_e),te&&te.call(this,_e)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(K,te,Ee){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([te,Ee||void 0]),K.position={start:Ir(te.start),end:void 0}}function f(K){return te;function te(Ee){K&&K.call(this,Ee),g.call(this,Ee)}}function g(K,te){const Ee=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==K.type&&(te?te.call(this,K,_e[0]):(_e[1]||$p).call(this,K,_e[0]));else throw new Error("Cannot close `"+K.type+"` ("+ba({start:K.start,end:K.end})+"): its not open");Ee.position.end=Ir(K.end)}function m(){return Qx(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function w(K){if(this.data.expectingFirstListItemValue){const te=this.stack[this.stack.length-2];te.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function v(){const K=this.resume(),te=this.stack[this.stack.length-1];te.lang=K}function D(){const K=this.resume(),te=this.stack[this.stack.length-1];te.meta=K}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const K=this.resume(),te=this.stack[this.stack.length-1];te.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const K=this.resume(),te=this.stack[this.stack.length-1];te.value=K.replace(/(\r?\n|\r)$/g,"")}function Q(K){const te=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=te,Ee.identifier=Ei(this.sliceSerialize(K)).toLowerCase()}function W(){const K=this.resume(),te=this.stack[this.stack.length-1];te.title=K}function de(){const K=this.resume(),te=this.stack[this.stack.length-1];te.url=K}function pe(K){const te=this.stack[this.stack.length-1];if(!te.depth){const Ee=this.sliceSerialize(K).length;te.depth=Ee}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function ce(K){const te=this.stack[this.stack.length-1];te.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function ve(){this.data.setextHeadingSlurpLineEnding=void 0}function be(K){const Ee=this.stack[this.stack.length-1].children;let _e=Ee[Ee.length-1];(!_e||_e.type!=="text")&&(_e=nn(),_e.position={start:Ir(K.start),end:void 0},Ee.push(_e)),this.stack.push(_e)}function me(K){const te=this.stack.pop();te.value+=this.sliceSerialize(K),te.position.end=Ir(K.end)}function oe(K){const te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ee=te.children[te.children.length-1];Ee.position.end=Ir(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(te.type)&&(be.call(this,K),me.call(this,K))}function le(){this.data.atHardBreak=!0}function Te(){const K=this.resume(),te=this.stack[this.stack.length-1];te.value=K}function ue(){const K=this.resume(),te=this.stack[this.stack.length-1];te.value=K}function G(){const K=this.resume(),te=this.stack[this.stack.length-1];te.value=K}function se(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=te,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Ce(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=te,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Z(K){const te=this.sliceSerialize(K),Ee=this.stack[this.stack.length-2];Ee.label=Uk(te),Ee.identifier=Ei(te).toLowerCase()}function ge(){const K=this.stack[this.stack.length-1],te=this.resume(),Ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ee.type==="link"){const _e=K.children;Ee.children=_e}else Ee.alt=te}function y(){const K=this.resume(),te=this.stack[this.stack.length-1];te.url=K}function S(){const K=this.resume(),te=this.stack[this.stack.length-1];te.title=K}function B(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function Y(K){const te=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=te,Ee.identifier=Ei(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function ee(K){this.data.characterReferenceType=K.type}function X(K){const te=this.sliceSerialize(K),Ee=this.data.characterReferenceType;let _e;Ee?(_e=Hf(te,Ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=sc(te);const ze=this.stack[this.stack.length-1];ze.value+=_e}function ne(K){const te=this.stack.pop();te.position.end=Ir(K.end)}function q(K){me.call(this,K);const te=this.stack[this.stack.length-1];te.url=this.sliceSerialize(K)}function ae(K){me.call(this,K);const te=this.stack[this.stack.length-1];te.url="mailto:"+this.sliceSerialize(K)}function he(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function Fe(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Re(){return{type:"emphasis",children:[]}}function Ze(){return{type:"heading",depth:0,children:[]}}function gt(){return{type:"break"}}function ut(){return{type:"html",value:""}}function St(){return{type:"image",title:null,url:"",alt:null}}function vt(){return{type:"link",title:null,url:"",children:[]}}function at(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function Ut(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Nt(){return{type:"paragraph",children:[]}}function pn(){return{type:"strong",children:[]}}function nn(){return{type:"text",value:""}}function Fn(){return{type:"thematicBreak"}}}function Ir(r){return{line:r.line,column:r.column,offset:r.offset}}function lg(r,n){let i=-1;for(;++i<n.length;){const o=n[i];Array.isArray(o)?lg(r,o):Gk(r,o)}}function Gk(r,n){let i;for(i in n)if(og.call(n,i))switch(i){case"canContainEols":{const o=n[i];o&&r[i].push(...o);break}case"transforms":{const o=n[i];o&&r[i].push(...o);break}case"enter":case"exit":{const o=n[i];o&&Object.assign(r[i],o);break}}}function $p(r,n){throw r?new Error("Cannot close `"+r.type+"` ("+ba({start:r.start,end:r.end})+"): a different token (`"+n.type+"`, "+ba({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+ba({start:n.start,end:n.end})+") is still open")}function Hk(r){const n=this;n.parser=i;function i(o){return $k(o,{...n.data("settings"),...r,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function Xk(r,n){const i={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(n),!0)};return r.patch(n,i),r.applyData(n,i)}function Zk(r,n){const i={type:"element",tagName:"br",properties:{},children:[]};return r.patch(n,i),[r.applyData(n,i),{type:"text",value:`
`}]}function Jk(r,n){const i=n.value?n.value+`
`:"",o={},l=n.lang?n.lang.split(/\s+/):[];l.length>0&&(o.className=["language-"+l[0]]);let s={type:"element",tagName:"code",properties:o,children:[{type:"text",value:i}]};return n.meta&&(s.data={meta:n.meta}),r.patch(n,s),s=r.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},r.patch(n,s),s}function ew(r,n){const i={type:"element",tagName:"del",properties:{},children:r.all(n)};return r.patch(n,i),r.applyData(n,i)}function tw(r,n){const i={type:"element",tagName:"em",properties:{},children:r.all(n)};return r.patch(n,i),r.applyData(n,i)}function nw(r,n){const i=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",o=String(n.identifier).toUpperCase(),l=Di(o.toLowerCase()),s=r.footnoteOrder.indexOf(o);let c,d=r.footnoteCounts.get(o);d===void 0?(d=0,r.footnoteOrder.push(o),c=r.footnoteOrder.length):c=s+1,d+=1,r.footnoteCounts.set(o,d);const f={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};r.patch(n,f);const g={type:"element",tagName:"sup",properties:{},children:[f]};return r.patch(n,g),r.applyData(n,g)}function rw(r,n){const i={type:"element",tagName:"h"+n.depth,properties:{},children:r.all(n)};return r.patch(n,i),r.applyData(n,i)}function iw(r,n){if(r.options.allowDangerousHtml){const i={type:"raw",value:n.value};return r.patch(n,i),r.applyData(n,i)}}function sg(r,n){const i=n.referenceType;let o="]";if(i==="collapsed"?o+="[]":i==="full"&&(o+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+o}];const l=r.all(n),s=l[0];s&&s.type==="text"?s.value="["+s.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=o:l.push({type:"text",value:o}),l}function aw(r,n){const i=String(n.identifier).toUpperCase(),o=r.definitionById.get(i);if(!o)return sg(r,n);const l={src:Di(o.url||""),alt:n.alt};o.title!==null&&o.title!==void 0&&(l.title=o.title);const s={type:"element",tagName:"img",properties:l,children:[]};return r.patch(n,s),r.applyData(n,s)}function ow(r,n){const i={src:Di(n.url)};n.alt!==null&&n.alt!==void 0&&(i.alt=n.alt),n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"img",properties:i,children:[]};return r.patch(n,o),r.applyData(n,o)}function lw(r,n){const i={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};r.patch(n,i);const o={type:"element",tagName:"code",properties:{},children:[i]};return r.patch(n,o),r.applyData(n,o)}function sw(r,n){const i=String(n.identifier).toUpperCase(),o=r.definitionById.get(i);if(!o)return sg(r,n);const l={href:Di(o.url||"")};o.title!==null&&o.title!==void 0&&(l.title=o.title);const s={type:"element",tagName:"a",properties:l,children:r.all(n)};return r.patch(n,s),r.applyData(n,s)}function uw(r,n){const i={href:Di(n.url)};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"a",properties:i,children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}function cw(r,n,i){const o=r.all(n),l=i?hw(i):ug(n),s={},c=[];if(typeof n.checked=="boolean"){const m=o[0];let x;m&&m.type==="element"&&m.tagName==="p"?x=m:(x={type:"element",tagName:"p",properties:{},children:[]},o.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let d=-1;for(;++d<o.length;){const m=o[d];(l||d!==0||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!l?c.push(...m.children):c.push(m)}const f=o[o.length-1];f&&(l||f.type!=="element"||f.tagName!=="p")&&c.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:s,children:c};return r.patch(n,g),r.applyData(n,g)}function hw(r){let n=!1;if(r.type==="list"){n=r.spread||!1;const i=r.children;let o=-1;for(;!n&&++o<i.length;)n=ug(i[o])}return n}function ug(r){const n=r.spread;return n??r.children.length>1}function dw(r,n){const i={},o=r.all(n);let l=-1;for(typeof n.start=="number"&&n.start!==1&&(i.start=n.start);++l<o.length;){const c=o[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const s={type:"element",tagName:n.ordered?"ol":"ul",properties:i,children:r.wrap(o,!0)};return r.patch(n,s),r.applyData(n,s)}function pw(r,n){const i={type:"element",tagName:"p",properties:{},children:r.all(n)};return r.patch(n,i),r.applyData(n,i)}function fw(r,n){const i={type:"root",children:r.wrap(r.all(n))};return r.patch(n,i),r.applyData(n,i)}function gw(r,n){const i={type:"element",tagName:"strong",properties:{},children:r.all(n)};return r.patch(n,i),r.applyData(n,i)}function mw(r,n){const i=r.all(n),o=i.shift(),l=[];if(o){const c={type:"element",tagName:"thead",properties:{},children:r.wrap([o],!0)};r.patch(n.children[0],c),l.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:r.wrap(i,!0)},d=ic(n.children[1]),f=Yf(n.children[n.children.length-1]);d&&f&&(c.position={start:d,end:f}),l.push(c)}const s={type:"element",tagName:"table",properties:{},children:r.wrap(l,!0)};return r.patch(n,s),r.applyData(n,s)}function yw(r,n,i){const o=i?i.children:void 0,s=(o?o.indexOf(n):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,d=c?c.length:n.children.length;let f=-1;const g=[];for(;++f<d;){const x=n.children[f],w={},v=c?c[f]:void 0;v&&(w.align=v);let D={type:"element",tagName:s,properties:w,children:[]};x&&(D.children=r.all(x),r.patch(x,D),D=r.applyData(x,D)),g.push(D)}const m={type:"element",tagName:"tr",properties:{},children:r.wrap(g,!0)};return r.patch(n,m),r.applyData(n,m)}function vw(r,n){const i={type:"element",tagName:"td",properties:{},children:r.all(n)};return r.patch(n,i),r.applyData(n,i)}const Vp=9,Gp=32;function xw(r){const n=String(r),i=/\r?\n|\r/g;let o=i.exec(n),l=0;const s=[];for(;o;)s.push(Hp(n.slice(l,o.index),l>0,!0),o[0]),l=o.index+o[0].length,o=i.exec(n);return s.push(Hp(n.slice(l),l>0,!1)),s.join("")}function Hp(r,n,i){let o=0,l=r.length;if(n){let s=r.codePointAt(o);for(;s===Vp||s===Gp;)o++,s=r.codePointAt(o)}if(i){let s=r.codePointAt(l-1);for(;s===Vp||s===Gp;)l--,s=r.codePointAt(l-1)}return l>o?r.slice(o,l):""}function kw(r,n){const i={type:"text",value:xw(String(n.value))};return r.patch(n,i),r.applyData(n,i)}function ww(r,n){const i={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(n,i),r.applyData(n,i)}const Sw={blockquote:Xk,break:Zk,code:Jk,delete:ew,emphasis:tw,footnoteReference:nw,heading:rw,html:iw,imageReference:aw,image:ow,inlineCode:lw,linkReference:sw,link:uw,listItem:cw,list:dw,paragraph:pw,root:fw,strong:gw,table:mw,tableCell:vw,tableRow:yw,text:kw,thematicBreak:ww,toml:$o,yaml:$o,definition:$o,footnoteDefinition:$o};function $o(){}const cg=-1,ll=0,Ta=1,tl=2,hc=3,dc=4,pc=5,fc=6,hg=7,dg=8,Xp=typeof self=="object"?self:globalThis,bw=(r,n)=>{const i=(l,s)=>(r.set(s,l),l),o=l=>{if(r.has(l))return r.get(l);const[s,c]=n[l];switch(s){case ll:case cg:return i(c,l);case Ta:{const d=i([],l);for(const f of c)d.push(o(f));return d}case tl:{const d=i({},l);for(const[f,g]of c)d[o(f)]=o(g);return d}case hc:return i(new Date(c),l);case dc:{const{source:d,flags:f}=c;return i(new RegExp(d,f),l)}case pc:{const d=i(new Map,l);for(const[f,g]of c)d.set(o(f),o(g));return d}case fc:{const d=i(new Set,l);for(const f of c)d.add(o(f));return d}case hg:{const{name:d,message:f}=c;return i(new Xp[d](f),l)}case dg:return i(BigInt(c),l);case"BigInt":return i(Object(BigInt(c)),l);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return i(new DataView(d),c)}}return i(new Xp[s](c),l)};return o},Zp=r=>bw(new Map,r)(0),bi="",{toString:Cw}={},{keys:Tw}=Object,va=r=>{const n=typeof r;if(n!=="object"||!r)return[ll,n];const i=Cw.call(r).slice(8,-1);switch(i){case"Array":return[Ta,bi];case"Object":return[tl,bi];case"Date":return[hc,bi];case"RegExp":return[dc,bi];case"Map":return[pc,bi];case"Set":return[fc,bi];case"DataView":return[Ta,i]}return i.includes("Array")?[Ta,i]:i.includes("Error")?[hg,i]:[tl,i]},Vo=([r,n])=>r===ll&&(n==="function"||n==="symbol"),Ew=(r,n,i,o)=>{const l=(c,d)=>{const f=o.push(c)-1;return i.set(d,f),f},s=c=>{if(i.has(c))return i.get(c);let[d,f]=va(c);switch(d){case ll:{let m=c;switch(f){case"bigint":d=dg,m=c.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return l([cg],c)}return l([d,m],c)}case Ta:{if(f){let w=c;return f==="DataView"?w=new Uint8Array(c.buffer):f==="ArrayBuffer"&&(w=new Uint8Array(c)),l([f,[...w]],c)}const m=[],x=l([d,m],c);for(const w of c)m.push(s(w));return x}case tl:{if(f)switch(f){case"BigInt":return l([f,c.toString()],c);case"Boolean":case"Number":case"String":return l([f,c.valueOf()],c)}if(n&&"toJSON"in c)return s(c.toJSON());const m=[],x=l([d,m],c);for(const w of Tw(c))(r||!Vo(va(c[w])))&&m.push([s(w),s(c[w])]);return x}case hc:return l([d,c.toISOString()],c);case dc:{const{source:m,flags:x}=c;return l([d,{source:m,flags:x}],c)}case pc:{const m=[],x=l([d,m],c);for(const[w,v]of c)(r||!(Vo(va(w))||Vo(va(v))))&&m.push([s(w),s(v)]);return x}case fc:{const m=[],x=l([d,m],c);for(const w of c)(r||!Vo(va(w)))&&m.push(s(w));return x}}const{message:g}=c;return l([d,{name:f,message:g}],c)};return s},Jp=(r,{json:n,lossy:i}={})=>{const o=[];return Ew(!(n||i),!!n,new Map,o)(r),o},nl=typeof structuredClone=="function"?(r,n)=>n&&("json"in n||"lossy"in n)?Zp(Jp(r,n)):structuredClone(r):(r,n)=>Zp(Jp(r,n));function Nw(r,n){const i=[{type:"text",value:""}];return n>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),i}function Ow(r,n){return"Back to reference "+(r+1)+(n>1?"-"+n:"")}function Dw(r){const n=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",i=r.options.footnoteBackContent||Nw,o=r.options.footnoteBackLabel||Ow,l=r.options.footnoteLabel||"Footnotes",s=r.options.footnoteLabelTagName||"h2",c=r.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let f=-1;for(;++f<r.footnoteOrder.length;){const g=r.footnoteById.get(r.footnoteOrder[f]);if(!g)continue;const m=r.all(g),x=String(g.identifier).toUpperCase(),w=Di(x.toLowerCase());let v=0;const D=[],N=r.footnoteCounts.get(x);for(;N!==void 0&&++v<=N;){D.length>0&&D.push({type:"text",value:" "});let Q=typeof i=="string"?i:i(f,v);typeof Q=="string"&&(Q={type:"text",value:Q}),D.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+w+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(f,v),className:["data-footnote-backref"]},children:Array.isArray(Q)?Q:[Q]})}const O=m[m.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const Q=O.children[O.children.length-1];Q&&Q.type==="text"?Q.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(...D)}else m.push(...D);const _={type:"element",tagName:"li",properties:{id:n+"fn-"+w},children:r.wrap(m,!0)};r.patch(g,_),d.push(_)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...nl(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(d,!0)},{type:"text",value:`
`}]}}const pg=(function(r){if(r==null)return _w;if(typeof r=="function")return sl(r);if(typeof r=="object")return Array.isArray(r)?Pw(r):Iw(r);if(typeof r=="string")return Bw(r);throw new Error("Expected function, string, or object as test")});function Pw(r){const n=[];let i=-1;for(;++i<r.length;)n[i]=pg(r[i]);return sl(o);function o(...l){let s=-1;for(;++s<n.length;)if(n[s].apply(this,l))return!0;return!1}}function Iw(r){const n=r;return sl(i);function i(o){const l=o;let s;for(s in r)if(l[s]!==n[s])return!1;return!0}}function Bw(r){return sl(n);function n(i){return i&&i.type===r}}function sl(r){return n;function n(i,o,l){return!!(Aw(i)&&r.call(this,i,typeof o=="number"?o:void 0,l||void 0))}}function _w(){return!0}function Aw(r){return r!==null&&typeof r=="object"&&"type"in r}const fg=[],Mw=!0,ef=!1,Lw="skip";function Rw(r,n,i,o){let l;typeof n=="function"&&typeof i!="function"?(o=i,i=n):l=n;const s=pg(l),c=o?-1:1;d(r,void 0,[])();function d(f,g,m){const x=f&&typeof f=="object"?f:{};if(typeof x.type=="string"){const v=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(f.type+(v?"<"+v+">":""))+")"})}return w;function w(){let v=fg,D,N,O;if((!n||s(f,g,m[m.length-1]||void 0))&&(v=jw(i(f,m)),v[0]===ef))return v;if("children"in f&&f.children){const _=f;if(_.children&&v[0]!==Lw)for(N=(o?_.children.length:-1)+c,O=m.concat(_);N>-1&&N<_.children.length;){const Q=_.children[N];if(D=d(Q,N,O)(),D[0]===ef)return D;N=typeof D[1]=="number"?D[1]:N+c}}return v}}}function jw(r){return Array.isArray(r)?r:typeof r=="number"?[Mw,r]:r==null?fg:[r]}function gg(r,n,i,o){let l,s,c;typeof n=="function"&&typeof i!="function"?(s=void 0,c=n,l=i):(s=n,c=i,l=o),Rw(r,s,d,l);function d(f,g){const m=g[g.length-1],x=m?m.children.indexOf(f):void 0;return c(f,x,m)}}const Wu={}.hasOwnProperty,Ww={};function zw(r,n){const i=n||Ww,o=new Map,l=new Map,s=new Map,c={...Sw,...i.handlers},d={all:g,applyData:Kw,definitionById:o,footnoteById:l,footnoteCounts:s,footnoteOrder:[],handlers:c,one:f,options:i,patch:Fw,wrap:qw};return gg(r,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const x=m.type==="definition"?o:l,w=String(m.identifier).toUpperCase();x.has(w)||x.set(w,m)}}),d;function f(m,x){const w=m.type,v=d.handlers[w];if(Wu.call(d.handlers,w)&&v)return v(d,m,x);if(d.options.passThrough&&d.options.passThrough.includes(w)){if("children"in m){const{children:N,...O}=m,_=nl(O);return _.children=d.all(m),_}return nl(m)}return(d.options.unknownHandler||Yw)(d,m,x)}function g(m){const x=[];if("children"in m){const w=m.children;let v=-1;for(;++v<w.length;){const D=d.one(w[v],m);if(D){if(v&&w[v-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=tf(D.value)),!Array.isArray(D)&&D.type==="element")){const N=D.children[0];N&&N.type==="text"&&(N.value=tf(N.value))}Array.isArray(D)?x.push(...D):x.push(D)}}}return x}}function Fw(r,n){r.position&&(n.position=Cx(r))}function Kw(r,n){let i=n;if(r&&r.data){const o=r.data.hName,l=r.data.hChildren,s=r.data.hProperties;if(typeof o=="string")if(i.type==="element")i.tagName=o;else{const c="children"in i?i.children:[i];i={type:"element",tagName:o,properties:{},children:c}}i.type==="element"&&s&&Object.assign(i.properties,nl(s)),"children"in i&&i.children&&l!==null&&l!==void 0&&(i.children=l)}return i}function Yw(r,n){const i=n.data||{},o="value"in n&&!(Wu.call(i,"hProperties")||Wu.call(i,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}function qw(r,n){const i=[];let o=-1;for(n&&i.push({type:"text",value:`
`});++o<r.length;)o&&i.push({type:"text",value:`
`}),i.push(r[o]);return n&&r.length>0&&i.push({type:"text",value:`
`}),i}function tf(r){let n=0,i=r.charCodeAt(n);for(;i===9||i===32;)n++,i=r.charCodeAt(n);return r.slice(n)}function nf(r,n){const i=zw(r,n),o=i.one(r,void 0),l=Dw(i),s=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return l&&s.children.push({type:"text",value:`
`},l),s}function Uw(r,n){return r&&"run"in r?async function(i,o){const l=nf(i,{file:o,...n});await r.run(l,o)}:function(i,o){return nf(i,{file:o,...r||n})}}function rf(r){if(r)throw r}var fu,af;function Qw(){if(af)return fu;af=1;var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(g){return typeof Array.isArray=="function"?Array.isArray(g):n.call(g)==="[object Array]"},s=function(g){if(!g||n.call(g)!=="[object Object]")return!1;var m=r.call(g,"constructor"),x=g.constructor&&g.constructor.prototype&&r.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!m&&!x)return!1;var w;for(w in g);return typeof w>"u"||r.call(g,w)},c=function(g,m){i&&m.name==="__proto__"?i(g,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):g[m.name]=m.newValue},d=function(g,m){if(m==="__proto__")if(r.call(g,m)){if(o)return o(g,m).value}else return;return g[m]};return fu=function f(){var g,m,x,w,v,D,N=arguments[0],O=1,_=arguments.length,Q=!1;for(typeof N=="boolean"&&(Q=N,N=arguments[1]||{},O=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});O<_;++O)if(g=arguments[O],g!=null)for(m in g)x=d(N,m),w=d(g,m),N!==w&&(Q&&w&&(s(w)||(v=l(w)))?(v?(v=!1,D=x&&l(x)?x:[]):D=x&&s(x)?x:{},c(N,{name:m,newValue:f(Q,D,w)})):typeof w<"u"&&c(N,{name:m,newValue:w}));return N},fu}var $w=Qw();const gu=qu($w);function zu(r){if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function Vw(){const r=[],n={run:i,use:o};return n;function i(...l){let s=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...l);function d(f,...g){const m=r[++s];let x=-1;if(f){c(f);return}for(;++x<l.length;)(g[x]===null||g[x]===void 0)&&(g[x]=l[x]);l=g,m?Gw(m,d)(...g):c(null,...g)}}function o(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return r.push(l),n}}function Gw(r,n){let i;return o;function o(...c){const d=r.length>c.length;let f;d&&c.push(l);try{f=r.apply(this,c)}catch(g){const m=g;if(d&&i)throw m;return l(m)}d||(f&&f.then&&typeof f.then=="function"?f.then(s,l):f instanceof Error?l(f):s(f))}function l(c,...d){i||(i=!0,n(c,...d))}function s(c){l(null,c)}}const Vn={basename:Hw,dirname:Xw,extname:Zw,join:Jw,sep:"/"};function Hw(r,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Pa(r);let i=0,o=-1,l=r.length,s;if(n===void 0||n.length===0||n.length>r.length){for(;l--;)if(r.codePointAt(l)===47){if(s){i=l+1;break}}else o<0&&(s=!0,o=l+1);return o<0?"":r.slice(i,o)}if(n===r)return"";let c=-1,d=n.length-1;for(;l--;)if(r.codePointAt(l)===47){if(s){i=l+1;break}}else c<0&&(s=!0,c=l+1),d>-1&&(r.codePointAt(l)===n.codePointAt(d--)?d<0&&(o=l):(d=-1,o=c));return i===o?o=c:o<0&&(o=r.length),r.slice(i,o)}function Xw(r){if(Pa(r),r.length===0)return".";let n=-1,i=r.length,o;for(;--i;)if(r.codePointAt(i)===47){if(o){n=i;break}}else o||(o=!0);return n<0?r.codePointAt(0)===47?"/":".":n===1&&r.codePointAt(0)===47?"//":r.slice(0,n)}function Zw(r){Pa(r);let n=r.length,i=-1,o=0,l=-1,s=0,c;for(;n--;){const d=r.codePointAt(n);if(d===47){if(c){o=n+1;break}continue}i<0&&(c=!0,i=n+1),d===46?l<0?l=n:s!==1&&(s=1):l>-1&&(s=-1)}return l<0||i<0||s===0||s===1&&l===i-1&&l===o+1?"":r.slice(l,i)}function Jw(...r){let n=-1,i;for(;++n<r.length;)Pa(r[n]),r[n]&&(i=i===void 0?r[n]:i+"/"+r[n]);return i===void 0?".":eS(i)}function eS(r){Pa(r);const n=r.codePointAt(0)===47;let i=tS(r,!n);return i.length===0&&!n&&(i="."),i.length>0&&r.codePointAt(r.length-1)===47&&(i+="/"),n?"/"+i:i}function tS(r,n){let i="",o=0,l=-1,s=0,c=-1,d,f;for(;++c<=r.length;){if(c<r.length)d=r.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(l===c-1||s===1))if(l!==c-1&&s===2){if(i.length<2||o!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(f=i.lastIndexOf("/"),f!==i.length-1){f<0?(i="",o=0):(i=i.slice(0,f),o=i.length-1-i.lastIndexOf("/")),l=c,s=0;continue}}else if(i.length>0){i="",o=0,l=c,s=0;continue}}n&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+r.slice(l+1,c):i=r.slice(l+1,c),o=c-l-1;l=c,s=0}else d===46&&s>-1?s++:s=-1}return i}function Pa(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const nS={cwd:rS};function rS(){return"/"}function Fu(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function iS(r){if(typeof r=="string")r=new URL(r);else if(!Fu(r)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(r.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return aS(r)}function aS(r){if(r.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=r.pathname;let i=-1;for(;++i<n.length;)if(n.codePointAt(i)===37&&n.codePointAt(i+1)===50){const o=n.codePointAt(i+2);if(o===70||o===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(n)}const mu=["history","path","basename","stem","extname","dirname"];class mg{constructor(n){let i;n?Fu(n)?i={path:n}:typeof n=="string"||oS(n)?i={value:n}:i=n:i={},this.cwd="cwd"in i?"":nS.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<mu.length;){const s=mu[o];s in i&&i[s]!==void 0&&i[s]!==null&&(this[s]=s==="history"?[...i[s]]:i[s])}let l;for(l in i)mu.includes(l)||(this[l]=i[l])}get basename(){return typeof this.path=="string"?Vn.basename(this.path):void 0}set basename(n){vu(n,"basename"),yu(n,"basename"),this.path=Vn.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?Vn.dirname(this.path):void 0}set dirname(n){of(this.basename,"dirname"),this.path=Vn.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?Vn.extname(this.path):void 0}set extname(n){if(yu(n,"extname"),of(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Vn.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Fu(n)&&(n=iS(n)),vu(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?Vn.basename(this.path,this.extname):void 0}set stem(n){vu(n,"stem"),yu(n,"stem"),this.path=Vn.join(this.dirname||"",n+(this.extname||""))}fail(n,i,o){const l=this.message(n,i,o);throw l.fatal=!0,l}info(n,i,o){const l=this.message(n,i,o);return l.fatal=void 0,l}message(n,i,o){const l=new Zt(n,i,o);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function yu(r,n){if(r&&r.includes(Vn.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+Vn.sep+"`")}function vu(r,n){if(!r)throw new Error("`"+n+"` cannot be empty")}function of(r,n){if(!r)throw new Error("Setting `"+n+"` requires `path` to be set too")}function oS(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const lS=(function(r){const o=this.constructor.prototype,l=o[r],s=function(){return l.apply(s,arguments)};return Object.setPrototypeOf(s,o),s}),sS={}.hasOwnProperty;class gc extends lS{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Vw()}copy(){const n=new gc;let i=-1;for(;++i<this.attachers.length;){const o=this.attachers[i];n.use(...o)}return n.data(gu(!0,{},this.namespace)),n}data(n,i){return typeof n=="string"?arguments.length===2?(wu("data",this.frozen),this.namespace[n]=i,this):sS.call(this.namespace,n)&&this.namespace[n]||void 0:n?(wu("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const l=i.call(n,...o);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const i=Go(n),o=this.parser||this.Parser;return xu("parse",o),o(String(i),i)}process(n,i){const o=this;return this.freeze(),xu("process",this.parser||this.Parser),ku("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(s,c){const d=Go(n),f=o.parse(d);o.run(f,d,function(m,x,w){if(m||!x||!w)return g(m);const v=x,D=o.stringify(v,w);hS(D)?w.value=D:w.result=D,g(m,w)});function g(m,x){m||!x?c(m):s?s(x):i(void 0,x)}}}processSync(n){let i=!1,o;return this.freeze(),xu("processSync",this.parser||this.Parser),ku("processSync",this.compiler||this.Compiler),this.process(n,l),sf("processSync","process",i),o;function l(s,c){i=!0,rf(s),o=c}}run(n,i,o){lf(n),this.freeze();const l=this.transformers;return!o&&typeof i=="function"&&(o=i,i=void 0),o?s(void 0,o):new Promise(s);function s(c,d){const f=Go(i);l.run(n,f,g);function g(m,x,w){const v=x||n;m?d(m):c?c(v):o(void 0,v,w)}}}runSync(n,i){let o=!1,l;return this.run(n,i,s),sf("runSync","run",o),l;function s(c,d){rf(c),l=d,o=!0}}stringify(n,i){this.freeze();const o=Go(i),l=this.compiler||this.Compiler;return ku("stringify",l),lf(n),l(n,o)}use(n,...i){const o=this.attachers,l=this.namespace;if(wu("use",this.frozen),n!=null)if(typeof n=="function")f(n,i);else if(typeof n=="object")Array.isArray(n)?d(n):c(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function s(g){if(typeof g=="function")f(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[m,...x]=g;f(m,x)}else c(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function c(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(g.plugins),g.settings&&(l.settings=gu(!0,l.settings,g.settings))}function d(g){let m=-1;if(g!=null)if(Array.isArray(g))for(;++m<g.length;){const x=g[m];s(x)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function f(g,m){let x=-1,w=-1;for(;++x<o.length;)if(o[x][0]===g){w=x;break}if(w===-1)o.push([g,...m]);else if(m.length>0){let[v,...D]=m;const N=o[w][1];zu(N)&&zu(v)&&(v=gu(!0,N,v)),o[w]=[g,v,...D]}}}}const uS=new gc().freeze();function xu(r,n){if(typeof n!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function ku(r,n){if(typeof n!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function wu(r,n){if(n)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lf(r){if(!zu(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function sf(r,n,i){if(!i)throw new Error("`"+r+"` finished async. Use `"+n+"` instead")}function Go(r){return cS(r)?r:new mg(r)}function cS(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function hS(r){return typeof r=="string"||dS(r)}function dS(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const pS="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",uf=[],cf={allowDangerousHtml:!0},fS=/^(https?|ircs?|mailto|xmpp)$/i,gS=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yg(r){const n=mS(r),i=yS(r);return vS(n.runSync(n.parse(i),i),r)}function mS(r){const n=r.rehypePlugins||uf,i=r.remarkPlugins||uf,o=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...cf}:cf;return uS().use(Hk).use(i).use(Uw,o).use(n)}function yS(r){const n=r.children||"",i=new mg;return typeof n=="string"&&(i.value=n),i}function vS(r,n){const i=n.allowedElements,o=n.allowElement,l=n.components,s=n.disallowedElements,c=n.skipHtml,d=n.unwrapDisallowed,f=n.urlTransform||xS;for(const m of gS)Object.hasOwn(n,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+pS+m.id,void 0);return gg(r,g),Dx(r,{Fragment:b.Fragment,components:l,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function g(m,x,w){if(m.type==="raw"&&w&&typeof x=="number")return c?w.children.splice(x,1):w.children[x]={type:"text",value:m.value},x;if(m.type==="element"){let v;for(v in hu)if(Object.hasOwn(hu,v)&&Object.hasOwn(m.properties,v)){const D=m.properties[v],N=hu[v];(N===null||N.includes(m.tagName))&&(m.properties[v]=f(String(D||""),v,m))}}if(m.type==="element"){let v=i?!i.includes(m.tagName):s?s.includes(m.tagName):!1;if(!v&&o&&typeof x=="number"&&(v=!o(m,x,w)),v&&w&&typeof x=="number")return d&&m.children?w.children.splice(x,1,...m.children):w.children.splice(x,1),x}}}function xS(r){const n=r.indexOf(":"),i=r.indexOf("?"),o=r.indexOf("#"),l=r.indexOf("/");return n===-1||l!==-1&&n>l||i!==-1&&n>i||o!==-1&&n>o||fS.test(r.slice(0,n))?r:""}function kS({openingName:r,explanationHistory:n,currentMoveIndex:i,feedback:o,totalMoves:l,pgn:s}){const c=U.useRef(null),[d,f]=U.useState(!1),g=()=>{s&&(navigator.clipboard.writeText(s),f(!0),setTimeout(()=>f(!1),2e3))};U.useEffect(()=>{c.current&&(c.current.scrollTop=0)},[i]);const m=[...n].reverse(),x=n.length-1-i,w=Math.max(1,l||1),v=Math.min(100,i/w*100);return b.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl shadow-xl h-full flex flex-col border border-gray-700",children:[b.jsxs("div",{className:"flex flex-col gap-4 mb-6 border-b border-gray-700 pb-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx($u,{className:"w-8 h-8 text-yellow-400"}),b.jsx("h2",{className:"text-2xl font-bold text-white",children:r})]}),b.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",title:"Copy PGN",children:d?b.jsx(ff,{className:"w-5 h-5 text-green-500"}):b.jsx(gf,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-400 uppercase tracking-wider font-semibold",children:[b.jsx("span",{children:"Progress"}),b.jsxs("span",{children:[i," / ",l||"?"," Moves"]})]}),b.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:b.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full transition-all duration-500 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${v}%`}})})]})]}),b.jsxs("div",{ref:c,className:"flex-grow overflow-y-auto mb-6 pr-2 space-y-3",children:[b.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-400 uppercase tracking-wider text-sm sticky top-0 bg-gray-800 pb-2",children:"Teacher's Notes"}),m.map((D,N)=>{const O=N===x,_=n.length-1-N;return b.jsxs("div",{className:`p-4 rounded-lg border transition-all ${O?"bg-blue-900/30 border-blue-500/50 shadow-lg":"bg-gray-900/50 border-gray-700"}`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${O?"text-blue-400":"text-gray-500"}`,children:_===0?"Start":`Move ${_}`}),O&&b.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded",children:"Current"})]}),b.jsx("div",{className:`text-base leading-relaxed font-serif prose prose-invert max-w-none ${O?"text-gray-200":"text-gray-400"}`,children:b.jsx(yg,{children:D})})]},N)})]}),o&&b.jsxs("div",{className:`p-4 rounded-lg flex items-start gap-3 transition-all duration-300 ${o.success?"bg-green-900/30 border border-green-500/50":"bg-red-900/30 border border-red-500/50"}`,children:[o.success?b.jsx(Gy,{className:"w-6 h-6 text-green-400 flex-shrink-0 mt-0.5"}):b.jsx($y,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-0.5"}),b.jsx("div",{children:b.jsx("p",{className:`font-bold ${o.success?"text-green-400":"text-red-400"}`,children:o.message})})]})]})}function wS({moves:r,currentMoveIndex:n,onMoveSelect:i}){const o=[];for(let c=0;c<r.length;c+=2)o.push({moveNumber:Math.floor(c/2)+1,white:r[c],black:r[c+1]||null});const l=n>0,s=n<r.length;return b.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-xl border border-gray-700 flex flex-col h-full",children:[b.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400 uppercase tracking-wider text-sm",children:"Move History"}),b.jsx("div",{className:"flex-grow overflow-y-auto mb-4 bg-gray-900/50 rounded-lg p-3 border border-gray-700",children:o.length===0?b.jsx("p",{className:"text-gray-500 text-center italic",children:"No moves yet"}):b.jsx("div",{className:"space-y-1",children:o.map((c,d)=>b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsxs("span",{className:"text-gray-500 w-8",children:[c.moveNumber,"."]}),b.jsx("button",{onClick:()=>i(d*2),className:`px-2 py-1 rounded transition-colors ${n===d*2?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:c.white}),c.black&&b.jsx("button",{onClick:()=>i(d*2+1),className:`px-2 py-1 rounded transition-colors ${n===d*2+1?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:c.black})]},d))})}),b.jsxs("div",{className:"flex gap-2 justify-center",children:[b.jsx("button",{onClick:()=>i(0),disabled:!l,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 rounded transition-colors",title:"Go to start",children:b.jsx(fv,{size:18})}),b.jsx("button",{onClick:()=>i(Math.max(0,n-1)),disabled:!l,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 rounded transition-colors",title:"Previous move",children:b.jsx(Uy,{size:18})}),b.jsx("button",{onClick:()=>i(Math.min(r.length,n+1)),disabled:!s,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 rounded transition-colors",title:"Next move",children:b.jsx(Tu,{size:18})}),b.jsx("button",{onClick:()=>i(r.length),disabled:!s,className:"p-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 rounded transition-colors",title:"Go to end",children:b.jsx(mv,{size:18})})]})]})}function SS({theory:r,onHover:n}){const i={a:({href:l,children:s,...c})=>l?.startsWith("move:")||l?.startsWith("square:")||l?.startsWith("opening:")?b.jsx("span",{className:"text-blue-400 hover:text-blue-300 font-bold cursor-pointer border-b border-blue-400/30 hover:border-blue-300 transition-colors",onMouseEnter:()=>n(l),onMouseLeave:()=>n(null),onClick:()=>{l.startsWith("opening:")&&n(l,!0)},...c,children:s}):b.jsx("a",{href:l,className:"text-blue-400 hover:underline",...c,children:s}),h3:({node:l,...s})=>b.jsx("h3",{className:"text-xl font-bold text-yellow-400 mt-6 mb-3 border-b border-gray-700 pb-2",...s}),h4:({node:l,...s})=>b.jsx("h4",{className:"text-lg font-semibold text-blue-400 mt-4 mb-2 uppercase tracking-wide",...s}),p:({node:l,...s})=>b.jsx("p",{className:"mb-4 text-gray-300 leading-relaxed",...s}),ul:({node:l,...s})=>b.jsx("ul",{className:"list-disc list-inside space-y-2 mb-4 ml-2",...s}),li:({node:l,...s})=>b.jsx("li",{className:"text-gray-300",...s}),strong:({node:l,...s})=>b.jsx("strong",{className:"text-yellow-200 font-bold",...s})},o=l=>l;return b.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl shadow-xl border border-gray-700 mt-8 w-full",onMouseLeave:()=>n(null),children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4 border-b border-gray-700 pb-4",children:[b.jsx(Zy,{className:"w-8 h-8 text-purple-400"}),b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Opening Theory"})]}),b.jsx("div",{className:"font-serif",children:b.jsx(yg,{components:i,urlTransform:o,children:r})})]})}function bS({gameState:r,currentOpening:n,playerColor:i,boardOrientation:o,theme:l,feedback:s,previewArrows:c,previewSquares:d,onMove:f,onMoveSelect:g,onTheoryHover:m}){return r?b.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:b.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[b.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start justify-center mb-8",children:[b.jsx("div",{className:"w-full lg:w-64 h-64 lg:h-[500px] flex-shrink-0 order-2 lg:order-1",children:b.jsx(wS,{moves:r.history,currentMoveIndex:r.currentMoveIndex,onMoveSelect:g})}),b.jsx("div",{className:"flex-shrink-0 w-full max-w-[600px] space-y-4 order-1 lg:order-2",children:b.jsx(ex,{fen:r.fen,onMove:f,orientation:o,theme:l,customArrows:c,customSquareStyles:d})}),b.jsx("div",{className:"flex-1 w-full max-w-md h-auto lg:h-[600px] order-3 lg:order-3",children:b.jsx(kS,{openingName:n.name,explanationHistory:r.explanationHistory,currentMoveIndex:r.currentMoveIndex,feedback:s,totalMoves:r.totalMoves,pgn:r.pgn})})]}),b.jsx(SS,{theory:i==="black"&&n.side==="white"&&n.theoryBlack?n.theoryBlack:n.theory,onHover:m})]})}):b.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:"Loading..."})}const CS=[{id:"italian-game",name:"Italian Game",side:"white",description:"A classic opening that has been played for centuries. It focuses on rapid development, controlling the center, and placing the Bishop on a dangerous diagonal.",variations:["evans-gambit","fried-liver"],theory:`
### The Italian Game (Giuoco Piano)

The **Italian Game** is one of the oldest and most fundamental chess openings. It begins with the moves: **1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [Nf3](move:g1-f3) [Nc6](move:b8-c6) 3. [Bc4](move:f1-c4)**.

#### KEY STRATEGIC IDEAS:
*   **Control the Center**: Both sides fight for central control. White's pawn on [e4](square:e4) and Knight on [f3](square:f3) are key assets.
*   **Rapid Development**: The Bishop on [c4](square:c4) is developed to an active square where it eyes the weak [f7](square:f7) pawn (the only pawn defended only by the King).
*   **Flexibility**: White can choose between aggressive lines (like the [Evans Gambit](opening:evans-gambit) or [Fried Liver Attack](opening:fried-liver)) or positional maneuvering (Giuoco Pianissimo).

#### WHY PLAY IT?
It is highly recommended for beginners and intermediates because it teaches the importance of **piece activity**, **central control**, and **tactical awareness**. Unlike the [Ruy Lopez](opening:ruy-lopez) (3. Bb5), which is more strategic and complex, the Italian Game often leads to more open and intuitive positions.

#### COMMON MISTAKES:
*   **Ignoring the Center**: Playing too many pawn moves on the wings and neglecting the battle for d4 and e5.
*   **Premature Attacks**: Launching an attack on f7 before developing your other pieces (like the Queen's Knight and Rook).
*   **Passive Play**: Allowing Black to easily equalize by playing too passively with d3 and h3 without a clear plan.

#### PRO TIP:
In the Giuoco Pianissimo (d3), try to maneuver your Queen's Knight to f5 via d2-f1-g3. This "Spanish Knight" maneuver is a powerful attacking weapon!
        `,theoryBlack:`
### Defending the Italian Game

As Black, you are facing the **Italian Game** (**1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [Nf3](move:g1-f3) [Nc6](move:b8-c6) 3. [Bc4](move:f1-c4)**). Your goal is to neutralize White's initiative and fight for the center.

#### KEY STRATEGIC IDEAS:
*   **Solid Development**: Your Bishop on [c5](square:c5) (Giuoco Piano) mirrors White's setup and controls the center.
*   **The Two Knights Defense**: Alternatively, playing **3... [Nf6](move:g8-f6)** is more aggressive but invites the [Fried Liver Attack](opening:fried-liver) (4. Ng5).
*   **Counter-Center**: If White plays [c3](move:c2-c3) and [d4](move:d2-d4), you must be ready to strike back, often with ...[Nf6](move:g8-f6) and ...[d5](move:d7-d5).

#### YOUR PLAN:
1.  **Develop Quickly**: Get your pieces out to active squares.
2.  **Watch f7**: Always be aware of threats to your [f7](square:f7) pawn.
3.  **Equalize**: If White plays passively ([d3](move:d2-d3)), you can often equalize easily. If White attacks ([d4](move:d2-d4), [b4](move:b2-b4)), you must know your theory!
        `,moves:{e4:{explanation:"**Control the Center**: You stake a claim in the center and open lines for your Queen and light-squared Bishop.",children:{e5:{explanation:"**Challenge the Center**: Black responds symmetrically, preventing you from monopolizing the center.",children:{Nf3:{explanation:"**Develop with a Threat**: You develop the Knight to a natural square, attacking the e5 pawn and preparing to castle.",children:{Nc6:{explanation:"**Defend and Develop**: Black defends the e5 pawn and develops a piece.",children:{Bc4:{explanation:"**The Italian Bishop**: You place the Bishop on c4, eyeing the weak f7 square. This is the defining move of the Italian Game.",children:{Bc5:{explanation:"**Giuoco Piano (Quiet Game)**: Black places their Bishop on a strong diagonal, mirroring your setup.",children:{c3:{explanation:"**Prepare d4**: You want to build a strong pawn center with d2-d4. c3 supports this push.",children:{}},d3:{explanation:"**Giuoco Pianissimo (Very Quiet Game)**: A solid, slower approach. You support e4 and prepare to develop without immediate confrontation.",children:{}},"O-O":{explanation:"**Safety First**: Castling is never a bad idea. You get your King to safety and bring the Rook into the game.",children:{}}}},Nf6:{explanation:"**Two Knights Defense**: An aggressive counter-attack! Black ignores the threat to e5 (if you were to play Ng5) and attacks your e4 pawn instead.",children:{Ng5:{explanation:"**The Fried Liver Attack (setup)**: You ignore the threat to e4 and go for the f7 pawn. This leads to wild, tactical complications.",children:{}},d3:{explanation:"**Solid Defense**: You defend e4 and accept a slower game.",children:{}}}}}}}}}}}}}}}},{id:"evans-gambit",name:"Evans Gambit",parentId:"italian-game",description:"An aggressive line of the Italian Game where White sacrifices the b-pawn for rapid development and center control.",theory:`
### The Evans Gambit

The **Evans Gambit** (**1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [Nf3](move:g1-f3) [Nc6](move:b8-c6) 3. [Bc4](move:f1-c4) [Bc5](move:f8-c5) 4. [b4](move:b2-b4)!**) is a legendary aggressive opening.

#### Key Ideas:
1.  **Sacrifice for Time**: White gives up the b-pawn to attack Black's Bishop with [c3](move:c2-c3), gaining a tempo.
2.  **Dominate the Center**: The move [c3](square:c3) prepares [d4](move:d2-d4), allowing White to build a massive pawn center.
3.  **Open Lines**: The sacrifice opens the a3-f8 and a2-g8 diagonals for White's Bishops to attack the Black King.

#### Why play it?
It leads to sharp, tactical positions where initiative matters more than material. If you like attacking chess and don't mind being down a pawn, this is for you.
        `,theoryBlack:`
### Defending the Evans Gambit

The **Evans Gambit** (**4. [b4](move:b2-b4)**) is a dangerous weapon. White sacrifices a pawn to attack your Bishop and build a center.

#### KEY STRATEGIC IDEAS:
*   **Accept or Decline?**: The main line is to accept the gambit with **4... [Bxb4](move:c5-b4)**. Declining with **4... [Bb6](move:c5-b6)** is playable but passive.
*   **The Lasker Defense**: After **5. [c3](move:c2-c3) [Ba5](move:b4-a5) 6. [d4](move:d2-d4)**, a key defensive resource is to return the pawn later to disrupt White's center.
*   **Don't be Greedy**: Your priority is safety and development, not holding onto the extra pawn at all costs.

#### YOUR PLAN:
1.  **Develop**: Get your pieces out.
2.  **Counter-Strike**: Look for opportunities to play ...d5 to challenge White's center.
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{e5:{explanation:"**Symmetrical Response**: Black challenges the center.",children:{Nf3:{explanation:"**Develop and Attack**: Knight out, attacking e5.",children:{Nc6:{explanation:"**Defend**: Black protects the pawn.",children:{Bc4:{explanation:"**Italian Game**: Eyeing f7.",children:{Bc5:{explanation:"**Giuoco Piano**: Black develops actively.",children:{b4:{explanation:"**The Evans Gambit!**: You sacrifice the b-pawn to deflect the Bishop and prepare c3 + d4.",children:{Bxb4:{explanation:"**Accepted**: Black takes the pawn. This is the critical test.",children:{c3:{explanation:"**Gain Time**: You attack the Bishop and prepare d4 in one go.",children:{Ba5:{explanation:"**The Main Line**: Black keeps the pin on the c-pawn (preventing immediate d4 if White isn't careful, though d4 is still the plan).",children:{d4:{explanation:"**Strike the Center**: You open lines and challenge Black's control.",children:{}}}},Be7:{explanation:"**The Lasker Defense**: A solid, safer retreat.",children:{}}}}}},Bb6:{explanation:"**Declined**: Black refuses the pawn, but the Bishop is now somewhat passively placed.",children:{}}}}}}}}}}}}}}}}}},{id:"fried-liver",name:"Fried Liver Attack",parentId:"italian-game",description:"A sharp and tactical opening arising from the Two Knights Defense, targeting the weak f7 square.",theory:`
### The Fried Liver Attack

The **Fried Liver Attack** (Fegatello Attack) is one of the most violent openings in chess. It arises from the Two Knights Defense: **1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [Nf3](move:g1-f3) [Nc6](move:b8-c6) 3. [Bc4](move:f1-c4) [Nf6](move:g8-f6) 4. [Ng5](move:f3-g5) [d5](move:d7-d5) 5. [exd5](move:e4-d5) [Nxd5](move:f6-d5)?! 6. [Nxf7](move:g5-f7)!**

#### Key Ideas:
1.  **Target f7**: White sacrifices a Knight on [f7](square:f7) to fork the Queen and Rook.
2.  **Expose the King**: The King *must* take the Knight (Kxf7), drawing it out into the center.
3.  **Relentless Attack**: White follows up with [Qf3+](move:d1-f3) and brings every piece to hunt the exposed King.

#### Why play it?
It punishes Black for a specific mistake (5...Nxd5). It's incredibly fun and leads to wild tactical games where White has a terrifying attack.
        `,theoryBlack:`
### Surviving the Fried Liver

If you are facing the **Fried Liver Attack**, you have likely made a mistake by playing **5... [Nxd5](move:f6-d5)**. The correct move was **5... [Na5](move:c6-a5)** (Polerio Defense).

#### KEY STRATEGIC IDEAS:
*   **The King Hunt**: After **6. [Nxf7](move:g5-f7) [Kxf7](move:e8-f7) 7. [Qf3+](move:d1-f3)**, your King is exposed.
*   **Hold On**: You must defend accurately. **7... [Ke6](move:f7-e6)** is the only move that holds the position.
*   **Counter-Attack**: If you survive the initial onslaught, you will have an extra piece.

#### YOUR PLAN:
1.  **Don't Panic**: The position looks scary, but it is defensible with perfect play.
2.  **Learn the Polerio**: Next time, play **5... [Na5](move:c6-a5)** to avoid this mess entirely!
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{e5:{explanation:"**Symmetrical Response**: Black challenges the center.",children:{Nf3:{explanation:"**Develop and Attack**: Knight out, attacking e5.",children:{Nc6:{explanation:"**Defend**: Black protects the pawn.",children:{Bc4:{explanation:"**Italian Game**: Eyeing f7.",children:{Nf6:{explanation:"**Two Knights Defense**: Black counter-attacks e4 instead of playing Bc5.",children:{Ng5:{explanation:"**The Attack Begins**: You ignore the threat to e4 and immediately target f7. Black *must* react.",children:{d5:{explanation:"**The Only Good Defense**: Black blocks the Bishop's diagonal.",children:{exd5:{explanation:"**Open Lines**: You take the pawn. Now comes the critical moment.",children:{Nxd5:{explanation:"**The Mistake!** Taking back with the Knight allows the Fried Liver. (Better was Na5 or b5).",children:{Nxf7:{explanation:"**The Sacrifice!** You fork the Queen and Rook. The King must take you.",children:{Kxf7:{explanation:"**King Hunt**: The King is drawn out.",children:{"Qf3+":{explanation:"**Check!** You bring the Queen into the attack and win back the piece (attacking the Knight on d5 twice).",children:{Ke6:{explanation:"**Defending the Knight**: The King must step forward to protect the Knight. Now you bring out the Knight to c3 to pile on pressure.",children:{Nc3:{explanation:"**Pile On**: Three pieces attacking the pinned Knight. The pressure is immense.",children:{}}}}}}}}}}}},Na5:{explanation:"**Polerio Defense**: The correct move. Black attacks your Bishop and avoids the Fried Liver.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"ruy-lopez",name:"Ruy Lopez",side:"white",description:"One of the most popular and respected openings. White puts pressure on Black's center by attacking the Knight that defends the e5 pawn.",theory:`
### The Ruy Lopez (Spanish Game)

The **Ruy Lopez** (**1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [Nf3](move:g1-f3) [Nc6](move:b8-c6) 3. [Bb5](move:f1-b5)**) is one of the most famous and respected chess openings. It is named after a 16th-century Spanish priest.

#### KEY STRATEGIC IDEAS:
*   **Pressure on e5**: By attacking the Knight on [c6](square:c6), White indirectly pressures the [e5](square:e5) pawn (which the Knight defends).
*   **The "Spanish Torture"**: White often aims for a long, strategic squeeze. They build a strong center, restrict Black's pieces, and slowly improve their position.
*   **Rapid Castling**: White prepares to castle quickly (O-O) and bring the Rook to the e-file to pressure e5.

#### COMMON VARIATIONS:
*   **Morphy Defense**: **3... [a6](move:a7-a6)** forces the Bishop to decide: exchange on c6 or retreat?
*   **Berlin Defense**: **3... [Nf6](move:g8-f6)** is the "Berlin Wall" - a super-solid, endgame-focused defense.
*   **Exchange Variation**: **4. [Bxc6](move:b5-c6)** doubles Black's pawns and aims for a winning endgame structure.

#### COMMON MISTAKES:
*   **Releasing Tension Too Early**: Exchanging on c6 or d5 without a concrete reason. The tension is often more annoying for Black than the release.
*   **Neglecting the Light-Squared Bishop**: Allowing it to be trapped or traded for a Knight passively.
*   **Impatience**: Trying to checkmate Black in 20 moves. The Ruy Lopez is a marathon, not a sprint.

#### PRO TIP:
Learn the "Breyer Maneuver" (Nb8-d7) for Black and the corresponding White plans. Understanding how to reposition pieces is key to mastering the Spanish Game.
        `,theoryBlack:`
### Defending the Ruy Lopez

The **Ruy Lopez** (**3. [Bb5](move:f1-b5)**) is a test of your strategic understanding. You are under pressure from move 3.

#### YOUR STRATEGIC GOALS:
1.  **Challenge the Bishop**: The move **3... [a6](move:a7-a6)** is the most common reply. It forces White to declare their intentions.
2.  **Maintain the Center**: You must fight to keep your share of the center. Don't let White roll you over with d4.
3.  **The "Bad" Bishop**: Your light-squared Bishop can sometimes get trapped or passive. Look for ways to activate it.
4.  **Counter-Play**:
    *   **Open Ruy**: If you like active piece play, look into the Open Variation (Nxe4).
    *   **Marshall Attack**: A famous gambit where Black sacrifices a pawn for a deadly attack.

#### KEY SQUARES:
*   **e5**: The focal point of the opening.
*   **f7**: Always a sensitive square for Black.
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{e5:{explanation:"**Symmetrical Response**: Black challenges the center.",children:{Nf3:{explanation:"**Develop and Attack**: Knight out, attacking e5.",children:{Nc6:{explanation:"**Defend**: Black protects the pawn.",children:{Bb5:{explanation:"**The Ruy Lopez**: You attack the defender of the e5 pawn. This puts long-term pressure on Black.",children:{a6:{explanation:"**Morphy Defense**: The most popular move. Black challenges your Bishop immediately.",children:{Ba4:{explanation:"**Retreat**: You keep the pressure on the diagonal. Taking (Bxc6) is also possible (Exchange Variation) but less common.",children:{Nf6:{explanation:"**Developing**: Black develops the Knight and attacks e4.",children:{"O-O":{explanation:"**Castle**: You get your King safe. If Black takes e4, you have Re1.",children:{}}}}}},Bxc6:{explanation:"**Exchange Variation**: You give up the Bishop pair to double Black's pawns and play for a better endgame.",children:{dxc6:{explanation:"**Recapture**: Black takes towards the center and opens lines for the Bishop.",children:{d4:{explanation:"**Open the Center**: You immediately challenge Black's center.",children:{}}}}}}}},Nf6:{explanation:"**Berlin Defense**: The 'Berlin Wall'. A super-solid defensive choice.",children:{"O-O":{explanation:"**Castle**: You ignore the attack on e4 for now, prioritizing safety.",children:{Nxe4:{explanation:"**Berlin Wall (Accepted)**: Black takes the pawn. The endgame after d4 is famous for being a drawish fortress.",children:{}}}}}}}}}}}}}}}}}},{id:"sicilian-defense",name:"Sicilian Defense",side:"black",variations:["sicilian-najdorf","sicilian-classical"],description:"The most popular and best-scoring response to 1.e4. Black fights for the center from the flank (c5) and creates an asymmetrical position.",theory:`
### The Sicilian Defense

The **Sicilian Defense** (**1. [e4](move:e2-e4) [c5](move:c7-c5)**) is the most popular and best-scoring response to White's 1. e4. By playing c5, Black immediately challenges the center and creates an asymmetrical position.

#### KEY STRATEGIC IDEAS:
*   **The Fight for d4**: Black trades their flank c-pawn for White's central d-pawn (after **[Nf3](move:g1-f3)** and **[d4](move:d2-d4)**). This gives Black a central pawn majority (2 center pawns vs 1).
*   **The Open c-file**: After the trade, Black uses the semi-open c-file to launch attacks, often placing a Rook on [c8](square:c8).
*   **Counter-Attacking Chances**: Unlike the solid 1...e5, the Sicilian is sharp and double-edged. White often attacks on the kingside, while Black attacks on the queenside.

#### COMMON VARIATIONS:
*   **Open Sicilian**: White plays **[d4](move:d2-d4)** to open the center.
*   **Closed Sicilian**: White plays **[Nc3](move:b1-c3)** and keeps the center closed.
*   **Alapin**: White plays **[c3](move:c2-c3)** to build a pawn center.
        `,theoryBlack:`
### Playing the Sicilian Defense

As Black, you are playing for a win from move 1. The **Sicilian** (**1... [c5](move:c7-c5)**) is not for the faint of heart!

#### YOUR STRATEGIC GOALS:
1.  **Exchange the c-pawn**: When White plays **[d4](move:d2-d4)**, take it! (**[cxd4](move:c5-d4)**). This gives you a better central pawn structure (2 center pawns vs 1).
2.  **Queenside Attack**: Launch your pawns on the queenside (...a6, ...b5) and use your Rook on the open c-file.
3.  **Watch out for e5**: White will often try to push their e-pawn to cramp you or launch an attack. Be ready to undermine it.
4.  **Piece Activity**: Don't just defend. Look for tactical shots and counter-play. The Sicilian is about dynamic imbalance.

#### KEY SQUARES:
*   **d5**: This is the critical battleground. White wants to plant a Knight here. You must control it or ensure that if a Knight lands there, it doesn't win the game.
*   **c4**: A great outpost for your Knight if you can get it there.
*   **e5**: Often a "hole" in the Najdorf, but one that is accepted for dynamic activity.

#### COMMON MISTAKES:
*   **Passive Play**: Trying to play the Sicilian like a solid e5 opening. You must be active!
*   **Neglecting Development**: Getting too caught up in pawn moves (a6, b5, h6) and forgetting to get your Knights and Bishops out.
*   **King Safety**: Leaving your King in the center too long while the position opens up.

#### PRO TIP:
In many lines, the exchange sacrifice ...Rxc3 is a thematic way to destroy White's pawn structure and seize the initiative. Don't be afraid to give up material for an attack!
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{c5:{explanation:"**The Sicilian**: You challenge the d4 square from the flank.",children:{Nf3:{explanation:"**Open Sicilian**: White prepares d4.",children:{d6:{explanation:"**Control e5**: Prevents White from pushing e5 later.",children:{d4:{explanation:"**Strike**: White opens the center.",children:{cxd4:{explanation:"**Trade**: You exchange a flank pawn for a center pawn.",children:{Nxd4:{explanation:"**Recapture**: White centralizes the Knight.",children:{Nf6:{explanation:"**Develop**: Attack e4.",children:{Nc3:{explanation:"**Defend**: White develops and protects e4.",children:{a6:{explanation:"**The Najdorf**: A legendary move. It prevents Nb5 and prepares ...b5.",children:{}},Nc6:{explanation:"**Classical Sicilian**: Developing the Knight naturally.",children:{}}}}}}}}}}}}}},Nc6:{explanation:"**Old Sicilian**: Developing the Knight immediately.",children:{}}}},Nc3:{explanation:"**Closed Sicilian**: White delays d4.",children:{}}}}}}}},{id:"queens-gambit",name:"Queen's Gambit",side:"white",variations:["qgd","qga","slav-defense"],description:"A classic d4 opening where White offers a pawn (c4) to gain control of the center. It is solid, strategic, and historically significant.",theory:`
### The Queen's Gambit

The **Queen's Gambit** (**1. [d4](move:d2-d4) [d5](move:d7-d5) 2. [c4](move:c2-c4)**) is one of the oldest and most solid openings. White offers a flank pawn (c4) to fight for the center.

#### KEY STRATEGIC IDEAS:
*   **The "Gambit"**: It is not a true gambit because White can easily regain the pawn if Black takes it.
*   **Central Domination**: White wants to remove Black's d5 pawn to take full control of the center with e4.
*   **Active Piece Play**: White usually develops easily and gets a space advantage.

#### COMMON VARIATIONS:
*   **Queen's Gambit Declined (QGD)**: **2... [e6](move:e7-e6)**. Solid, but the c8 Bishop is blocked.
*   **Queen's Gambit Accepted (QGA)**: **2... [dxc4](move:d5-c4)**. Black takes the pawn to open lines.
*   **Slav Defense**: **2... [c6](move:c7-c6)**. Solid, and keeps the Bishop diagonal open.

#### COMMON MISTAKES:
*   **Being Too Passive**: Playing d4, c4, Nc3 and then just shuffling pieces. You must have a plan (e.g., Minority Attack, Central Breakthrough).
*   **Fearing the Accepted Gambit**: Worrying too much about the c4 pawn. If Black tries to hold it, they usually create weaknesses.
*   **Blocking the c-pawn**: Playing Nc3 before c4 (in some move orders) blocks your main lever.

#### PRO TIP:
In the Exchange Variation (cxd5), the "Minority Attack" (b4-b5) is a classic strategy to create a weakness in Black's pawn structure on the queenside.
        `,theoryBlack:`
### Defending the Queen's Gambit

You are facing **1. [d4](move:d2-d4) [d5](move:d7-d5) 2. [c4](move:c2-c4)**. Do not be afraid of the "gambit."

#### YOUR STRATEGIC GOALS:
1.  **Maintain the Center**: Your d5 pawn is your strong point. Support it!
2.  **Solve the Bishop Problem**: In d4 openings, your light-squared Bishop (c8) is often your "problem piece." Find a way to develop it.
3.  **Choose Your Style**:
    *   **Solid**: Play the **QGD** (e6) or **Slav** (c6).
    *   **Active**: Play the **QGA** (dxc4) or **Semi-Slav**.
        `,moves:{d4:{explanation:"**Queen's Pawn Opening**: You control the center and open lines for the Bishop and Queen.",children:{d5:{explanation:"**Symmetrical Response**: Black prevents you from playing e4 immediately.",children:{c4:{explanation:"**The Queen's Gambit**: You attack the center from the flank.",children:{e6:{explanation:"**Queen's Gambit Declined (QGD)**: Black reinforces the d5 pawn.",children:{Nc3:{explanation:"**Pressure**: You develop the Knight and add pressure to d5.",children:{Nf6:{explanation:"**Develop**: Black brings out the Knight to control the center.",children:{Bg5:{explanation:"**The Pin**: You pin the Knight to the Queen, increasing pressure on d5.",children:{Be7:{explanation:"**Unpin**: Black breaks the pin and prepares to castle.",children:{}},Nbd7:{explanation:"**Cambridge Springs**: A tricky defense where Black sets traps.",children:{}}}}}}}}}},dxc4:{explanation:"**Queen's Gambit Accepted (QGA)**: Black takes the pawn. You can regain it with e3 or e4.",children:{}},c6:{explanation:"**Slav Defense**: A very solid wall. Black supports d5 without blocking the light-squared Bishop.",children:{}}}}}}}}}},{id:"sicilian-najdorf",name:"Najdorf Variation",parentId:"sicilian-defense",description:"The 'Cadillac' of chess openings. A sharp, complex line where Black delays development to control key squares.",theory:`
### The Najdorf Variation

The **Najdorf** (**1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 [a6](move:a7-a6)**) is often called the "Cadillac of Chess Openings." It is the choice of champions like Fischer and Kasparov.

#### KEY IDEAS:
*   **Prophylaxis**: The move **5... [a6](move:a7-a6)** looks slow, but it serves a vital purpose: it prevents White's Knights from jumping to [b5](square:b5).
*   **Flexibility**: Black hasn't committed their e-pawn yet. They can play ...e5 (aggressive) or ...e6 (Scheveningen setup).
*   **Queenside Expansion**: Black prepares to push **...[b5](move:b7-b5)**, attacking White's Knight and gaining space.

#### WHITE'S PLANS:
*   **English Attack**: [Be3](move:c1-e3), [f3](move:f2-f3), [Qd2](move:d1-d2), and [g4](move:g2-g4) - a ruthless kingside pawn storm.
*   **Opocensky**: [Be2](move:f1-e2) and [O-O](move:e1-g1), playing a more positional game.
        `,theoryBlack:`
### Playing the Najdorf

You have chosen the sharpest weapon in chess.

#### YOUR PLAN:
1.  **Control e5**: If you play the ...e5 setup, you accept a "hole" on [d5](square:d5) in exchange for active piece play and control of important squares.
2.  **The b5 Break**: Push **...[b5](move:b7-b5)** as soon as safely possible to challenge White on the queenside.
3.  **The d5 Break**: If you can successfully play **...[d5](move:d7-d5)** without losing material, you have usually equalized or better.
4.  **Don't Get Mated**: White will throw everything at your King. Defend coolly and strike back in the center or queenside.
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{c5:{explanation:"**The Sicilian**: You challenge the d4 square from the flank.",children:{Nf3:{explanation:"**Open Sicilian**: White prepares d4.",children:{d6:{explanation:"**Control e5**: Prevents White from pushing e5 later.",children:{d4:{explanation:"**Strike**: White opens the center.",children:{cxd4:{explanation:"**Trade**: You exchange a flank pawn for a center pawn.",children:{Nxd4:{explanation:"**Recapture**: White centralizes the Knight.",children:{Nf6:{explanation:"**Develop**: Attack e4.",children:{Nc3:{explanation:"**Defend**: White develops and protects e4.",children:{a6:{explanation:"**The Najdorf**: A legendary move. It prevents Nb5 and prepares ...b5.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"sicilian-classical",name:"Classical Sicilian",parentId:"sicilian-defense",description:"A sound and logical development system where Black brings the Knight to c6 immediately.",theory:`
### The Classical Sicilian

The **Classical Sicilian** (**1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 [Nc6](move:b8-c6)**) is a sound and logical approach. Unlike the Najdorf, Black develops a piece immediately to fight for the center.

#### KEY IDEAS:
*   **Pressure on d4**: By playing **...[Nc6](move:b8-c6)**, Black adds a second attacker to the White Knight on [d4](square:d4).
*   **Richter-Rauzer Attack**: White often responds with **6. [Bg5](move:c1-g5)**, pinning the Knight and threatening to double Black's pawns.
*   **Sharp but Structured**: The game is less flexible than the Najdorf but follows more concrete structural plans.

#### WHITE'S PLANS:
*   **Richter-Rauzer**: [Bg5](move:c1-g5), [Qd2](move:d1-d2), [O-O-O](move:e1-c1). A sharp battle with opposite-side castling.
*   **Sozin Attack**: [Bc4](move:f1-c4), eyeing f7.
        `,theoryBlack:`
### Playing the Classical

You prefer immediate development and concrete battles.

#### YOUR PLAN:
1.  **Develop Quickly**: Get your pieces out.
2.  **The Richter-Rauzer**: If White plays **6. [Bg5](move:c1-g5)**, play **6... [e6](move:e7-e6)** to unpin. Prepare for a sharp fight!
3.  **Queenside Counterplay**: Like most Sicilians, your play is on the c-file and queenside. Use your Rook on [c8](square:c8).
4.  **The Exchange Sacrifice**: A common theme is sacrificing the exchange (Rook for Knight) on [c3](square:c3) to ruin White's pawn structure.
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{c5:{explanation:"**The Sicilian**: You challenge the d4 square from the flank.",children:{Nf3:{explanation:"**Open Sicilian**: White prepares d4.",children:{d6:{explanation:"**Control e5**: Prevents White from pushing e5 later.",children:{d4:{explanation:"**Strike**: White opens the center.",children:{cxd4:{explanation:"**Trade**: You exchange a flank pawn for a center pawn.",children:{Nxd4:{explanation:"**Recapture**: White centralizes the Knight.",children:{Nf6:{explanation:"**Develop**: Attack e4.",children:{Nc3:{explanation:"**Defend**: White develops and protects e4.",children:{Nc6:{explanation:"**Classical Sicilian**: Developing the Knight naturally.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"qgd",name:"Queen's Gambit Declined",parentId:"queens-gambit",description:"The solid orthodox defense. Black holds the d5 pawn firmly.",theory:`
### Queen's Gambit Declined (QGD)

The **QGD** (**1. d4 d5 2. c4 [e6](move:e7-e6)**) is the gold standard of solidity. Black declines the pawn to maintain a strong pawn on d5.

#### KEY IDEAS:
*   **The Strong Point**: The d5 pawn is the anchor of Black's position.
*   **The Bad Bishop**: The pawn on e6 blocks the Bishop on c8. Black often tries to fianchetto it (...b6 and ...Bb7) or free it later.
*   **The Minority Attack**: In the Exchange Variation (cxd5 exd5), White often attacks on the queenside.

#### WHITE'S PLANS:
*   **Exchange Variation**: [cxd5](move:c4-d5) [exd5](move:e6-d5). A strategic battle where White plays on the queenside.
*   **Catalan**: [g3](move:g2-g3) and [Bg2](move:f1-g2). A positional masterpiece.
        `,theoryBlack:`
### Playing the QGD

You value safety and structure.

#### YOUR PLAN:
1.  **Develop**: Knights to f6 and d7, Bishop to e7, Castle.
2.  **Free the Game**: Look for the **...[c5](move:c7-c5)** or **...[e5](move:e7-e5)** breaks to challenge White's center and open lines for your Bishop.
3.  **The Lasker Defense**: Play **...[Ne4](move:f6-e4)** to trade pieces and simplify the position.
        `,moves:{d4:{explanation:"**Queen's Pawn Opening**: You control the center.",children:{d5:{explanation:"**Symmetrical Response**: Black prevents e4.",children:{c4:{explanation:"**The Queen's Gambit**: You attack the center from the flank.",children:{e6:{explanation:"**Queen's Gambit Declined**: Black reinforces d5.",children:{Nc3:{explanation:"**Pressure**: You develop and pressure d5.",children:{Nf6:{explanation:"**Develop**: Black controls the center.",children:{Bg5:{explanation:"**The Pin**: You pin the Knight to the Queen.",children:{Be7:{explanation:"**Unpin**: Black prepares to castle.",children:{}}}}}}}}}}}}}}}}}},{id:"qga",name:"Queen's Gambit Accepted",parentId:"queens-gambit",description:"Black takes the pawn to open lines, but gives up the center temporarily.",theory:`
### Queen's Gambit Accepted (QGA)

The **QGA** (**1. d4 d5 2. c4 [dxc4](move:d5-c4)**) is a brave choice. Black takes the pawn, not to keep it, but to open lines and avoid the cramped QGD.

#### KEY IDEAS:
*   **Active Play**: Black wants to play ...c5 or ...e5 quickly to strike back at the center.
*   **Regaining the Pawn**: White usually plays **3. [e3](move:e2-e3)** or **3. [e4](move:e2-e4)** to recapture the pawn with the Bishop.
*   **Isolated Queen's Pawn (IQP)**: Positions often arise where White has an isolated d-pawn, leading to sharp tactical play.
        `,theoryBlack:`
### Playing the QGA

You want an open game without the passive pieces of the QGD.

#### YOUR PLAN:
1.  **Give it Back**: Don't try to hold the c4 pawn with ...b5. It usually leads to disaster.
2.  **Strike the Center**: Play **...[c5](move:c7-c5)** to challenge White's d4 pawn.
3.  **Queenside Expansion**: Use ...a6 and ...b5 to gain space on the queenside *after* White has regained the pawn.
        `,moves:{d4:{explanation:"**Queen's Pawn Opening**: You control the center.",children:{d5:{explanation:"**Symmetrical Response**: Black prevents e4.",children:{c4:{explanation:"**The Queen's Gambit**: You attack the center from the flank.",children:{dxc4:{explanation:"**Queen's Gambit Accepted**: Black takes the pawn.",children:{}}}}}}}}}},{id:"slav-defense",name:"Slav Defense",parentId:"queens-gambit",description:"A solid wall. Black supports d5 with c6, keeping the Bishop diagonal open.",theory:`
### The Slav Defense

The **Slav Defense** (**1. d4 d5 2. c4 [c6](move:c7-c6)**) is one of the toughest nuts to crack. Black supports d5 with a pawn, but keeps the c8-h3 diagonal open for the Bishop.

#### KEY IDEAS:
*   **Solid Triangle**: The c6-d5-e6 pawn structure is extremely robust.
*   **Active Bishop**: Unlike the QGD, the Bishop can come out to f5 or g4.
*   **Semi-Slav**: If Black plays ...e6 later, it becomes the Semi-Slav, a mix of the QGD and Slav.

#### WHITE'S PLANS:
*   **Exchange Slav**: [cxd5](move:c4-d5) [cxd5](move:c6-d5). Very drawish and symmetrical.
*   **Main Line**: [Nf3](move:g1-f3), [Nc3](move:b1-c3). A complex battle for the center.
        `,theoryBlack:`
### Playing the Slav

You want a solid position but with an active Bishop.

#### YOUR PLAN:
1.  **Develop the Bishop**: Try to get your Bishop to [f5](square:f5) or [g4](square:g4) before playing ...e6.
2.  **The "Chameleon"**: You can often transpose into other openings depending on what White plays.
3.  **Solidify**: Your position is hard to break. Be patient and wait for your chance.
        `,moves:{d4:{explanation:"**Queen's Pawn Opening**: You control the center.",children:{d5:{explanation:"**Symmetrical Response**: Black prevents e4.",children:{c4:{explanation:"**The Queen's Gambit**: You attack the center from the flank.",children:{c6:{explanation:"**Slav Defense**: Black supports d5 with a pawn, keeping the Bishop free.",children:{}}}}}}}}}},{id:"french-defense",name:"French Defense",side:"black",description:"A solid and counter-attacking defense. Black fights for the center with ...e6 and ...d5, accepting a space disadvantage for solid structure.",theory:`
### The French Defense

The **French Defense** (**1. [e4](move:e2-e4) [e6](move:e7-e6)**) is a top-tier defense against 1.e4. It is solid, resilient, and offers great counter-attacking chances.

#### KEY STRATEGIC IDEAS:
*   **The Pawn Chain**: The structure often becomes locked with White pawns on d4/e5 and Black pawns on d5/e6.
*   **The Bad Bishop**: Black's light-squared Bishop on c8 is blocked by the e6 pawn. Activating it is a key long-term goal.
*   **Counter-Play**: Black attacks White's center with **...[c5](move:c7-c5)** and **...[f6](move:f7-f6)**.

#### COMMON VARIATIONS:
*   **Advance Variation**: **3. [e5](move:e4-e5)**. White gains space and closes the center.
*   **Exchange Variation**: **3. [exd5](move:e4-d5)**. A symmetrical and drawish line.
*   **Winawer Variation**: **3. [Nc3](move:b1-c3) [Bb4](move:f8-b4)**. Sharp and unbalanced.
        `,theoryBlack:`
### Playing the French

You are choosing a battle of structure and patience.

#### YOUR PLAN:
1.  **Attack the Base**: White's pawn chain (d4-e5) has a base at d4. Attack it with **...[c5](move:c7-c5)**, **...[Nc6](move:b8-c6)**, and **...[Qb6](move:d8-b6)**.
2.  **The "Bad" Bishop**: Don't despair about your c8 Bishop. It often becomes a strong defensive piece or is traded off.
3.  **Undermine**: If White plays f4 to support e5, look for **...[f6](move:f7-f6)** to tear down their center.
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{e6:{explanation:"**French Defense**: You prepare d5 to challenge the center immediately, while keeping the diagonal open for your King's Bishop.",children:{d4:{explanation:"**Seize Space**: White takes the full center.",children:{d5:{explanation:"**Challenge**: Black strikes at e4.",children:{e5:{explanation:"**Advance Variation**: White closes the center to gain space and cramp Black.",children:{c5:{explanation:"**Counter-Attack**: The thematic French break! You attack the base of White's pawn chain (d4).",children:{}}}},Nc3:{explanation:"**Paulsen/Classical**: White defends e4 with a piece.",children:{Bb4:{explanation:"**Winawer Variation**: You pin the Knight to increase pressure on e4. This leads to very sharp play.",children:{}},Nf6:{explanation:"**Classical Variation**: You attack e4 with a piece.",children:{}}}},exd5:{explanation:"**Exchange Variation**: White releases the tension. The game often becomes quiet and symmetrical.",children:{exd5:{explanation:"**Recapture**: You maintain symmetry and free your light-squared Bishop.",children:{}}}}}}}}}}}}}},{id:"caro-kann",name:"Caro-Kann Defense",side:"black",description:"Known for its solidity. Black supports d5 with c6, similar to the Slav, but against 1.e4.",theory:`
### The Caro-Kann Defense

The **Caro-Kann** (**1. [e4](move:e2-e4) [c6](move:c7-c6)**) is arguably the most solid response to 1.e4.

#### KEY STRATEGIC IDEAS:
*   **Solid Center**: Like the French, Black plays ...d5. But unlike the French, the light-squared Bishop is *not* blocked.
*   **Endgame Prowess**: The pawn structure is very healthy, giving Black excellent endgame chances.
*   **Slower Development**: The move ...c6 takes a square away from the Knight and doesn't develop a piece, so Black must be careful not to fall behind.

#### COMMON VARIATIONS:
*   **Advance Variation**: **3. [e5](move:e4-e5)**. White gains space. Black usually brings the Bishop out to f5 immediately.
*   **Classical Variation**: **3. [Nc3](move:b1-c3)** followed by **...[dxe4](move:d5-e4)**.
        `,theoryBlack:`
### Playing the Caro-Kann

You want a rock-solid position where you can outplay your opponent in the long run.

#### YOUR PLAN:
1.  **Develop the Bishop**: In the Advance Variation, get your Bishop to [f5](square:f5) before playing ...e6.
2.  **Challenge the Center**: Use **...[c5](move:c7-c5)** later in the game to strike back.
3.  **Safety**: Your position is very hard to crack. Don't take unnecessary risks.
        `,moves:{e4:{explanation:"**Control the Center**: Standard opening move.",children:{c6:{explanation:"**Caro-Kann Defense**: You prepare d5 to challenge the center, keeping the light-squared Bishop diagonal open.",children:{d4:{explanation:"**Seize Space**: White takes the center.",children:{d5:{explanation:"**Challenge**: Black strikes at e4.",children:{e5:{explanation:"**Advance Variation**: White closes the center.",children:{Bf5:{explanation:"**Active Bishop**: You develop the Bishop *outside* the pawn chain before playing e6. This is the main advantage over the French.",children:{}}}},Nc3:{explanation:"**Classical Variation**: White defends e4.",children:{dxe4:{explanation:"**Exchange**: You eliminate White's central pawn.",children:{Nxe4:{explanation:"**Recapture**: White centralizes the Knight.",children:{Bf5:{explanation:"**Develop with Tempo**: You attack the Knight and develop your Bishop.",children:{}}}}}}}}}}}}}}}}}},{id:"london-system",name:"London System",side:"white",description:"A solid, system-based opening for White. Easy to learn and very resilient.",theory:`
### The London System

The **London System** is a popular opening for White where the dark-squared Bishop is developed to [f4](square:f4) early on, usually after **1. [d4](move:d2-d4) [d5](move:d7-d5) 2. [Bf4](move:c1-f4)** (or 2. Nf3 and 3. Bf4).

#### KEY STRATEGIC IDEAS:
*   **System-Based**: White sets up a similar pawn structure (d4, e3, c3) against almost anything Black plays.
*   **The Bishop**: The Bishop on [f4](square:f4) is active and outside the pawn chain (unlike in the Queen's Gambit Declined).
*   **Control e5**: White fights for the [e5](square:e5) square.

#### WHY PLAY IT?
It requires less memorization of sharp theory than 1.e4 or the Queen's Gambit. It's extremely solid and hard for Black to attack.
        `,theoryBlack:`
### Facing the London

White is playing a solid system. You need to be active to avoid being squeezed.

#### YOUR PLAN:
1.  **Challenge the Center**: Play **...[c5](move:c7-c5)** early to attack White's d4 pawn.
2.  **Hunt the Bishop**: Sometimes playing **...[Bd6](move:f8-d6)** to trade off White's strong Bishop is a good idea.
3.  **Queenside Play**: Since White's center is solid, look for play on the queenside with **...[Qb6](move:d8-b6)**.
        `,moves:{d4:{explanation:"**Queen's Pawn**: Control the center.",children:{d5:{explanation:"**Symmetrical Response**: Black prevents e4.",children:{Bf4:{explanation:"**The London Bishop**: You develop the Bishop to an active square *before* playing e3. This is the hallmark of the London System.",children:{Nf6:{explanation:"**Develop**: Black develops naturally.",children:{e3:{explanation:"**Solidify**: You support the d4 pawn and open lines for the light-squared Bishop. Your dark-squared Bishop is safely outside the chain.",children:{c5:{explanation:"**Counter-Strike**: Black attacks your center immediately. This is the most critical test.",children:{c3:{explanation:"**The Pyramid**: You complete the pawn pyramid (d4-e3-c3). It is incredibly tough to break.",children:{Nc6:{explanation:"**Pressure**: Black adds more pressure to d4.",children:{Nf3:{explanation:"**Develop**: You bring the Knight out to control e5.",children:{}}}}}}}},e6:{explanation:"**Solid**: Black prepares to develop the Bishop.",children:{Nf3:{explanation:"**Develop**: Knight to f3 is standard.",children:{Bd6:{explanation:"**Challenge**: Black wants to trade off your strong Bishop.",children:{Bg3:{explanation:"**Retreat**: You keep the Bishop on the diagonal. If Black takes (Bxg3), you open the h-file (hxg3) for your Rook.",children:{}}}}}}}}}}}}}}}},Nf6:{explanation:"**Indian Setup**: Black delays the d5 push.",children:{Bf4:{explanation:"**London System**: You can play this against almost anything.",children:{}}}}}}}},{id:"kings-indian-defense",name:"King's Indian Defense",side:"black",description:"A hypermodern, aggressive defense against 1.d4. Black allows White to build a big center, then attacks it.",theory:`
### The King's Indian Defense (KID)

The **KID** (**1. [d4](move:d2-d4) [Nf6](move:g8-f6) 2. [c4](move:c2-c4) [g6](move:g7-g6) 3. [Nc3](move:b1-c3) [Bg7](move:f8-g7) 4. [e4](move:e2-e4) [d6](move:d7-d6)**) is a favorite of attacking players like Kasparov and Nakamura.

#### KEY STRATEGIC IDEAS:
*   **Hypermodernism**: Black lets White occupy the center with pawns (c4, d4, e4) and plans to attack it later.
*   **Kingside Attack**: In the main lines (Classical Variation), Black locks the center with ...e5 and launches a massive kingside pawn storm (...f5, ...g5, ...h5).
*   **The "Hook"**: Black often aims for the [e5](square:e5) break to challenge White's space.

#### COMMON VARIATIONS:
*   **Classical Variation**: White plays Nf3 and Be2. The main battleground.
*   **Smisch Variation**: White plays f3 to support e4 and prevent ...Ng4.
*   **Four Pawns Attack**: White plays f4, grabbing massive space but risking overextension.
        `,theoryBlack:`
### Playing the KID

You are playing for a win, not a draw.

#### YOUR PLAN:
1.  **The Setup**: Nf6, g6, Bg7, d6, O-O. This is your fortress.
2.  **The Break**: You *must* challenge the center. The move **...[e5](move:e7-e5)** is the most common way. **...[c5](move:c7-c5)** is an alternative (Yugoslav).
3.  **Attack the King**: Once the center is closed (d5), throw your f-pawn forward (**...[f5](move:f7-f5)**) and go for checkmate.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4 and prepare to fianchetto.",children:{c4:{explanation:"**Queen's Gambit**: White grabs more space.",children:{g6:{explanation:"**Fianchetto**: You prepare to put the Bishop on the long diagonal.",children:{Nc3:{explanation:"**Develop**: White prepares e4.",children:{Bg7:{explanation:"**The King's Bishop**: Your strong piece. It eyes the center from a distance.",children:{e4:{explanation:"**Big Center**: White has a massive pawn center. Do not be afraid.",children:{d6:{explanation:"**Control e5**: You stop White from pushing e5 and prepare your own e5 break.",children:{Nf3:{explanation:"**Classical Variation**: White develops naturally.",children:{"O-O":{explanation:"**Safety**: King to safety first.",children:{Be2:{explanation:"**Development**: White prepares to castle.",children:{e5:{explanation:"**The Strike**: You challenge the center! If White takes (dxe5), the game opens up. If White pushes (d5), you attack the King.",children:{"O-O":{explanation:"**Main Line**: White castles. The tension remains.",children:{Nc6:{explanation:"**Pressure**: You develop and pressure d4.",children:{d5:{explanation:"**Closing the Center**: White pushes past. Now the game splits: White attacks Queenside, you attack Kingside.",children:{Ne7:{explanation:"**Recoil**: You move the Knight to prepare ...f5.",children:{}}}}}}}},d5:{explanation:"**Petrosian System**: White closes the center immediately.",children:{}}}}}}}}}},f3:{explanation:"**Smisch Variation**: White solidifies the center and prepares a kingside attack.",children:{"O-O":{explanation:"**Castling**: Standard KID setup.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"english-opening",name:"English Opening",side:"white",variations:["english-reversed-sicilian","english-symmetrical","english-anglo-indian"],description:"A flank opening (1.c4) that controls the center (d5) without committing central pawns. Flexible and positional.",theory:`
### The English Opening

The **English Opening** (**1. [c4](move:c2-c4)**) is a popular choice for players who prefer positional maneuvering over sharp tactical battles. It is the fourth most popular opening move.

#### KEY STRATEGIC IDEAS:
*   **Control d5**: The pawn on c4 prevents Black from easily playing ...d5.
*   **Reversed Sicilian**: If Black plays **1... [e5](move:e7-e5)**, the position is exactly like a Sicilian Defense with colors reversed (and White has an extra tempo!).
*   **Flexibility**: White can transpose into 1.d4 openings (Queen's Gambit) or stay in independent English lines.

#### COMMON VARIATIONS:
*   **[Reversed Sicilian](opening:english-reversed-sicilian)**: **1... [e5](move:e7-e5)**. White plays like Black in a Sicilian but a move ahead.
*   **[Symmetrical English](opening:english-symmetrical)**: **1... [c5](move:c7-c5)**. Black copies White.
*   **[Anglo-Indian](opening:english-anglo-indian)**: **1... [Nf6](move:g8-f6)**. Often leads to King's Indian or Queen's Indian setups.
        `,theoryBlack:`
### Facing the English

White is playing a flexible flank opening. You have several good setups.

#### YOUR PLAN:
1.  **Reversed Sicilian**: Play **1... [e5](move:e7-e5)** to challenge the center immediately. You are playing the White side of a Sicilian!
2.  **Symmetrical**: Play **1... [c5](move:c7-c5)** for a solid game.
3.  **King's Indian Setup**: You can play **...[Nf6](move:g8-f6)** and **...[g6](move:g7-g6)** just like against 1.d4.
        `,moves:{c4:{explanation:"**The English**: You control the d5 square from the flank.",children:{e5:{explanation:"**Reversed Sicilian**: Black challenges the center. This is the most principled response.",children:{Nc3:{explanation:"**Develop**: You control d5 and e4.",children:{Nf6:{explanation:"**Develop**: Black brings out the Knight.",children:{Nf3:{explanation:"**Four Knights**: A solid, classical development.",children:{Nc6:{explanation:"**Symmetry**: Both sides have developed their Knights.",children:{g3:{explanation:"**Fianchetto**: You prepare to put the Bishop on the long diagonal to control the center.",children:{}}}}}},g3:{explanation:"**Early Fianchetto**: You delay the Knight development to control the diagonal first.",children:{}}}}}}}},c5:{explanation:"**Symmetrical Variation**: Black copies your move. The position remains balanced.",children:{Nf3:{explanation:"**Develop**: Knight to f3.",children:{Nc6:{explanation:"**Develop**: Black follows suit.",children:{d4:{explanation:"**Strike**: You open the center immediately.",children:{cxd4:{explanation:"**Trade**: Black must take.",children:{Nxd4:{explanation:"**Recapture**: You have a centralized Knight.",children:{}}}}}}}}}}}},Nf6:{explanation:"**Anglo-Indian**: Black plays flexibly, often aiming for Indian defenses.",children:{Nc3:{explanation:"**Develop**: Standard development.",children:{e6:{explanation:"**Prepare d5**: Black wants to control the center.",children:{e4:{explanation:"**Mikenas-Carls Attack**: You grab space in the center immediately.",children:{}}}}}}}}}}}},{id:"nimzo-indian",name:"Nimzo-Indian Defense",side:"black",variations:["nimzo-rubinstein","nimzo-classical","nimzo-kmoch"],description:"A hypermodern defense where Black controls the center with pieces, specifically by pinning the White Knight on c3.",theory:`
### The Nimzo-Indian Defense

The **Nimzo-Indian** (**1. [d4](move:d2-d4) [Nf6](move:g8-f6) 2. [c4](move:c2-c4) [e6](move:e7-e6) 3. [Nc3](move:b1-c3) [Bb4](move:f8-b4)**) is one of the most respected defenses against 1.d4.

#### KEY STRATEGIC IDEAS:
*   **Control e4**: By pinning the Knight on c3, Black prevents White from playing e4 and taking the full center.
*   **Doubled Pawns**: Black is often willing to trade the Bishop for the Knight (**...[Bxc3+](move:b4-c3)**) to inflict doubled c-pawns on White.
*   **Flexibility**: Black can follow up with ...d5, ...c5, or ...b6 depending on White's response.

#### WHITE'S RESPONSES:
*   **[Rubinstein System](opening:nimzo-rubinstein)**: **4. [e3](move:e2-e3)**. The most solid line.
*   **[Classical Variation](opening:nimzo-classical)**: **4. [Qc2](move:d1-c2)**. White avoids the doubled pawns.
*   **[Kmoch Variation](opening:nimzo-kmoch)**: **4. [f3](move:f2-f3)**. White fights for e4 aggressively.
        `,theoryBlack:`
### Playing the Nimzo-Indian

You are playing a sophisticated, positional game.

#### YOUR PLAN:
1.  **Restrain e4**: Your Bishop on b4 is doing the heavy lifting. Keep the pin!
2.  **Damage the Structure**: If White plays a3, take the Knight (**...[Bxc3+](move:b4-c3)**). The doubled pawns are a long-term weakness you can attack.
3.  **Control the Center**: Follow up with **...[d5](move:d7-d5)**, **...[c5](move:c7-c5)**, or **...[b6](move:b7-b6)**.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{e6:{explanation:"**The Gateway**: This move prepares ...d5 (QGD) or ...Bb4 (Nimzo).",children:{Nc3:{explanation:"**Challenge**: White prepares e4.",children:{Bb4:{explanation:"**The Nimzo-Indian**: You pin the Knight! This prevents e4 and controls the center indirectly.",children:{e3:{explanation:"**Rubinstein System**: White plays solidly, supporting d4 and preparing to develop.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{Bd3:{explanation:"**Develop**: White develops the Bishop.",children:{d5:{explanation:"**Strike**: You challenge the center now that your King is safe.",children:{Nf3:{explanation:"**Develop**: White brings the Knight out.",children:{c5:{explanation:"**Counter-Attack**: You attack the center from both sides.",children:{}}}}}}}}}}}},Qc2:{explanation:"**Classical Variation**: White prevents the doubled pawns (if ...Bxc3, Qxc3).",children:{"O-O":{explanation:"**Safety**: Castling is rarely wrong.",children:{a3:{explanation:"**Put the Question**: White forces you to decide.",children:{"Bxc3+":{explanation:"**Trade**: You give up the Bishop pair, but you gain time.",children:{Qxc3:{explanation:"**Recapture**: White keeps the pawn structure intact.",children:{b6:{explanation:"**Fianchetto**: You prepare to control the long diagonal and support c5.",children:{}}}}}}}}}}}},f3:{explanation:"**Kmoch Variation**: White wants e4 at all costs.",children:{d5:{explanation:"**Stop It**: You prevent e4 immediately.",children:{a3:{explanation:"**Challenge**: White attacks the Bishop.",children:{Be7:{explanation:"**Retreat**: You keep the Bishop pair since White has weakened their King position with f3.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"english-reversed-sicilian",name:"Reversed Sicilian",parentId:"english-opening",description:"White plays the Sicilian Defense with an extra tempo (1.c4 e5).",theory:`
### Reversed Sicilian
White plays 1.c4 and Black responds with 1...e5. This is strategically identical to the Sicilian Defense (1.e4 c5) but with colors reversed.
        `,theoryBlack:`
### Facing the Reversed Sicilian
You are playing the Black side of a Sicilian, but White is a move ahead. Fight for the center!
        `,moves:{c4:{explanation:"**The English**: You control the d5 square from the flank.",children:{e5:{explanation:"**Reversed Sicilian**: Black challenges the center. This is the most principled response.",children:{Nc3:{explanation:"**Develop**: You control d5 and e4.",children:{Nf6:{explanation:"**Develop**: Black brings out the Knight.",children:{Nf3:{explanation:"**Four Knights**: A solid, classical development.",children:{Nc6:{explanation:"**Symmetry**: Both sides have developed their Knights.",children:{g3:{explanation:"**Fianchetto**: You prepare to put the Bishop on the long diagonal to control the center.",children:{}}}}}},g3:{explanation:"**Early Fianchetto**: You delay the Knight development to control the diagonal first.",children:{}}}}}}}}}}}},{id:"english-symmetrical",name:"Symmetrical English",parentId:"english-opening",description:"Black copies White's move (1.c4 c5), maintaining the balance.",theory:`
### Symmetrical English
Black plays 1...c5, preventing White from dominating the center. The position often remains symmetrical and strategic.
        `,theoryBlack:`
### Playing Symmetrical
You copy White's plan. It's solid and safe.
        `,moves:{c4:{explanation:"**The English**: You control the d5 square from the flank.",children:{c5:{explanation:"**Symmetrical Variation**: Black copies your move. The position remains balanced.",children:{Nf3:{explanation:"**Develop**: Knight to f3.",children:{Nc6:{explanation:"**Develop**: Black follows suit.",children:{d4:{explanation:"**Strike**: You open the center immediately.",children:{cxd4:{explanation:"**Trade**: Black must take.",children:{Nxd4:{explanation:"**Recapture**: You have a centralized Knight.",children:{}}}}}}}}}}}}}}}},{id:"english-anglo-indian",name:"Anglo-Indian",parentId:"english-opening",description:"Black plays flexible Indian setups (1...Nf6).",theory:`
### Anglo-Indian
Black plays 1...Nf6, keeping options open for King's Indian, Queen's Indian, or Hedgehog setups.
        `,theoryBlack:`
### Playing Anglo-Indian
You stay flexible. You can transpose into your favorite d4 defenses.
        `,moves:{c4:{explanation:"**The English**: You control the d5 square from the flank.",children:{Nf6:{explanation:"**Anglo-Indian**: Black plays flexibly, often aiming for Indian defenses.",children:{Nc3:{explanation:"**Develop**: Standard development.",children:{e6:{explanation:"**Prepare d5**: Black wants to control the center.",children:{e4:{explanation:"**Mikenas-Carls Attack**: You grab space in the center immediately.",children:{}}}}}}}}}}}},{id:"nimzo-rubinstein",name:"Rubinstein System",parentId:"nimzo-indian",description:"The most solid response (4.e3). White develops peacefully.",theory:`
### Rubinstein System
White plays **4. [e3](move:e2-e3)**, supporting d4 and preparing to develop the King's Bishop. It is considered the most reliable way to meet the Nimzo-Indian.
        `,theoryBlack:`
### Facing the Rubinstein
White is playing solid. You should castle and then strike at the center with ...d5 or ...c5.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{e6:{explanation:"**The Gateway**: This move prepares ...d5 (QGD) or ...Bb4 (Nimzo).",children:{Nc3:{explanation:"**Challenge**: White prepares e4.",children:{Bb4:{explanation:"**The Nimzo-Indian**: You pin the Knight! This prevents e4 and controls the center indirectly.",children:{e3:{explanation:"**Rubinstein System**: White plays solidly, supporting d4 and preparing to develop.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{Bd3:{explanation:"**Develop**: White develops the Bishop.",children:{d5:{explanation:"**Strike**: You challenge the center now that your King is safe.",children:{Nf3:{explanation:"**Develop**: White brings the Knight out.",children:{c5:{explanation:"**Counter-Attack**: You attack the center from both sides.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"nimzo-classical",name:"Classical Variation",parentId:"nimzo-indian",description:"White plays 4.Qc2 to avoid doubled pawns.",theory:`
### Classical Variation
White plays **4. [Qc2](move:d1-c2)**. The idea is simple: if Black captures on c3, White recaptures with the Queen, keeping the pawn structure intact.
        `,theoryBlack:`
### Facing the Classical
White avoids the doubled pawns but loses time moving the Queen. You should open the center or fianchetto.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{e6:{explanation:"**The Gateway**: This move prepares ...d5 (QGD) or ...Bb4 (Nimzo).",children:{Nc3:{explanation:"**Challenge**: White prepares e4.",children:{Bb4:{explanation:"**The Nimzo-Indian**: You pin the Knight! This prevents e4 and controls the center indirectly.",children:{Qc2:{explanation:"**Classical Variation**: White prevents the doubled pawns (if ...Bxc3, Qxc3).",children:{"O-O":{explanation:"**Safety**: Castling is rarely wrong.",children:{a3:{explanation:"**Put the Question**: White forces you to decide.",children:{"Bxc3+":{explanation:"**Trade**: You give up the Bishop pair, but you gain time.",children:{Qxc3:{explanation:"**Recapture**: White keeps the pawn structure intact.",children:{b6:{explanation:"**Fianchetto**: You prepare to control the long diagonal and support c5.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"nimzo-kmoch",name:"Kmoch Variation",parentId:"nimzo-indian",description:"Aggressive attempt to control e4 (4.f3).",theory:`
### Kmoch Variation
White plays **4. [f3](move:f2-f3)**. This is a sharp, aggressive move. White prepares to play e4 immediately and build a massive center.
        `,theoryBlack:`
### Facing the Kmoch
White is taking risks. You must strike back at the center immediately to punish the slow development.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{e6:{explanation:"**The Gateway**: This move prepares ...d5 (QGD) or ...Bb4 (Nimzo).",children:{Nc3:{explanation:"**Challenge**: White prepares e4.",children:{Bb4:{explanation:"**The Nimzo-Indian**: You pin the Knight! This prevents e4 and controls the center indirectly.",children:{f3:{explanation:"**Kmoch Variation**: White wants e4 at all costs.",children:{d5:{explanation:"**Stop It**: You prevent e4 immediately.",children:{a3:{explanation:"**Challenge**: White attacks the Bishop.",children:{Be7:{explanation:"**Retreat**: You keep the Bishop pair since White has weakened their King position with f3.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"catalan-opening",name:"Catalan Opening",side:"white",variations:["catalan-open","catalan-closed"],description:"A sophisticated positional opening where White combines the Queen's Gambit with a kingside fianchetto.",theory:`
### The Catalan Opening

The **Catalan** (**1. [d4](move:d2-d4) [Nf6](move:g8-f6) 2. [c4](move:c2-c4) [e6](move:e7-e6) 3. [g3](move:g2-g3) [d5](move:d7-d5) 4. [Bg2](move:f1-g2)**) is a top-tier opening played by World Champions like Kramnik and Carlsen.

#### KEY STRATEGIC IDEAS:
*   **The Catalan Bishop**: The Bishop on g2 is the star. It exerts long-term pressure on the queenside and the center.
*   **Positional Squeeze**: White often sacrifices the c4 pawn temporarily to gain rapid development and initiative.
*   **Flexibility**: It combines the solidity of the Queen's Gambit with the dynamism of the Reti.

#### COMMON VARIATIONS:
*   **Open Catalan**: Black captures on c4 (**...dxc4**). White tries to regain the pawn or use the compensation.
*   **Closed Catalan**: Black holds the center with ...c6 or ...Be7.
        `,theoryBlack:`
### Facing the Catalan

White is playing for a long-term advantage. You need to be precise.

#### YOUR PLAN:
1.  **Open Catalan**: Taking the pawn (**...[dxc4](move:d5-c4)**) is the most critical test. You challenge White to prove their compensation.
2.  **Closed Catalan**: Playing solidly with **...[Be7](move:f8-e7)** and **...[O-O](move:e8-g8)** is a safer, more solid approach.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{e6:{explanation:"**The Gateway**: Black prepares ...d5.",children:{g3:{explanation:"**The Catalan**: You prepare to fianchetto the Bishop to g2. This is the signature move.",children:{d5:{explanation:"**Solid**: Black stakes a claim in the center.",children:{Bg2:{explanation:"**The Monster**: The Bishop is developed. It eyes the long diagonal.",children:{dxc4:{explanation:"**Open Catalan**: Black accepts the gambit! They want to hold onto the pawn or make you work for it.",children:{Nf3:{explanation:"**Develop**: You prevent ...e5 and prepare to castle.",children:{Be7:{explanation:"**Develop**: Black prepares to castle.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{"O-O":{explanation:"**Safety**: Black castles too.",children:{Qc2:{explanation:"**Retrieval**: You attack the c4 pawn. It is hard for Black to defend it.",children:{}}}}}}}}}}}},Be7:{explanation:"**Closed Catalan**: Black declines the gambit and develops solidly.",children:{Nf3:{explanation:"**Develop**: Standard development.",children:{"O-O":{explanation:"**Safety**: Black castles.",children:{"O-O":{explanation:"**Safety**: White castles.",children:{c6:{explanation:"**Solidify**: Black reinforces the d5 pawn, creating a wall.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"dutch-defense",name:"Dutch Defense",side:"black",variations:["dutch-leningrad","dutch-stonewall","dutch-classical"],description:"An aggressive counter-attacking defense against 1.d4. Black immediately unbalances the position with ...f5.",theory:`
### The Dutch Defense

The **Dutch Defense** (**1. [d4](move:d2-d4) [f5](move:f7-f5)**) is a sharp, double-edged opening. It is a favorite of players who want to win with Black against 1.d4.

#### KEY STRATEGIC IDEAS:
*   **Control e4**: The f5 pawn prevents White from playing e4 freely.
*   **Kingside Attack**: Black often launches a kingside attack, using the open f-file.
*   **Weak King**: The move ...f5 weakens Black's King position slightly, which White can try to exploit.

#### COMMON VARIATIONS:
*   **Leningrad Dutch**: Black fianchettoes the King's Bishop (...g6, ...Bg7). Similar to a King's Indian.
*   **Stonewall Dutch**: Black plays ...d5, ...e6, and ...f5, creating a rock-solid wall.
*   **Classical Dutch**: Black develops pieces to natural squares (...e6, ...Be7).
        `,theoryBlack:`
### Playing the Dutch

You are looking for a fight.

#### YOUR PLAN:
1.  **Control e4**: Your f5 pawn is your main asset.
2.  **Choose Your Setup**:
    *   **Leningrad**: Play **...[g6](move:g7-g6)** and **...[Bg7](move:f8-g7)** for a dynamic game.
    *   **Stonewall**: Play **...[e6](move:e7-e6)** and **...[d5](move:d7-d5)** to lock the center.
3.  **Attack**: Look for chances to attack on the kingside.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{f5:{explanation:"**The Dutch**: You aggressively control e4 and unbalance the position immediately.",children:{c4:{explanation:"**Space**: White grabs space on the queenside.",children:{Nf6:{explanation:"**Develop**: You bring the Knight out to control e4 and d5.",children:{g3:{explanation:"**Fianchetto**: White prepares to control the long diagonal, which is strong against the Dutch.",children:{g6:{explanation:"**Leningrad Dutch**: You prepare to fianchetto your own Bishop. This is the most aggressive setup.",children:{Bg2:{explanation:"**Develop**: White controls the center.",children:{Bg7:{explanation:"**Develop**: Your Bishop is a strong piece on this diagonal.",children:{Nf3:{explanation:"**Develop**: Knight to f3.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{"O-O":{explanation:"**Safety**: White castles.",children:{d6:{explanation:"**Flexibility**: You prepare ...e5 or ...c6. You are ready for the middlegame.",children:{}}}}}}}}}}}}}},e6:{explanation:"**Classical/Stonewall**: You prepare to develop the Bishop or play d5.",children:{Bg2:{explanation:"**Develop**: White controls the center.",children:{Be7:{explanation:"**Classical Dutch**: You develop the Bishop to a modest but safe square.",children:{Nf3:{explanation:"**Develop**: Knight to f3.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{"O-O":{explanation:"**Safety**: White castles.",children:{d6:{explanation:"**Fluidity**: You keep the center flexible.",children:{}}}}}}}}}},d5:{explanation:"**Stonewall Dutch**: You create a barrier in the center. It is very hard for White to break through.",children:{}}}}}}}}}}}}}}}}}},{id:"kings-indian-attack",name:"King's Indian Attack",side:"white",variations:["kia-french-setup","kia-kings-indian-setup"],description:"A flexible system for White (1.Nf3, 2.g3) that can be played against almost anything. White plays a reversed King's Indian Defense.",theory:`
### King's Indian Attack (KIA)

The **King's Indian Attack** is less of a specific sequence of moves and more of a **system**. White aims for a specific setup regardless of Black's moves.

#### THE SETUP:
White's ideal setup involves:
1.  **Nf3** and **g3** (Fianchetto)
2.  **Bg2** and **O-O** (Safety)
3.  **d3** (Controlling e4)
4.  **Nbd2** and **e4** (Central Strike)

#### KEY STRATEGIC IDEAS:
*   **Kingside Attack**: Once the center is closed (often with e5), White launches a pawn storm on the kingside.
*   **Flexibility**: You don't need to memorize sharp lines. You play understanding the plans.
*   **Reversed Positions**: You are playing the King's Indian Defense with an extra tempo.
        `,theoryBlack:`
### Facing the KIA

White is playing a "wait and see" game.

#### YOUR PLAN:
1.  **Control the Center**: Since White delays central action, you should grab space with **...d5** and **...c5**.
2.  **Solid Development**: Don't create weaknesses. A solid setup with **...Nf6**, **...e6**, and **...Be7** is often best.
3.  **Watch the Kingside**: Be ready for White's f4-g4-h4 push later in the game.
        `,moves:{Nf3:{explanation:"**The Start**: Flexible. Controls d4 and e5.",children:{d5:{explanation:"**Space**: Black grabs the center.",children:{g3:{explanation:"**The Setup**: You prepare to fianchetto.",children:{Nf6:{explanation:"**Develop**: Black develops naturally.",children:{Bg2:{explanation:"**The Bishop**: The key piece. It controls the long diagonal.",children:{c5:{explanation:"**Space**: Black grabs more space.",children:{"O-O":{explanation:"**Safety**: King is safe. Now you are ready to strike in the center.",children:{Nc6:{explanation:"**Develop**: Black controls d4.",children:{d3:{explanation:"**The Structure**: You prepare e4. Do not play d4! That turns it into a different opening.",children:{e6:{explanation:"**Solid**: Black supports d5.",children:{Nbd2:{explanation:"**The Knight**: This Knight supports e4 and avoids blocking the Bishop.",children:{Be7:{explanation:"**Develop**: Black prepares to castle.",children:{e4:{explanation:"**The Strike**: You finally claim your share of the center.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"benoni-defense",name:"Benoni Defense",side:"black",variations:["benoni-modern","benoni-czech"],description:"A dynamic, unbalanced defense (1.d4 Nf6 2.c4 c5) where Black gives White a space advantage in exchange for active piece play.",theory:`
### The Benoni Defense

The **Benoni** (**1. [d4](move:d2-d4) [Nf6](move:g8-f6) 2. [c4](move:c2-c4) [c5](move:c7-c5)**) is for players who want to win with Black. It creates immediate imbalances.

#### KEY STRATEGIC IDEAS:
*   **The Queenside Majority**: Black often has a pawn majority on the queenside (a6, b5) to push for an endgame advantage.
*   **The Bishop**: In the Modern Benoni, the Bishop on g7 is a monster, breathing fire down the long diagonal.
*   **e5 Square**: White will try to use the e5 square. Black must fight for it.

#### COMMON VARIATIONS:
*   **Modern Benoni**: White plays **d5** and **e4**. Black plays **...g6** and **...Bg7**.
*   **Czech Benoni**: Black plays **...e5**, locking the center completely.
        `,theoryBlack:`
### Playing the Benoni

You are living on the edge.

#### YOUR PLAN:
1.  **Provoke d5**: Play **...[c5](move:c7-c5)** to force White to make a decision.
2.  **Fianchetto**: In the Modern Benoni, play **...[g6](move:g7-g6)** and **...[Bg7](move:f8-g7)**.
3.  **Queenside Expansion**: Push **...a6** and **...b5** to attack White's queenside.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{c5:{explanation:"**The Benoni**: You strike at d4 immediately!",children:{d5:{explanation:"**Advance**: White accepts the challenge and grabs space.",children:{e6:{explanation:"**Undermine**: You challenge the d5 pawn immediately.",children:{Nc3:{explanation:"**Develop**: White supports the center.",children:{exd5:{explanation:"**Trade**: You open the e-file.",children:{cxd5:{explanation:"**Recapture**: White maintains the space wedge.",children:{d6:{explanation:"**Stop e5**: Crucial move. You prevent White from pushing e5.",children:{e4:{explanation:"**Space**: White takes the center.",children:{g6:{explanation:"**Modern Benoni**: You prepare to fianchetto. The Bishop will be your best piece.",children:{Nf3:{explanation:"**Develop**: Knight to f3.",children:{Bg7:{explanation:"**The Dragon**: The Bishop breathes fire down the diagonal.",children:{Be2:{explanation:"**Solid**: White develops calmly.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{"O-O":{explanation:"**Safety**: White castles.",children:{a6:{explanation:"**Prepare b5**: You start your queenside expansion plan.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"vienna-game",name:"Vienna Game",side:"white",variations:["vienna-gambit","vienna-max-lange","vienna-falkbeer"],description:"A solid yet aggressive opening (1.e4 e5 2.Nc3) where White delays developing the King's Knight to keep the f-pawn free.",theory:`
### The Vienna Game

The **Vienna Game** (**1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [Nc3](move:b1-c3)**) is a fundamental opening. By playing the Queen's Knight first, White keeps the f-pawn unblocked.

#### KEY STRATEGIC IDEAS:
*   **The f4 Break**: White often prepares to play f4 (Vienna Gambit), similar to a King's Gambit but safer.
*   **Control d5**: The Knight on c3 controls the center and prevents ...d5.
*   **Flexibility**: White can play quietly (g3, Bg2) or aggressively (f4, Qf3).

#### COMMON VARIATIONS:
*   **Vienna Gambit**: White plays **f4** immediately after Black develops.
*   **Max Lange Defense**: Black plays **...Nc6**.
*   **Falkbeer Variation**: Black plays **...Nf6**.
        `,theoryBlack:`
### Facing the Vienna

White is saving the f-pawn for later.

#### YOUR PLAN:
1.  **Develop Naturally**: **...[Nf6](move:g8-f6)** is the most common and solid response.
2.  **Watch for f4**: If White plays f4, you can often accept it or counter-attack in the center with **...d5**.
3.  **The Center**: Fight for d5.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nc3:{explanation:"**The Vienna**: You develop the Queen's Knight first. This controls d5 and keeps the f-pawn free.",children:{Nf6:{explanation:"**Falkbeer Variation**: The most popular defense. Black develops and attacks e4.",children:{f4:{explanation:"**Vienna Gambit**: You strike immediately! This is the most aggressive line.",children:{d5:{explanation:"**Counter-Strike**: The best reply. Black strikes back in the center.",children:{fxe5:{explanation:"**Capture**: You take the central pawn.",children:{Nxe4:{explanation:"**Recapture**: Black takes your pawn.",children:{Qf3:{explanation:"**Attack**: You bring the Queen out to attack the Knight and pressure the f-file.",children:{f5:{explanation:"**Support**: Black supports the Knight.",children:{}}}}}}}}}}}},g3:{explanation:"**Mieses Variation**: A quieter, positional approach. You prepare to fianchetto.",children:{d5:{explanation:"**Strike**: Black should strike in the center immediately.",children:{}}}}}},Nc6:{explanation:"**Max Lange**: Black copies your development.",children:{Bc4:{explanation:"**Develop**: Active Bishop.",children:{Bc5:{explanation:"**Symmetry**: Black copies again.",children:{d3:{explanation:"**Solid**: Preparing to develop.",children:{}}}}}}}}}}}}}}}},{id:"alekhines-defense",name:"Alekhine's Defense",side:"black",variations:["alekhine-four-pawns","alekhine-exchange","alekhine-modern"],description:"A hypermodern defense (1.e4 Nf6) where Black provokes White's pawns forward to attack them later.",theory:`
### Alekhine's Defense

**Alekhine's Defense** (**1. [e4](move:e2-e4) [Nf6](move:g8-f6)**) is a hypermodern opening that provokes White's pawns forward. The idea is simple but dangerous: lure White into overextending their center, then destroy it.

#### KEY STRATEGIC IDEAS:
*   **Provocation**: Black invites White to play e5, c4, d4, and f4.
*   **The Target**: The advanced white pawns become targets. If White cannot support them, they will fall.
*   **Piece Play**: Black relies on active piece play to undermine the center.

#### COMMON VARIATIONS:
*   **Four Pawns Attack**: White accepts the challenge and pushes everything (c4, d4, e5, f4). It's sharp and risky for both sides.
*   **Exchange Variation**: White plays d4 and c4 but trades on d6 to maintain a solid advantage without overextending.
*   **Modern Variation**: White plays d4 and Nf3, declining to chase the Knight further. This is the most solid approach.
        `,theoryBlack:`
### Playing Alekhine's

You are playing with fire, but that's the point.

#### YOUR PLAN:
1.  **The Lure**: Play **1...Nf6**. When White plays e5, go to **d5**. When c4 comes, retreat to **b6**.
2.  **The Siege**: Once White's center is established, attack it immediately!
    *   Play **...d6** to challenge the e5 pawn.
    *   Play **...c5** to challenge the d4 pawn.
    *   Develop your Bishop to **g4** to pin the Knight defending the center.
3.  **The Collapse**: If White plays carelessly, their center will crumble, leaving you with active pieces and a winning endgame.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Alekhine's Defense**: You attack the pawn immediately and invite it to advance.",children:{e5:{explanation:"**The Chase**: White accepts the challenge.",children:{Nd5:{explanation:"**The Hop**: The only good square.",children:{d4:{explanation:"**Space**: White grabs more space.",children:{d6:{explanation:"**Challenge**: You must challenge the e5 pawn immediately.",children:{c4:{explanation:"**Kick**: White kicks the Knight again.",children:{Nb6:{explanation:"**Retreat**: The Knight is safe here.",children:{f4:{explanation:"**Four Pawns Attack**: White goes all in! This is very dangerous for both sides.",children:{dxe5:{explanation:"**Open**: You open the d-file.",children:{fxe5:{explanation:"**Recapture**: White has a massive center.",children:{Nc6:{explanation:"**Develop**: You attack d4 and e5.",children:{Be3:{explanation:"**Defend**: White supports the center.",children:{Bf5:{explanation:"**Develop**: Active Bishop.",children:{}}}}}}}}}}}},exd6:{explanation:"**Exchange Variation**: White plays it safer.",children:{cxd6:{explanation:"**Recapture**: You take towards the center.",children:{Nc3:{explanation:"**Develop**: White develops naturally.",children:{g6:{explanation:"**Fianchetto**: You prepare to fianchetto the Bishop.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"scotch-game",name:"Scotch Game",side:"white",variations:["scotch-classical","scotch-schmidt","scotch-gambit"],description:"An aggressive, open game (1.e4 e5 2.Nf3 Nc6 3.d4) where White opens the center immediately to avoid the complexities of the Ruy Lopez.",theory:`
### The Scotch Game

The **Scotch Game** (**1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [Nf3](move:g1-f3) [Nc6](move:b8-c6) 3. [d4](move:d2-d4)**) is a direct attempt to dominate the center.

#### KEY STRATEGIC IDEAS:
*   **Open Center**: By playing d4 immediately, White opens lines for Bishops and the Queen.
*   **Space Advantage**: White often gets a space advantage in the center.
*   **Tactical**: The game often becomes sharp and tactical early on.

#### COMMON VARIATIONS:
*   **Schmidt Variation**: Black plays **...Nf6**.
*   **Classical Variation**: Black plays **...Bc5**.
*   **Scotch Gambit**: White sacrifices a pawn for rapid development.
        `,theoryBlack:`
### Facing the Scotch

White wants an open fight.

#### YOUR PLAN:
1.  **Take on d4**: You almost always have to play **...[exd4](move:e5-d4)**.
2.  **Develop Quickly**: Bring your pieces out to active squares. **...[Nf6](move:g8-f6)** and **...[Bc5](move:f8-c5)** are the main moves.
3.  **Equalize**: If you survive the initial pressure, Black often has a very solid position.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nf3:{explanation:"**Develop**: Attack e5.",children:{Nc6:{explanation:"**Defend**: Black defends e5.",children:{d4:{explanation:"**The Scotch**: You strike at the center immediately! No waiting around.",children:{exd4:{explanation:"**Capture**: Black must take, otherwise White will overrun the center.",children:{Nxd4:{explanation:"**Recapture**: White has a centralized Knight and open lines.",children:{Nf6:{explanation:"**Schmidt Variation**: Black attacks e4 immediately.",children:{Nxc6:{explanation:"**Trade**: You double Black's pawns but give up the strong Knight.",children:{bxc6:{explanation:"**Recapture**: Black accepts the doubled pawns to open lines for the Bishops.",children:{e5:{explanation:"**Push**: You attack the Knight and grab space.",children:{Qe7:{explanation:"**Pin**: Black pins the pawn to the King.",children:{Qe2:{explanation:"**Unpin**: You break the pin and support the pawn.",children:{Nd5:{explanation:"**Centralize**: The Knight moves to a strong square.",children:{}}}}}}}}}}}}}},Bc5:{explanation:"**Classical Variation**: Black develops the Bishop to an active diagonal and attacks the Knight.",children:{Be3:{explanation:"**Defend**: You support the Knight.",children:{Qf6:{explanation:"**Pressure**: Black piles up on the d4 Knight.",children:{c3:{explanation:"**Solidify**: You create a strong point at d4.",children:{Nge7:{explanation:"**Develop**: Black prepares to castle.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"kings-gambit",name:"King's Gambit",side:"white",variations:["kings-gambit-accepted","kings-gambit-declined","kings-gambit-falkbeer"],description:"The most romantic and aggressive opening in chess (1.e4 e5 2.f4). White sacrifices a pawn to build a massive center and attack f7.",theory:`
### The King's Gambit

The **King's Gambit** (**1. [e4](move:e2-e4) [e5](move:e7-e5) 2. [f4](move:f2-f4)**) is the most romantic and aggressive opening in chess. White sacrifices a pawn on move 2 to divert Black's e-pawn, open the f-file for the Rook, and build a massive center with d4.

#### KEY STRATEGIC IDEAS:
*   **The f-file**: After castling short, White's Rook on f1 exerts tremendous pressure on f7.
*   **The Center**: White wants to play d4, controlling the center completely.
*   **Attack**: White is playing for checkmate, often sacrificing pieces to expose the Black King.

#### COMMON VARIATIONS:
*   **Accepted**: **2...exf4**. Black takes the pawn. White usually plays 3.Nf3 to stop ...Qh4+.
*   **Declined**: **2...Bc5**. Black ignores the pawn and develops. This is a very solid practical choice.
*   **Falkbeer Counter-Gambit**: **2...d5**. Black strikes back in the center immediately.
        `,theoryBlack:`
### Facing the King's Gambit

Don't be afraid! White is taking a huge risk.

#### YOUR PLAN:
1.  **Accept (2...exf4)**:
    *   Take the pawn!
    *   Hold onto it with **...g5** if you want a fight.
    *   Or give it back with **...d5** to open lines for your pieces.
2.  **Decline (2...Bc5)**:
    *   The Bishop on c5 is annoying for White because it prevents them from castling easily.
    *   Develop your Knight to f6 and d6.
3.  **Counter-Attack (2...d5)**:
    *   Open the center and attack White's exposed King.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{f4:{explanation:"**The King's Gambit**: A pawn for a game! You attack the center from the side.",children:{exf4:{explanation:"**Accepted**: Black accepts the challenge.",children:{Nf3:{explanation:"**The King's Knight**: Essential. You prevent ...Qh4+.",children:{g5:{explanation:"**Greedy**: Black tries to hold the pawn.",children:{h4:{explanation:"**Undermine**: You attack the pawn chain immediately.",children:{g4:{explanation:"**Push**: Black attacks the Knight.",children:{Ne5:{explanation:"**The Jump**: The Knight is active.",children:{Nf6:{explanation:"**Develop**: Black develops.",children:{d4:{explanation:"**Center**: You grab the full center.",children:{}}}}}}}}}}}},d6:{explanation:"**Fischer Defense**: A modern, solid approach. Black prepares to defend f4 without weakening the kingside too much.",children:{d4:{explanation:"**Center**: You take the center.",children:{g5:{explanation:"**Solidify**: Now Black supports the pawn.",children:{h4:{explanation:"**Attack**: You must break up Black's pawns.",children:{}}}}}}}}}}}},Bc5:{explanation:"**Declined**: Black ignores the pawn. The Bishop on c5 is very strong.",children:{Nf3:{explanation:"**Develop**: You develop and control d4.",children:{d6:{explanation:"**Solid**: Black supports the center.",children:{Nc3:{explanation:"**Develop**: Standard development.",children:{Nf6:{explanation:"**Develop**: Black brings the Knight out.",children:{}}}}}}}}}}}}}}}}}},{id:"scandinavian-defense",name:"Scandinavian Defense",side:"black",variations:["scandinavian-modern","scandinavian-mieses","scandinavian-gubinsky"],description:"A solid, immediate challenge to White's center (1.e4 d5). Black forces the game into open lines.",theory:`
### The Scandinavian Defense

The **Scandinavian Defense** (**1. [e4](move:e2-e4) [d5](move:d7-d5)**) is a direct and provocative challenge to White's center. By attacking the e4 pawn immediately, Black forces the game into open lines and often simplifies the position.

#### KEY STRATEGIC IDEAS:
*   **Immediate Crisis**: White must react to the threat on e4. The most common response is **2.exd5**, leading to an open center.
*   **Solid Structure**: After the opening skirmish, Black often adopts a "Caro-Kann-like" structure with pawns on c6 and e6 (the "light-square wall").
*   **Piece Activity**: Black's pieces develop freely. The light-squared Bishop often goes to f5 or g4 before Black plays ...e6.

#### COMMON VARIATIONS:
*   **Mieses-Kotroc (Main Line)**: **2...Qxd5**. Black brings the Queen out early. It looks risky, but the Queen is surprisingly safe on a5 or d6.
*   **Modern Variation**: **2...Nf6**. Black delays recapturing, planning to take back with the Knight to avoid Queen exposure.
        `,theoryBlack:`
### Playing the Scandinavian

You are dictating the pace from move 1.

#### YOUR PLAN:
1.  **The Challenge**: Play **1...d5**. If White takes, you have a choice.
2.  **The Queen Sortie (2...Qxd5)**:
    *   If White plays Nc3, retreat the Queen to **a5** (classic), **d6** (solid), or **d8** (passive).
    *   Develop your light-squared Bishop to **f5** or **g4**.
    *   Play **...c6** and **...e6** to build a fortress.
3.  **The Knight Jump (2...Nf6)**:
    *   Recapture on d5 with the Knight.
    *   If White tries to hold the pawn with c4, undermine it!
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d5:{explanation:"**The Scandinavian**: You attack the pawn immediately.",children:{exd5:{explanation:"**Capture**: White almost always takes.",children:{Qxd5:{explanation:"**Main Line**: You bring the Queen out. It's risky but playable.",children:{Nc3:{explanation:"**Attack**: White develops and attacks the Queen.",children:{Qa5:{explanation:"**Retreat**: The classic square. The Queen is safe here and pins the Knight.",children:{d4:{explanation:"**Center**: White grabs space.",children:{Nf6:{explanation:"**Develop**: You develop naturally.",children:{Nf3:{explanation:"**Develop**: White develops.",children:{c6:{explanation:"**The Wall**: You blunt the d4 pawn and prepare a retreat for the Queen.",children:{}}}}}}}}}}}}}},Nf6:{explanation:"**Modern Variation**: You develop a piece and plan to recapture later.",children:{d4:{explanation:"**Space**: White holds onto the pawn or space.",children:{Nxd5:{explanation:"**Recapture**: You get your pawn back.",children:{c4:{explanation:"**Kick**: White kicks the Knight.",children:{Nb6:{explanation:"**Retreat**: The Knight is safe.",children:{}}}}}}}}}}}}}}}}}},{id:"pirc-defense",name:"Pirc Defense",side:"black",variations:["pirc-classical","pirc-austrian","pirc-150-attack"],description:"A hypermodern defense (1.e4 d6 2.d4 Nf6) where Black allows White to build a strong center, planning to undermine it later.",theory:`
### The Pirc Defense

The **Pirc Defense** (**1. [e4](move:e2-e4) [d6](move:d7-d6) 2. [d4](move:d2-d4) [Nf6](move:g8-f6)**) is a hypermodern opening where Black allows White to build a strong pawn center, only to attack it later. Unlike the Sicilian or French, Black does not immediately challenge the center with pawns.

#### KEY STRATEGIC IDEAS:
*   **Flexibility**: By delaying pawn commitments in the center, Black keeps their options open.
*   **The Fianchetto**: The Bishop on g7 is the star of the show. It exerts long-range pressure on the dark squares (d4, e5, h8-a1 diagonal).
*   **Counter-Punch**: Black aims to strike at White's center with **...c5** or **...e5** at the right moment.

#### COMMON PLANS:
*   **Queenside Expansion**: Black often plays ...c6, ...b5, and ...Qa5 to attack on the queenside.
*   **The Center Strike**: If White overextends, ...e5 can break open the center.
        `,theoryBlack:`
### Playing the Pirc

You are playing for a win. This is not a drawish opening.

#### YOUR PLAN:
1.  **Setup**: The first few moves are almost always **...d6**, **...Nf6**, **...g6**, and **...Bg7**.
2.  **Castling**: Castle short early to keep your King safe.
3.  **The Break**: You MUST challenge the center eventually.
    *   **...c5**: Attacks d4 and opens the c-file for your Rook.
    *   **...e5**: Challenges d4 directly.
4.  **Piece Play**: Your Knight on f6 and Bishop on g7 are your key attackers. Don't trade them lightly.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d6:{explanation:"**The Pirc**: You prepare to control e5 and develop.",children:{d4:{explanation:"**Space**: White grabs the center.",children:{Nf6:{explanation:"**Develop**: You attack e4.",children:{Nc3:{explanation:"**Defend**: White defends e4.",children:{g6:{explanation:"**Fianchetto**: You prepare to put the Bishop on the long diagonal.",children:{f4:{explanation:"**Austrian Attack**: White plays aggressively, grabbing space.",children:{Bg7:{explanation:"**The Dragon**: The Bishop is your key piece.",children:{Nf3:{explanation:"**Develop**: White supports the center.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{Bd3:{explanation:"**Develop**: White develops.",children:{Nc6:{explanation:"**Pressure**: You attack d4.",children:{}}}}}}}}}}}},Nf3:{explanation:"**Classical System**: White plays solidly.",children:{Bg7:{explanation:"**Develop**: Standard Pirc setup.",children:{Be2:{explanation:"**Develop**: White prepares to castle.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{"O-O":{explanation:"**Safety**: White castles.",children:{c5:{explanation:"**Strike**: You challenge the center.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"catalan-open",name:"Open Catalan",parentId:"catalan-opening",description:"Black captures the c4 pawn (4...dxc4), challenging White to prove compensation.",theory:`
### Open Catalan
Black plays **4... [dxc4](move:d5-c4)**. This is the most critical test of the Catalan. Black grabs the pawn and asks White "What now?".
        `,theoryBlack:`
### Facing the Open Catalan
You have the pawn. Hold onto it or give it back for equality.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{e6:{explanation:"**The Gateway**: Black prepares ...d5.",children:{g3:{explanation:"**The Catalan**: You prepare to fianchetto.",children:{d5:{explanation:"**Solid**: Black stakes a claim in the center.",children:{Bg2:{explanation:"**The Monster**: The Bishop is developed.",children:{dxc4:{explanation:"**Open Catalan**: Black accepts the gambit!",children:{Nf3:{explanation:"**Develop**: White prevents ...e5.",children:{}}}}}}}}}}}}}}}}}}}},{id:"catalan-closed",name:"Closed Catalan",parentId:"catalan-opening",description:"Black maintains the pawn center with ...Be7 or ...c6.",theory:`
### Closed Catalan
Black declines the gambit and plays solidly with **4... [Be7](move:f8-e7)**. This leads to a complex maneuvering game.
        `,theoryBlack:`
### Facing the Closed Catalan
Solid and safe. You keep the center closed and develop your pieces.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{e6:{explanation:"**The Gateway**: Black prepares ...d5.",children:{g3:{explanation:"**The Catalan**: You prepare to fianchetto.",children:{d5:{explanation:"**Solid**: Black stakes a claim in the center.",children:{Bg2:{explanation:"**The Monster**: The Bishop is developed.",children:{Be7:{explanation:"**Closed Catalan**: Black develops solidly.",children:{Nf3:{explanation:"**Develop**: Standard development.",children:{"O-O":{explanation:"**Safety**: Black castles.",children:{"O-O":{explanation:"**Safety**: White castles.",children:{}}}}}}}}}}}}}}}}}}}}}}}},{id:"dutch-leningrad",name:"Leningrad Dutch",parentId:"dutch-defense",description:"Black fianchettoes the King's Bishop (...g6), combining the Dutch with the King's Indian.",theory:`
### Leningrad Dutch
Black plays **...g6** and **...Bg7**. This is a sharp, aggressive system where Black fights for the center and kingside.
        `,theoryBlack:`
### Playing the Leningrad
You are playing for a win. The position is unbalanced and dynamic.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{f5:{explanation:"**The Dutch**: You aggressively control e4.",children:{c4:{explanation:"**Space**: White grabs space.",children:{Nf6:{explanation:"**Develop**: Control e4.",children:{g3:{explanation:"**Fianchetto**: White controls the long diagonal.",children:{g6:{explanation:"**Leningrad Dutch**: You prepare to fianchetto.",children:{Bg2:{explanation:"**Develop**: White develops.",children:{Bg7:{explanation:"**Develop**: Your Bishop is strong.",children:{Nf3:{explanation:"**Develop**: Knight to f3.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"dutch-stonewall",name:"Stonewall Dutch",parentId:"dutch-defense",description:"Black plays ...d5 and ...e6, creating a solid pawn wall in the center.",theory:`
### Stonewall Dutch
Black builds a wall with **f5**, **e6**, and **d5**. It is very hard for White to break through, but Black's light-squared Bishop is often bad.
        `,theoryBlack:`
### Playing the Stonewall
Solid as a rock. You control e4 and restrict White's pieces.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{f5:{explanation:"**The Dutch**: You aggressively control e4.",children:{c4:{explanation:"**Space**: White grabs space.",children:{e6:{explanation:"**Stonewall Setup**: You prepare d5.",children:{g3:{explanation:"**Fianchetto**: White controls the long diagonal.",children:{d5:{explanation:"**The Wall**: You lock the center.",children:{Bg2:{explanation:"**Develop**: White develops.",children:{Nf6:{explanation:"**Develop**: You develop.",children:{}}}}}}}}}}}}}}}}}},{id:"dutch-classical",name:"Classical Dutch",parentId:"dutch-defense",description:"Black develops pieces to natural squares (...e6, ...Be7) without fianchettoing or playing d5 immediately.",theory:`
### Classical Dutch
Black plays **...e6** and **...Be7**. It is a flexible system where Black keeps options open.
        `,theoryBlack:`
### Playing the Classical
Flexible and fluid. You can switch plans depending on White's play.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{f5:{explanation:"**The Dutch**: You aggressively control e4.",children:{c4:{explanation:"**Space**: White grabs space.",children:{e6:{explanation:"**Classical Setup**: You prepare to develop.",children:{g3:{explanation:"**Fianchetto**: White controls the long diagonal.",children:{Nf6:{explanation:"**Develop**: You develop.",children:{Bg2:{explanation:"**Develop**: White develops.",children:{Be7:{explanation:"**Classical Dutch**: You develop the Bishop.",children:{Nf3:{explanation:"**Develop**: Knight to f3.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"kia-french-setup",name:"KIA (French Setup)",parentId:"kings-indian-attack",description:"Black plays ...e6 and ...d5, similar to a French Defense.",theory:`
### French Setup against KIA
Black plays **...e6** and **...d5**. This is a solid, classical way to fight for the center.
        `,theoryBlack:`
### Playing the French Setup
Control the center and develop naturally.
        `,moves:{Nf3:{explanation:"**The Start**: Flexible.",children:{d5:{explanation:"**Center**: Black grabs space.",children:{g3:{explanation:"**Fianchetto**: White prepares.",children:{Nf6:{explanation:"**Develop**: Black develops.",children:{Bg2:{explanation:"**Develop**: White develops.",children:{e6:{explanation:"**French Setup**: Solid.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{Be7:{explanation:"**Develop**: Black prepares to castle.",children:{}}}}}}}}}}}}}}}}}},{id:"kia-kings-indian-setup",name:"KIA (King's Indian Setup)",parentId:"kings-indian-attack",description:"Black plays ...g6 and ...Bg7, mirroring White's setup.",theory:`
### King's Indian Setup against KIA
Black plays **...g6** and **...Bg7**. A symmetrical game where both sides fianchetto.
        `,theoryBlack:`
### Playing the King's Indian Setup
Mirror White's play but look for your own breaks.
        `,moves:{Nf3:{explanation:"**The Start**: Flexible.",children:{Nf6:{explanation:"**Develop**: Black develops.",children:{g3:{explanation:"**Fianchetto**: White prepares.",children:{g6:{explanation:"**Symmetry**: Black also fianchettoes.",children:{Bg2:{explanation:"**Develop**: White develops.",children:{Bg7:{explanation:"**Develop**: Black develops.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{"O-O":{explanation:"**Safety**: Black castles.",children:{}}}}}}}}}}}}}}}}}},{id:"benoni-modern",name:"Modern Benoni",parentId:"benoni-defense",description:"The main line. White plays e4, Black fianchettoes the King's Bishop.",theory:`
### Modern Benoni
White plays **e4** and Black plays **...g6**. This is the sharpest and most common way to play the Benoni.
        `,theoryBlack:`
### Playing the Modern Benoni
Your Bishop on g7 is your best piece. Use it!
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{c5:{explanation:"**The Benoni**: Strike at d4.",children:{d5:{explanation:"**Advance**: White grabs space.",children:{e6:{explanation:"**Undermine**: Challenge d5.",children:{Nc3:{explanation:"**Develop**: Support d5.",children:{exd5:{explanation:"**Trade**: Open the e-file.",children:{cxd5:{explanation:"**Recapture**: Maintain the wedge.",children:{d6:{explanation:"**Stop e5**: Crucial.",children:{e4:{explanation:"**Space**: White takes the center.",children:{g6:{explanation:"**Modern Benoni**: Fianchetto time.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"benoni-czech",name:"Czech Benoni",parentId:"benoni-defense",description:"Black plays ...e5 instead of ...e6, locking the center completely.",theory:`
### Czech Benoni
Black plays **...e5**. The center becomes completely locked. It's a maneuvering game.
        `,theoryBlack:`
### Playing the Czech Benoni
Close the center and maneuver.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{c5:{explanation:"**The Benoni**: Strike at d4.",children:{d5:{explanation:"**Advance**: White grabs space.",children:{e5:{explanation:"**Czech Benoni**: Lock it up.",children:{Nc3:{explanation:"**Develop**: Support d5.",children:{d6:{explanation:"**Support**: Support e5.",children:{e4:{explanation:"**Space**: White takes the center.",children:{Be7:{explanation:"**Develop**: Prepare to castle.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"vienna-gambit",name:"Vienna Gambit",parentId:"vienna-game",description:"White plays f4 immediately, attacking the center aggressively.",theory:`
### Vienna Gambit
White plays **f4**. This is the most aggressive line in the Vienna.
        `,theoryBlack:`
### Facing the Vienna Gambit
Strike back in the center with **...d5**!
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nc3:{explanation:"**The Vienna**: Develop and control d5.",children:{Nf6:{explanation:"**Falkbeer**: Develop.",children:{f4:{explanation:"**Vienna Gambit**: Attack!",children:{d5:{explanation:"**Counter-Strike**: The best reply.",children:{}}}}}}}}}}}}}},{id:"vienna-max-lange",name:"Max Lange Defense",parentId:"vienna-game",description:"Black plays ...Nc6, copying White's development.",theory:`
### Max Lange Defense
Black plays **...Nc6**. A symmetrical and solid response.
        `,theoryBlack:`
### Playing the Max Lange
Copy White's moves but be ready to break symmetry.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nc3:{explanation:"**The Vienna**: Develop.",children:{Nc6:{explanation:"**Max Lange**: Copycat.",children:{Bc4:{explanation:"**Develop**: Active Bishop.",children:{Bc5:{explanation:"**Symmetry**: Black copies again.",children:{}}}}}}}}}}}}}},{id:"vienna-falkbeer",name:"Falkbeer Variation",parentId:"vienna-game",description:"Black plays ...Nf6, the most popular and solid defense.",theory:`
### Falkbeer Variation
Black plays **...Nf6**. This attacks e4 and prepares d5.
        `,theoryBlack:`
### Playing the Falkbeer
The most solid choice. Develop your Knight and fight for the center.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nc3:{explanation:"**The Vienna**: Develop.",children:{Nf6:{explanation:"**Falkbeer**: Develop and attack e4.",children:{g3:{explanation:"**Mieses**: White plays quietly.",children:{}}}}}}}}}}}},{id:"alekhine-four-pawns",name:"Four Pawns Attack",parentId:"alekhines-defense",description:"White pushes c4, d4, e5, and f4, trying to crush Black with a massive center.",theory:`
### Four Pawns Attack
White plays **c4**, **d4**, **e5**, and **f4**. It's do or die.
        `,theoryBlack:`
### Facing the Four Pawns
White is overextended. Destroy their center!
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Alekhine's**: Provoke.",children:{e5:{explanation:"**Chase**: White advances.",children:{Nd5:{explanation:"**Hop**: Knight moves.",children:{d4:{explanation:"**Space**: White grabs space.",children:{d6:{explanation:"**Challenge**: Attack e5.",children:{c4:{explanation:"**Kick**: White kicks again.",children:{Nb6:{explanation:"**Retreat**: Safe.",children:{f4:{explanation:"**Four Pawns**: All in!",children:{}}}}}}}}}}}}}}}}}}}},{id:"alekhine-exchange",name:"Exchange Variation",parentId:"alekhines-defense",description:"White trades on d6, leading to a more solid position.",theory:`
### Exchange Variation
White plays **exd6**. A safer alternative to the Four Pawns.
        `,theoryBlack:`
### Facing the Exchange
Recapture and develop. The position is equal.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Alekhine's**: Provoke.",children:{e5:{explanation:"**Chase**: White advances.",children:{Nd5:{explanation:"**Hop**: Knight moves.",children:{d4:{explanation:"**Space**: White grabs space.",children:{d6:{explanation:"**Challenge**: Attack e5.",children:{c4:{explanation:"**Kick**: White kicks again.",children:{Nb6:{explanation:"**Retreat**: Safe.",children:{exd6:{explanation:"**Exchange**: White trades.",children:{cxd6:{explanation:"**Recapture**: Take towards center.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"alekhine-modern",name:"Modern Variation",parentId:"alekhines-defense",description:"White plays d4 and Nf3, keeping a solid center without overextending.",theory:`
### Modern Variation
White plays **Nf3**. Sensible and solid.
        `,theoryBlack:`
### Facing the Modern
White is playing it safe. You should too, or try to unbalance things.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Alekhine's**: Provoke.",children:{e5:{explanation:"**Chase**: White advances.",children:{Nd5:{explanation:"**Hop**: Knight moves.",children:{d4:{explanation:"**Space**: White grabs space.",children:{d6:{explanation:"**Challenge**: Attack e5.",children:{Nf3:{explanation:"**Modern**: Solid development.",children:{Bg4:{explanation:"**Pin**: Pin the Knight.",children:{}}}}}}}}}}}}}}}}}},{id:"scotch-classical",name:"Classical Variation",parentId:"scotch-game",description:"Black plays ...Bc5, developing actively and attacking the Knight.",theory:`
### Classical Variation
Black plays **...Bc5**. This develops a piece to a strong square and attacks the Knight on d4.
        `,theoryBlack:`
### Playing the Classical
Active piece play. Don't be afraid to trade.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nf3:{explanation:"**Develop**: Attack e5.",children:{Nc6:{explanation:"**Defend**: Black defends e5.",children:{d4:{explanation:"**Scotch**: Strike!",children:{exd4:{explanation:"**Capture**: Black takes.",children:{Nxd4:{explanation:"**Recapture**: White centralizes.",children:{Bc5:{explanation:"**Classical**: Active Bishop.",children:{Be3:{explanation:"**Defend**: Support the Knight.",children:{Qf6:{explanation:"**Pressure**: Attack d4.",children:{c3:{explanation:"**Solidify**: Support d4.",children:{}}}}}}}}}}}}}}}}}}}}}}}},{id:"scotch-schmidt",name:"Schmidt Variation",parentId:"scotch-game",description:"Black plays ...Nf6, attacking e4 immediately.",theory:`
### Schmidt Variation
Black plays **...Nf6**. This attacks e4 and forces White to make a decision.
        `,theoryBlack:`
### Playing the Schmidt
Attack the center.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nf3:{explanation:"**Develop**: Attack e5.",children:{Nc6:{explanation:"**Defend**: Black defends e5.",children:{d4:{explanation:"**Scotch**: Strike!",children:{exd4:{explanation:"**Capture**: Black takes.",children:{Nxd4:{explanation:"**Recapture**: White centralizes.",children:{Nf6:{explanation:"**Schmidt**: Attack e4.",children:{Nxc6:{explanation:"**Trade**: Double Black's pawns.",children:{bxc6:{explanation:"**Recapture**: Open lines.",children:{e5:{explanation:"**Push**: Attack the Knight.",children:{Qe7:{explanation:"**Pin**: Pin the pawn.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"scotch-gambit",name:"Scotch Gambit",parentId:"scotch-game",description:"White plays Bc4 instead of capturing on d4 immediately.",theory:`
### Scotch Gambit
White plays **Bc4**. White sacrifices the pawn for rapid development and attack.
        `,theoryBlack:`
### Facing the Scotch Gambit
Be careful. White has a lot of activity.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{Nf3:{explanation:"**Develop**: Attack e5.",children:{Nc6:{explanation:"**Defend**: Black defends e5.",children:{d4:{explanation:"**Scotch**: Strike!",children:{exd4:{explanation:"**Capture**: Black takes.",children:{Bc4:{explanation:"**Gambit**: Develop and attack f7.",children:{Bc5:{explanation:"**Develop**: Active Bishop.",children:{c3:{explanation:"**Gambit**: Offer another pawn.",children:{}}}}}}}}}}}}}}}}}}}},{id:"kings-gambit-accepted",name:"King's Gambit Accepted",parentId:"kings-gambit",description:"Black takes the pawn (2...exf4). The classic test.",theory:`
### King's Gambit Accepted
Black plays **...exf4**. "The best way to refute a gambit is to accept it."
        `,theoryBlack:`
### Playing the Accepted
Take the pawn and hold it if you can, or give it back for equality.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{f4:{explanation:"**Gambit**: Attack!",children:{exf4:{explanation:"**Accepted**: Black takes.",children:{Nf3:{explanation:"**Knight**: Prevent ...Qh4+.",children:{g5:{explanation:"**Hold**: Black holds the pawn.",children:{h4:{explanation:"**Undermine**: Attack the chain.",children:{g4:{explanation:"**Push**: Attack Knight.",children:{Ne5:{explanation:"**Jump**: Active Knight.",children:{}}}}}}}}}}}}}}}}}}}},{id:"kings-gambit-declined",name:"King's Gambit Declined",parentId:"kings-gambit",description:"Black plays ...Bc5, ignoring the pawn.",theory:`
### King's Gambit Declined
Black plays **...Bc5**. This prevents White from castling easily.
        `,theoryBlack:`
### Playing the Declined
Develop rapidly and annoy White.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{f4:{explanation:"**Gambit**: Attack!",children:{Bc5:{explanation:"**Declined**: Active Bishop.",children:{Nf3:{explanation:"**Develop**: Control d4.",children:{d6:{explanation:"**Solid**: Support center.",children:{}}}}}}}}}}}}}},{id:"kings-gambit-falkbeer",name:"Falkbeer Counter-Gambit",parentId:"kings-gambit",description:"Black plays ...d5, striking back in the center.",theory:`
### Falkbeer Counter-Gambit
Black plays **...d5**. A bold counter-attack.
        `,theoryBlack:`
### Playing the Falkbeer
Open lines and attack White's King.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{e5:{explanation:"**Symmetry**: Black challenges the center.",children:{f4:{explanation:"**Gambit**: Attack!",children:{d5:{explanation:"**Counter-Gambit**: Strike back!",children:{exd5:{explanation:"**Capture**: White takes.",children:{e4:{explanation:"**Push**: Black disrupts White.",children:{d3:{explanation:"**Challenge**: White challenges the pawn.",children:{Nf6:{explanation:"**Develop**: Support pawn.",children:{}}}}}}}}}}}}}}}}}},{id:"scandinavian-modern",name:"Modern Variation",parentId:"scandinavian-defense",description:"Black plays ...Nf6, delaying the recapture on d5.",theory:`
### Modern Scandinavian
Black plays **...Nf6**. This avoids bringing the Queen out early.
        `,theoryBlack:`
### Playing the Modern
Flexible and solid.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d5:{explanation:"**Scandinavian**: Attack!",children:{exd5:{explanation:"**Capture**: White takes.",children:{Nf6:{explanation:"**Modern**: Develop.",children:{d4:{explanation:"**Space**: White grabs space.",children:{Nxd5:{explanation:"**Recapture**: Get pawn back.",children:{c4:{explanation:"**Kick**: White kicks Knight.",children:{Nb6:{explanation:"**Retreat**: Safe.",children:{}}}}}}}}}}}}}}}}}},{id:"scandinavian-mieses",name:"Mieses-Kotroc Variation",parentId:"scandinavian-defense",description:"Black recaptures with ...Qxd5 immediately.",theory:`
### Mieses-Kotroc Variation
Black plays **...Qxd5**. The classic main line.
        `,theoryBlack:`
### Playing the Mieses
Active Queen play.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d5:{explanation:"**Scandinavian**: Attack!",children:{exd5:{explanation:"**Capture**: White takes.",children:{Qxd5:{explanation:"**Recapture**: Queen out.",children:{Nc3:{explanation:"**Attack**: White develops.",children:{Qa5:{explanation:"**Retreat**: Safe square.",children:{d4:{explanation:"**Center**: White grabs space.",children:{Nf6:{explanation:"**Develop**: Develop.",children:{Nf3:{explanation:"**Develop**: White develops.",children:{c6:{explanation:"**Wall**: Solidify.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"scandinavian-gubinsky",name:"Gubinsky-Melts Variation",parentId:"scandinavian-defense",description:"Black plays ...Qd6 instead of ...Qa5.",theory:`
### Gubinsky-Melts Variation
Black plays **...Qd6**. A modern, solid retreat.
        `,theoryBlack:`
### Playing the Gubinsky
Solid and flexible.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d5:{explanation:"**Scandinavian**: Attack!",children:{exd5:{explanation:"**Capture**: White takes.",children:{Qxd5:{explanation:"**Recapture**: Queen out.",children:{Nc3:{explanation:"**Attack**: White develops.",children:{Qd6:{explanation:"**Retreat**: Solid square.",children:{d4:{explanation:"**Center**: White grabs space.",children:{Nf6:{explanation:"**Develop**: Develop.",children:{Nf3:{explanation:"**Develop**: White develops.",children:{c6:{explanation:"**Wall**: Solidify.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"pirc-classical",name:"Classical System",parentId:"pirc-defense",description:"White develops naturally with Nf3 and Be2.",theory:`
### Classical System
White plays **Nf3** and **Be2**. A solid, positional approach.
        `,theoryBlack:`
### Facing the Classical
Standard Pirc setup. Look for ...c5 or ...e5 breaks.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d6:{explanation:"**Pirc**: Setup.",children:{d4:{explanation:"**Center**: White grabs space.",children:{Nf6:{explanation:"**Develop**: Attack e4.",children:{Nc3:{explanation:"**Defend**: White defends.",children:{g6:{explanation:"**Fianchetto**: Prepare.",children:{Nf3:{explanation:"**Classical**: Develop.",children:{Bg7:{explanation:"**Dragon**: Bishop out.",children:{Be2:{explanation:"**Develop**: Solid.",children:{"O-O":{explanation:"**Safety**: Castles.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"pirc-austrian",name:"Austrian Attack",parentId:"pirc-defense",description:"White plays f4, grabbing massive space.",theory:`
### Austrian Attack
White plays **f4**. The most aggressive line against the Pirc.
        `,theoryBlack:`
### Facing the Austrian
Strike back quickly! Don't let White roll you over.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d6:{explanation:"**Pirc**: Setup.",children:{d4:{explanation:"**Center**: White grabs space.",children:{Nf6:{explanation:"**Develop**: Attack e4.",children:{Nc3:{explanation:"**Defend**: White defends.",children:{g6:{explanation:"**Fianchetto**: Prepare.",children:{f4:{explanation:"**Austrian**: Attack!",children:{Bg7:{explanation:"**Dragon**: Bishop out.",children:{Nf3:{explanation:"**Develop**: Support center.",children:{"O-O":{explanation:"**Safety**: Castles.",children:{Bd3:{explanation:"**Develop**: Active Bishop.",children:{Nc6:{explanation:"**Pressure**: Attack d4.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"pirc-150-attack",name:"150 Attack",parentId:"pirc-defense",description:"White plays Be3 and Qd2, aiming for a kingside attack.",theory:`
### 150 Attack
White plays **Be3** and **Qd2**. A dangerous attacking system.
        `,theoryBlack:`
### Facing the 150 Attack
Expand on the queenside and delay castling if needed.
        `,moves:{e4:{explanation:"**King's Pawn**: White takes the center.",children:{d6:{explanation:"**Pirc**: Setup.",children:{d4:{explanation:"**Center**: White grabs space.",children:{Nf6:{explanation:"**Develop**: Attack e4.",children:{Nc3:{explanation:"**Defend**: White defends.",children:{g6:{explanation:"**Fianchetto**: Prepare.",children:{Be3:{explanation:"**150 Attack**: Setup battery.",children:{Bg7:{explanation:"**Dragon**: Bishop out.",children:{Qd2:{explanation:"**Battery**: Ready to trade Bishops.",children:{c6:{explanation:"**Flexibility**: Prepare b5 or Qa5.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"grunfeld-defense",name:"Grnfeld Defense",side:"black",variations:["grunfeld-exchange","grunfeld-russian"],description:"A hypermodern defense (1.d4 Nf6 2.c4 g6 3.Nc3 d5) where Black allows White a strong center to attack it later.",theory:`
### The Grnfeld Defense
The **Grnfeld Defense** (**1. [d4](move:d2-d4) [Nf6](move:g8-f6) 2. [c4](move:c2-c4) [g6](move:g7-g6) 3. [Nc3](move:b1-c3) [d5](move:d7-d5)**) is a dynamic and active defense.

#### KEY STRATEGIC IDEAS:
*   **Center Control**: Black allows White to build a large center (d4, e4) and then attacks it with ...c5 and piece play.
*   **Active Piece Play**: Black's pieces, especially the Bishop on g7, exert tremendous pressure on the center.
*   **Imbalances**: The game often leads to sharp tactical battles and structural imbalances.

#### COMMON VARIATIONS:
*   **Exchange Variation**: White takes on d5 and plays e4. The most critical test.
*   **Russian System**: White plays 4.Nf3 and 5.Qb3, putting pressure on d5.
        `,theoryBlack:`
### Playing the Grnfeld
You are inviting a fight.

#### YOUR PLAN:
1.  **Challenge the Center**: Play **...d5** immediately against 3.Nc3.
2.  **Attack**: After White builds their center, attack it with **...c5**, **...Bg7**, and **...Nc6**.
3.  **Activity**: Keep your pieces active. Passive play leads to defeat.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{g6:{explanation:"**King's Indian Setup**: You prepare to fianchetto.",children:{Nc3:{explanation:"**Develop**: White controls e4.",children:{d5:{explanation:"**The Grnfeld**: You strike in the center immediately! Unlike the KID, you don't let White play e4 easily.",children:{cxd5:{explanation:"**Exchange**: White takes the pawn.",children:{Nxd5:{explanation:"**Recapture**: You take back with the Knight.",children:{e4:{explanation:"**Center**: White grabs the full center.",children:{Nxc3:{explanation:"**Trade**: You trade Knights to double White's pawns.",children:{bxc3:{explanation:"**Recapture**: White has a massive center but weak pawns.",children:{Bg7:{explanation:"**The Dragon**: The Bishop controls the long diagonal.",children:{Bc4:{explanation:"**Develop**: White develops actively.",children:{c5:{explanation:"**Strike**: You must attack the d4 pawn immediately!",children:{}}}}}}}}}}}}}}}},Nf3:{explanation:"**Russian System**: White delays the exchange.",children:{Bg7:{explanation:"**Develop**: Standard development.",children:{Qb3:{explanation:"**Pressure**: White attacks d5.",children:{dxc4:{explanation:"**Capture**: You take the pawn to relieve pressure.",children:{Qxc4:{explanation:"**Recapture**: White takes back.",children:{"O-O":{explanation:"**Safety**: King to safety.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"grunfeld-exchange",name:"Exchange Variation",parentId:"grunfeld-defense",description:"White takes on d5 and plays e4, building a massive center.",theory:`
### Exchange Variation
White plays **cxd5** and **e4**. This is the acid test of the Grnfeld.
        `,theoryBlack:`
### Facing the Exchange
Attack the center with **...c5** and **...Bg7**. White's center is big but fragile.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{g6:{explanation:"**Setup**: Prepare fianchetto.",children:{Nc3:{explanation:"**Develop**: Control e4.",children:{d5:{explanation:"**Grnfeld**: Strike!",children:{cxd5:{explanation:"**Exchange**: White takes.",children:{Nxd5:{explanation:"**Recapture**: Knight takes.",children:{e4:{explanation:"**Center**: White grabs space.",children:{Nxc3:{explanation:"**Trade**: Double pawns.",children:{bxc3:{explanation:"**Recapture**: Big center.",children:{Bg7:{explanation:"**Develop**: Attack d4.",children:{Bc4:{explanation:"**Active**: White develops.",children:{c5:{explanation:"**Strike**: Attack d4!",children:{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"grunfeld-russian",name:"Russian System",parentId:"grunfeld-defense",description:"White plays Nf3 and Qb3, putting pressure on d5 without committing the center immediately.",theory:`
### Russian System
White plays **Nf3** and **Qb3**. A solid and annoying system.
        `,theoryBlack:`
### Facing the Russian
Take on c4 (**...dxc4**) and play actively.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: You prevent e4.",children:{c4:{explanation:"**Queen's Gambit**: White grabs space.",children:{g6:{explanation:"**Setup**: Prepare fianchetto.",children:{Nc3:{explanation:"**Develop**: Control e4.",children:{d5:{explanation:"**Grnfeld**: Strike!",children:{Nf3:{explanation:"**Russian**: Develop.",children:{Bg7:{explanation:"**Develop**: Bishop out.",children:{Qb3:{explanation:"**Pressure**: Attack d5.",children:{dxc4:{explanation:"**Release**: Take the pawn.",children:{Qxc4:{explanation:"**Recapture**: White takes back.",children:{"O-O":{explanation:"**Safety**: Castles.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"slav-defense",name:"Slav Defense",side:"black",variations:["slav-main-line","slav-exchange","slav-chebanenko"],description:"A solid defense (1.d4 d5 2.c4 c6) where Black supports the center with a pawn, keeping the light-squared Bishop free.",theory:`
### The Slav Defense
The **Slav Defense** (**1. [d4](move:d2-d4) [d5](move:d7-d5) 2. [c4](move:c2-c4) [c6](move:c7-c6)**) is one of the most solid defenses against 1.d4.

#### KEY STRATEGIC IDEAS:
*   **Solid Center**: Black supports d5 with the c-pawn, creating a strong pawn chain.
*   **Bishop Freedom**: Unlike the Queen's Gambit Declined (where ...e6 blocks the Bishop), the Slav allows the light-squared Bishop to develop to f5 or g4.
*   **Safety**: It is very hard for White to create an attack against the Slav.

#### COMMON VARIATIONS:
*   **Main Line**: Black takes on c4 (**...dxc4**) and then supports the pawn with ...b5.
*   **Exchange Slav**: White takes on d5 (**cxd5**). Very drawish and symmetrical.
*   **Chebanenko Slav**: Black plays **...a6**, preparing b5 and developing flexibly.
        `,theoryBlack:`
### Playing the Slav
You are building a wall.

#### YOUR PLAN:
1.  **Support d5**: Play **...c6**.
2.  **Develop the Bishop**: Try to get your light-squared Bishop out before playing ...e6.
3.  **Solidify**: Keep your structure intact.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{d5:{explanation:"**Symmetry**: You challenge the center.",children:{c4:{explanation:"**Queen's Gambit**: White attacks d5.",children:{c6:{explanation:"**The Slav**: You support the center with a pawn, keeping the diagonal open for your Bishop.",children:{Nf3:{explanation:"**Develop**: White develops naturally.",children:{Nf6:{explanation:"**Develop**: You develop your Knight.",children:{Nc3:{explanation:"**Develop**: White adds pressure to d5.",children:{dxc4:{explanation:"**Main Line**: You take the pawn. Now you threaten to hold it with ...b5.",children:{a4:{explanation:"**Prevent b5**: White stops your plan.",children:{Bf5:{explanation:"**Develop**: You bring the Bishop out to a strong square.",children:{e3:{explanation:"**Solid**: White prepares to recapture.",children:{e6:{explanation:"**Solidify**: Now you play e6 to support the center.",children:{Bxc4:{explanation:"**Recapture**: White gets the pawn back.",children:{Bb4:{explanation:"**Pin**: You pin the Knight.",children:{}}}}}}}}}}}}}},e3:{explanation:"**Semi-Slav**: White avoids the main line.",children:{e6:{explanation:"**Solid**: You transpose to the Semi-Slav.",children:{}}}},a6:{explanation:"**Chebanenko**: You prepare ...b5.",children:{}}}}}}}},cxd5:{explanation:"**Exchange Slav**: White takes immediately.",children:{cxd5:{explanation:"**Recapture**: Symmetry.",children:{Nc3:{explanation:"**Develop**: White develops.",children:{Nf6:{explanation:"**Develop**: You develop.",children:{Nf3:{explanation:"**Develop**: White develops.",children:{Nc6:{explanation:"**Develop**: Symmetry continues.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"slav-main-line",name:"Main Line",parentId:"slav-defense",description:"Black takes on c4 and tries to hold the pawn or develop actively.",theory:`
### Slav Main Line
Black plays **...dxc4**. This forces White to react to the threat of ...b5.
        `,theoryBlack:`
### Playing the Main Line
Take the pawn and develop your Bishop to f5.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{d5:{explanation:"**Symmetry**: Challenge center.",children:{c4:{explanation:"**Queen's Gambit**: Attack d5.",children:{c6:{explanation:"**Slav**: Support d5.",children:{Nf3:{explanation:"**Develop**: Natural.",children:{Nf6:{explanation:"**Develop**: Natural.",children:{Nc3:{explanation:"**Develop**: Pressure d5.",children:{dxc4:{explanation:"**Main Line**: Take the pawn.",children:{a4:{explanation:"**Stop b5**: White prevents expansion.",children:{Bf5:{explanation:"**Develop**: Active Bishop.",children:{e3:{explanation:"**Prepare**: To recapture.",children:{e6:{explanation:"**Solid**: Support center.",children:{Bxc4:{explanation:"**Recapture**: White takes back.",children:{Bb4:{explanation:"**Pin**: Active piece.",children:{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{id:"slav-exchange",name:"Exchange Slav",parentId:"slav-defense",description:"White takes on d5 early. A very symmetrical and solid line.",theory:`
### Exchange Slav
White plays **cxd5**. The game is often very equal and symmetrical.
        `,theoryBlack:`
### Facing the Exchange Slav
Develop naturally. It's hard to lose but hard to win.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{d5:{explanation:"**Symmetry**: Challenge center.",children:{c4:{explanation:"**Queen's Gambit**: Attack d5.",children:{c6:{explanation:"**Slav**: Support d5.",children:{cxd5:{explanation:"**Exchange**: White takes.",children:{cxd5:{explanation:"**Recapture**: Symmetry.",children:{Nc3:{explanation:"**Develop**: White develops.",children:{Nf6:{explanation:"**Develop**: You develop.",children:{Nf3:{explanation:"**Develop**: White develops.",children:{Nc6:{explanation:"**Develop**: Symmetry continues.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"slav-chebanenko",name:"Chebanenko Slav",parentId:"slav-defense",description:"Black plays ...a6, preparing ...b5 and waiting for White to commit.",theory:`
### Chebanenko Slav
Black plays **...a6**. A flexible move that prepares queenside expansion.
        `,theoryBlack:`
### Playing the Chebanenko
Flexible and solid. You can play for a win.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{d5:{explanation:"**Symmetry**: Challenge center.",children:{c4:{explanation:"**Queen's Gambit**: Attack d5.",children:{c6:{explanation:"**Slav**: Support d5.",children:{Nf3:{explanation:"**Develop**: Natural.",children:{Nf6:{explanation:"**Develop**: Natural.",children:{Nc3:{explanation:"**Develop**: Pressure d5.",children:{a6:{explanation:"**Chebanenko**: Prepare b5.",children:{c5:{explanation:"**Close**: White closes the center.",children:{Bf5:{explanation:"**Develop**: Active Bishop.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"trompowsky-attack",name:"Trompowsky Attack",side:"white",variations:["trompowsky-classical","trompowsky-solid","trompowsky-d5"],description:"An aggressive and theoretical opening (1.d4 Nf6 2.Bg5) where White immediately challenges Black's Knight.",theory:`
### The Trompowsky Attack
The **Trompowsky Attack** (**1. [d4](move:d2-d4) [Nf6](move:g8-f6) 2. [Bg5](move:c1-g5)**) is a popular alternative to the main lines of 1.d4.

#### KEY STRATEGIC IDEAS:
*   **Disruption**: White threatens to capture on f6, doubling Black's pawns.
*   **Avoidance**: It avoids the massive theory of the King's Indian, Nimzo-Indian, and Queen's Gambit.
*   **Aggression**: White often castles queenside and attacks on the kingside.

#### COMMON VARIATIONS:
*   **Classical Defense**: **2...Ne4**. Black moves the Knight to safety and attacks the Bishop.
*   **Solid Defense**: **2...e6**. Black prepares to recapture with the Queen or Bishop if White takes.
*   **2...d5**: Black plays a solid setup, ignoring the threat.
        `,theoryBlack:`
### Playing Against the Trompowsky
Don't panic. The Bishop on g5 is annoying but manageable.

#### YOUR PLAN:
1.  **Decide on the Knight**: Move it (**...Ne4**) or support it (**...e6**).
2.  **Challenge the Center**: Play **...c5** or **...d5**.
3.  **Exploit the Bishop**: The Bishop on g5 leaves the queenside slightly weakened (b2 pawn).
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: Black prevents e4.",children:{Bg5:{explanation:"**Trompowsky**: White attacks the Knight immediately.",children:{Ne4:{explanation:"**Classical**: Black moves the Knight to an active square and attacks the Bishop.",children:{Bf4:{explanation:"**Retreat**: White keeps the Bishop.",children:{c5:{explanation:"**Strike**: Black attacks the center.",children:{f3:{explanation:"**Kick**: White kicks the Knight.",children:{"Qa5+":{explanation:"**Check**: A common tactical theme.",children:{c3:{explanation:"**Block**: White blocks.",children:{Nc6:{explanation:"**Develop**: Black develops.",children:{}}}}}}}}}}}}}},e6:{explanation:"**Solid**: Black unpins the Knight.",children:{e4:{explanation:"**Gambit**: White grabs the center.",children:{h6:{explanation:"**Kick**: Black questions the Bishop.",children:{Bxf6:{explanation:"**Exchange**: White trades.",children:{Qxf6:{explanation:"**Recapture**: Black has the Bishop pair.",children:{Nc3:{explanation:"**Develop**: White develops.",children:{}}}}}}}}}}}},d5:{explanation:"**Solid**: Black ignores the threat.",children:{Bxf6:{explanation:"**Damage**: White doubles Black's pawns.",children:{exf6:{explanation:"**Recapture**: Black opens lines.",children:{e3:{explanation:"**Solid**: White solidifies.",children:{c5:{explanation:"**Strike**: Black attacks.",children:{}}}}}}}}}}}}}}}}}},{id:"trompowsky-classical",name:"Classical Defense",parentId:"trompowsky-attack",description:"Black plays 2...Ne4, attacking the Bishop and taking an active square.",theory:`
### Classical Defense
Black plays **...Ne4**. This is the most principled response.
        `,theoryBlack:`
### Playing the Classical
Active and sharp.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: Prevent e4.",children:{Bg5:{explanation:"**Trompowsky**: Attack!",children:{Ne4:{explanation:"**Classical**: Attack Bishop.",children:{Bf4:{explanation:"**Retreat**: Keep Bishop.",children:{c5:{explanation:"**Strike**: Attack center.",children:{f3:{explanation:"**Kick**: Kick Knight.",children:{"Qa5+":{explanation:"**Check**: Disrupt.",children:{c3:{explanation:"**Block**: Block check.",children:{Nc6:{explanation:"**Develop**: Develop.",children:{}}}}}}}}}}}}}}}}}}}}}},{id:"trompowsky-solid",name:"Solid Defense",parentId:"trompowsky-attack",description:"Black plays 2...e6, avoiding doubled pawns.",theory:`
### Solid Defense
Black plays **...e6**. If White takes on f6, Black can recapture with the Queen.
        `,theoryBlack:`
### Playing the Solid Defense
Solid and reliable.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: Prevent e4.",children:{Bg5:{explanation:"**Trompowsky**: Attack!",children:{e6:{explanation:"**Solid**: Unpin.",children:{e4:{explanation:"**Gambit**: Grab center.",children:{h6:{explanation:"**Kick**: Question Bishop.",children:{Bxf6:{explanation:"**Exchange**: Trade.",children:{Qxf6:{explanation:"**Recapture**: Bishop pair.",children:{Nc3:{explanation:"**Develop**: Develop.",children:{}}}}}}}}}}}}}}}}}}}},{id:"trompowsky-d5",name:"2...d5 Variation",parentId:"trompowsky-attack",description:"Black plays 2...d5, ignoring the threat to double pawns.",theory:`
### 2...d5 Variation
Black plays **...d5**. Black accepts doubled pawns for open lines.
        `,theoryBlack:`
### Playing 2...d5
Solid but accepts structural damage.
        `,moves:{d4:{explanation:"**Queen's Pawn**: White takes the center.",children:{Nf6:{explanation:"**Flexible**: Prevent e4.",children:{Bg5:{explanation:"**Trompowsky**: Attack!",children:{d5:{explanation:"**Solid**: Ignore threat.",children:{Bxf6:{explanation:"**Damage**: Double pawns.",children:{exf6:{explanation:"**Recapture**: Open lines.",children:{e3:{explanation:"**Solid**: Solidify.",children:{c5:{explanation:"**Strike**: Attack.",children:{}}}}}}}}}}}}}}}}}},{id:"birds-opening",name:"Bird's Opening",side:"white",variations:["birds-froms-gambit","birds-dutch-setup"],description:"A flank opening (1.f4) where White controls e5 and plans to attack on the kingside.",theory:`
### Bird's Opening
**Bird's Opening** (**1. [f4](move:f2-f4)**) is a flank opening that mirrors the Dutch Defense.

#### KEY STRATEGIC IDEAS:
*   **Control e5**: The move f4 clamps down on the e5 square.
*   **Kingside Attack**: White often fianchettoes the Queen's Bishop and attacks the Black King.
*   **Ne5**: The Knight on e5 is a key piece in White's attack.

#### COMMON VARIATIONS:
*   **From's Gambit**: **1...e5**. Black sacrifices a pawn to weaken White's King.
*   **Dutch Setup**: **1...d5**. Black plays a solid setup, often reversing the Dutch Defense.
        `,theoryBlack:`
### Playing Against Bird's Opening
Don't let White build a comfortable attack.

#### YOUR PLAN:
1.  **From's Gambit**: If you like tactics, play **1...e5**.
2.  **Solid Setup**: Play **1...d5** and develop naturally.
3.  **Control e4**: Fight for the e4 square.
        `,moves:{f4:{explanation:"**Bird's Opening**: White controls e5.",children:{d5:{explanation:"**Dutch Setup**: Black stops e4.",children:{Nf3:{explanation:"**Develop**: Control e5.",children:{Nf6:{explanation:"**Develop**: Control e4.",children:{e3:{explanation:"**Solid**: Prepare d4.",children:{g6:{explanation:"**Fianchetto**: Control diagonal.",children:{b3:{explanation:"**Fianchetto**: White prepares Bb2.",children:{Bg7:{explanation:"**Develop**: Bishop out.",children:{Bb2:{explanation:"**Develop**: Control e5.",children:{"O-O":{explanation:"**Safety**: Castles.",children:{}}}}}}}}}}}}}}}}}},e5:{explanation:"**From's Gambit**: Black sacrifices a pawn!",children:{fxe5:{explanation:"**Accept**: White takes.",children:{d6:{explanation:"**Gambit**: Black offers another.",children:{exd6:{explanation:"**Accept**: White takes again.",children:{Bxd6:{explanation:"**Recapture**: Black has huge activity.",children:{Nf3:{explanation:"**Develop**: Stop ...Qh4+.",children:{g5:{explanation:"**Attack**: Black attacks immediately.",children:{}}}}}}}}}}}}}}}}}},{id:"birds-froms-gambit",name:"From's Gambit",parentId:"birds-opening",description:"Black plays 1...e5, sacrificing a pawn to expose White's King.",theory:`
### From's Gambit
Black plays **...e5**. A dangerous gambit that targets White's weakened kingside (f2-g1 diagonal).
        `,theoryBlack:`
### Playing From's Gambit
Attack! Don't let White breathe.
        `,moves:{f4:{explanation:"**Bird's Opening**: Control e5.",children:{e5:{explanation:"**From's Gambit**: Strike!",children:{fxe5:{explanation:"**Accept**: Take pawn.",children:{d6:{explanation:"**Gambit**: Offer another.",children:{exd6:{explanation:"**Accept**: Take again.",children:{Bxd6:{explanation:"**Recapture**: Active Bishop.",children:{Nf3:{explanation:"**Develop**: Prevent mate.",children:{g5:{explanation:"**Attack**: Storm kingside.",children:{}}}}}}}}}}}}}}}}}},{id:"birds-dutch-setup",name:"Dutch Setup",parentId:"birds-opening",description:"Black plays 1...d5, leading to a reversed Dutch Defense structure.",theory:`
### Dutch Setup
Black plays **...d5**. A solid and classical response.
        `,theoryBlack:`
### Playing the Dutch Setup
Solid and reliable.
        `,moves:{f4:{explanation:"**Bird's Opening**: Control e5.",children:{d5:{explanation:"**Dutch Setup**: Control e4.",children:{Nf3:{explanation:"**Develop**: Control e5.",children:{Nf6:{explanation:"**Develop**: Control e4.",children:{e3:{explanation:"**Solid**: Prepare d4.",children:{g6:{explanation:"**Fianchetto**: Prepare.",children:{b3:{explanation:"**Fianchetto**: Prepare.",children:{Bg7:{explanation:"**Develop**: Bishop out.",children:{Bb2:{explanation:"**Develop**: Control e5.",children:{"O-O":{explanation:"**Safety**: Castles.",children:{}}}}}}}}}}}}}}}}}}}}}}],hf="chess-trainer-repertoire";class TS{constructor(){this.customOpenings=this.loadCustomOpenings()}loadCustomOpenings(){try{const n=localStorage.getItem(hf);if(!n)return[];const i=JSON.parse(n);return Array.isArray(i)?i:[]}catch(n){return console.error("Failed to load repertoire:",n),[]}}saveCustomOpenings(){try{localStorage.setItem(hf,JSON.stringify(this.customOpenings))}catch(n){console.error("Failed to save repertoire:",n)}}getAllOpenings(){return[...CS,...this.customOpenings]}addOpening(n){return this.getAllOpenings().find(i=>i.id===n.id)&&(n.id=`${n.id}-${Date.now()}`),this.customOpenings.push(n),this.saveCustomOpenings(),n}removeOpening(n){this.customOpenings=this.customOpenings.filter(i=>i.id!==n),this.saveCustomOpenings()}resetToDefaults(){this.customOpenings=[],this.saveCustomOpenings()}}function ES(r){let n=r.replace(/\[.*?\]/g,"");n=n.replace(/\s+/g," ").trim();const i=[];let o="",l=!1;for(let f=0;f<n.length;f++){const g=n[f];if(l){g==="}"?(l=!1,i.push({type:"comment",value:o.trim()}),o=""):o+=g;continue}if(g==="{"){o&&i.push({type:"text",value:o}),o="",l=!0;continue}if(g==="("||g===")"){o&&i.push({type:"text",value:o}),i.push({type:"symbol",value:g}),o="";continue}if(/\s/.test(g)){o&&i.push({type:"text",value:o}),o="";continue}o+=g}o&&i.push({type:"text",value:o});const s=i.filter(f=>!(f.type==="text"&&!f.value)),c={children:{}},d=new Ci;try{Ku(s,0,c,d)}catch(f){console.error("PGN Parsing Error:",f)}return{id:`custom-${Date.now()}`,name:"Imported PGN",side:"white",moves:c.children}}function Ku(r,n,i,o){let l=n;for(;l<r.length;){const s=r[l];if(s.type==="symbol"&&s.value===")")return l+1;if(s.type==="comment"){i.explanation=s.value,l++;continue}if(s.type==="text"){if(/^\d+\.+$/.test(s.value)){l++;continue}const c=s.value;let d;try{d=o.move(c)}catch{if(["1-0","0-1","1/2-1/2","*"].includes(c))return l+1;console.warn("Skipping invalid token:",c),l++;continue}if(!d){l++;continue}i.children||(i.children={});let f=i.children[d.san];f||(f={children:{}},i.children[d.san]=f);let g=l+1;for(;g<r.length;){const m=r[g];if(m.type==="comment")f.explanation=m.value,g++;else if(m.type==="symbol"&&m.value==="(")o.undo(),g=Ku(r,g+1,i,o),o.move(c);else break}return g=Ku(r,g,f,o),g}l++}return l}function NS(r){let n=`[Event "${r.name}"]
`;return n+=`[Site "Chess Trainer"]
`,n+=`[Date "${new Date().toISOString().split("T")[0]}"]
`,n+=`[White "?"]
`,n+=`[Black "?"]
`,n+=`[Result "*"]

`,n+=Yu(r.moves,1,!0),n}function Yu(r,n,i){if(!r||Object.keys(r).length===0)return"";let o="";const l=Object.keys(r);for(let s=0;s<l.length;s++){const c=l[s],d=r[c];s===0?(i?o+=`${n}. ${c} `:o+=`${c} `,d.explanation&&(o+=`{ ${d.explanation} } `),o+=Yu(d.children,i?n:n+1,!i)):(o+="( ",i?o+=`${n}. ${c} `:o+=`${n}... ${c} `,d.explanation&&(o+=`{ ${d.explanation} } `),o+=Yu(d.children,i?n:n+1,!i),o+=") ")}return o.trim()}function OS({isOpen:r,onClose:n,repertoireManager:i,onRepertoireChange:o}){const[l,s]=U.useState("import"),[c,d]=U.useState(""),[f,g]=U.useState(null),[m,x]=U.useState(null);if(!r)return null;const w=()=>{if(g(null),x(null),!c.trim()){g("Please enter a PGN string.");return}try{const O=ES(c);if(!O||!O.moves||Object.keys(O.moves).length===0){g("Failed to parse PGN. Please check the format.");return}O.name=O.name||"Custom Opening",i.addOpening(O),o(),x("Opening imported successfully!"),d("")}catch(O){g("Error importing PGN: "+O.message)}},v=O=>{confirm("Are you sure you want to delete this opening?")&&(i.removeOpening(O),o())},D=O=>{const _=NS(O);navigator.clipboard.writeText(_).then(()=>{alert("PGN copied to clipboard!")}).catch(Q=>{console.error("Failed to copy PGN:",Q),alert("Failed to copy PGN to clipboard.")})},N=i.customOpenings;return b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col border border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:"Manage Repertoire"}),b.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:b.jsx(mf,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex border-b border-gray-700",children:[b.jsx("button",{onClick:()=>s("import"),className:`flex-1 py-3 text-sm font-medium transition-colors ${l==="import"?"bg-gray-700 text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Import PGN"}),b.jsxs("button",{onClick:()=>s("manage"),className:`flex-1 py-3 text-sm font-medium transition-colors ${l==="manage"?"bg-gray-700 text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["My Openings (",N.length,")"]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l==="import"&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Paste PGN"}),b.jsx("textarea",{value:c,onChange:O=>d(O.target.value),placeholder:"1. e4 e5 2. Nf3 ...",className:"w-full h-48 bg-gray-900 text-gray-300 rounded-lg p-3 border border-gray-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 font-mono text-sm"})]}),f&&b.jsx("div",{className:"p-3 bg-red-900/30 border border-red-800 rounded-lg text-red-300 text-sm",children:f}),m&&b.jsxs("div",{className:"p-3 bg-green-900/30 border border-green-800 rounded-lg text-green-300 text-sm flex items-center",children:[b.jsx(ff,{className:"w-4 h-4 mr-2"}),m]}),b.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors font-medium shadow-lg shadow-blue-900/20",children:[b.jsx(kv,{className:"w-4 h-4 mr-2"}),"Import Opening"]})]}),l==="manage"&&b.jsx("div",{className:"space-y-3",children:N.length===0?b.jsx("div",{className:"text-center text-gray-500 py-8",children:"No custom openings yet. Import one to get started!"}):N.map(O=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/50 rounded-lg border border-gray-700",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-white",children:O.name}),b.jsxs("p",{className:"text-xs text-gray-400",children:[O.side,"  ",new Date(parseInt(O.id.split("-")[1])).toLocaleDateString()]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>D(O),className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",title:"Copy PGN",children:b.jsx(gf,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>v(O.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Delete",children:b.jsx(vv,{className:"w-4 h-4"})})]})]},O.id))})]})]})})}const xa=new Ay,Su=new TS;function DS(){const[r,n]=U.useState(new Ci),[i,o]=U.useState(Su.getAllOpenings()),[l,s]=U.useState(i.length>0?i[0]:null),[c,d]=U.useState([]),[f,g]=U.useState(null),[m,x]=U.useState(null),[w,v]=U.useState(""),[D,N]=U.useState([]),[O,_]=U.useState({}),[Q,W]=U.useState(!1),[de,pe]=U.useState(!1),[R,ce]=U.useState(!1),[ve,be]=U.useState("white"),[me,oe]=U.useState("white"),[le,Te]=U.useState(!0),[ue,G]=U.useState("default"),se=U.useMemo(()=>l?new _y(l,ve):null,[l,ve]);U.useEffect(()=>{if(!se)return;const q=se.reset();Ce(q),g(null),x(null),window.innerWidth<1024&&ce(!1)},[se]);const Ce=q=>{const ae=new Ci(q.fen);n(ae)},Z=(q,ae)=>{if(!se)return!1;const he=se.makeMove({from:q,to:ae,promotion:"q"});if(he.success)le&&(he.state.isGameOver?xa.playSuccess():xa.playMove()),Ce(he.state),g({success:!0,message:he.message}),x(!0),he.endOfLine?(By({particleCount:100,spread:70,origin:{y:.6}}),xa.playSuccess()):setTimeout(()=>{const Ie=se.getComputerMove();if(Ie){const Fe=se.makeMove(Ie);Fe.success&&(le&&xa.playMove(),Ce(Fe.state))}},500);else if(he.isValidChessMove){le&&xa.playError(),g({success:!1,message:he.message}),x(!1),setTimeout(()=>{const Fe=se.undoLastMove();Ce(Fe),x(null),g(null)},1e3);const Ie=new Ci(r.fen());Ie.move({from:q,to:ae,promotion:"q"}),n(Ie)}else return!1;return!0},ge=q=>{if(!se)return;const ae=se.goToMove(q);Ce(ae),g(null),x(null)},y=q=>{if(!q){N([]),_({});return}try{const he=new Ci(r.fen()).move(q);he&&(N([[he.from,he.to]]),_({[he.from]:{backgroundColor:"rgba(255, 255, 0, 0.4)"},[he.to]:{backgroundColor:"rgba(255, 255, 0, 0.4)"}}))}catch(ae){console.error("Error previewing move:",ae)}},S=(q,ae=!1)=>{const he=i.find(Ie=>Ie.id===q);he&&(d(ae?Ie=>[...Ie,l.id]:[]),s(he))},B=()=>{if(c.length>0){const q=c[c.length-1],ae=i.find(he=>he.id===q);ae&&(s(ae),d(he=>he.slice(0,-1)))}},C=()=>{if(!se)return;const q=se.reset();Ce(q),g({success:!0,message:"Game reset."}),setTimeout(()=>g(null),2e3),x(null)},Y=()=>{if(!se)return;const q=se.getHint();q?(g({success:!0,message:`Hint: Try playing ${q}`}),y(q),setTimeout(()=>y(null),2e3)):g({success:!1,message:"No more moves in this line."})},ee=q=>{be(q.playerColor),oe(q.boardOrientation),Te(q.soundEnabled),G(q.theme)},X=()=>{const q=Su.getAllOpenings();if(o(q),l){const ae=q.find(he=>he.id===l.id);s(ae||(q.length>0?q[0]:null))}else s(q.length>0?q[0]:null)};if(!l||!se)return b.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:"Loading openings..."});const ne={game:r,isCorrect:m,history:se.history,currentMoveIndex:se.currentMoveIndex,explanationHistory:se.explanationHistory,totalMoves:se.currentMoveIndex+se.getMaxDepth(se.currentNode),pgn:r.pgn(),fen:r.fen()};return b.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white font-sans overflow-hidden",children:[b.jsx(Dv,{onMenuClick:()=>ce(!0)}),b.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[b.jsx(Pv,{isOpen:R,onClose:()=>ce(!1),openings:i,searchQuery:w,setSearchQuery:v,currentOpening:l,openingHistory:c,onOpeningSelect:S,onBack:B,onReset:C,onHint:Y,onOpenSettings:()=>W(!0),onManageRepertoire:()=>pe(!0)}),b.jsx(bS,{gameState:ne,currentOpening:l,playerColor:ve,boardOrientation:me,theme:ue,feedback:f,previewArrows:D,previewSquares:O,onMove:Z,onMoveSelect:ge,onTheoryHover:y})]}),b.jsx(Ov,{isOpen:Q,onClose:()=>W(!1),settings:{playerColor:ve,boardOrientation:me,soundEnabled:le,theme:ue},onUpdateSettings:ee}),b.jsx(OS,{isOpen:de,onClose:()=>pe(!1),repertoireManager:Su,onRepertoireChange:X})]})}class PS extends ny.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){console.error("Uncaught error:",n,i),this.setState({error:n,errorInfo:i})}render(){return this.state.hasError?b.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong."}),b.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-red-500/50 overflow-auto",children:[b.jsx("p",{className:"text-xl font-mono mb-4",children:this.state.error&&this.state.error.toString()}),b.jsx("pre",{className:"text-sm text-gray-400 whitespace-pre-wrap",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}):this.props.children}}sy.createRoot(document.getElementById("root")).render(b.jsx(U.StrictMode,{children:b.jsx(PS,{children:b.jsx(DS,{})})}));
